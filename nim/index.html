<!DOCTYPE html>
<html lang=en>
<head>
<meta charset="utf-8">
<title>HTML5 game tutorial</title>
<link rel="stylesheet" href="../css/core.css" />
<link rel="stylesheet" href="css/boxmodel.css" />
</head>

<body>
<div class="sidebar">
<div class="logo">
<a href="../"><img src="../img/logo.png" alt="openbook home" /></a>
</div>
<nav>
<ol>
<li><a href="#top">Overview</a></li>
<li><a href="#html">Your HTML page</a></li>
<li><a href="#git">Getting Git</a></li>
<li><a href="#github">Your GitHub repo</a></li>
<li><a href="#branch">Creating a branch</a></li>
<li><a href="#game">Your game goes here</a></li>
<li><a href="#revert">Reverting changes</a></li>
<li><a href="#issue">Creating issues</a></li>
<li><a href="#image">Adding an image</a></li>
<li><a href="#div">Rows of images</a></li>
<li><a href="#css">Styling with CSS</a></li>
<li><a href="#select">Selectors and classes</a></li>
<li><a href="#mouse">Reacting to the mouse</a></li>
<li><a href="#units">CSS units</a></li>
<li><a href="#box">The CSS box model</a></li>
<li><a href="#colors">CSS colors</a></li>
<li><a href="#hover">CSS interactions</a></li>
<li><a href="#merge">Merging 2 Git branches</a></li>
<li><a href="#js">JavaScript</a></li>
<li><a href="#hide">Hiding an image</a></li>
<li><a href="#click">Detecting a click</a></li>
<li><a href="#reset">Resetting the game</a></li>
<li><a href="#button">The Reset button</a></li>
<li><a href="#elements">The game elements</a></li>
<li><a href="#layout">The game layout</a></li>
<li><a href="#turns">Whose turn is it?</a></li>
<li><a href="#rules">Enforcing rules</a></li>
<li><a href="#scope">Variables and scope</a></li>
<li><a href="#rows">One row at a time</a></li>
<li><a href="#winner">Who won?</a></li>
<li><a href="#position">Positioning an overlay</a></li>
<li><a href="#transforms">Using CSS transforms</a></li>
<li><a href="#cheats">Developer cheats</a></li>
<li><a href="#win">Showing the winner</a></li>
<li><a href="#two-players">Two-player game</a></li>
<li><a href="#housekeeping">Housekeeping</a></li>
<li><a href="#player">Computer player</a></li>
<li><a href="#random">Random moves</a></li>
<li><a href="#ai">Intelligent moves</a></li>
<li><a href="#final">Final details</a></li>
<li><a href="#toggle">Showing the rules</a></li>
<li><a href="#meta">Invisible data</a></li>
</ol>
<!--p>Future Improvements</p>
<ul>
<li><a href="#mobile">Layout for devices</a></li>
<li><a href="#confirm">Confirmation dialog</a></li>
<li><a href="#L10N">Other languages</a></li>
<li><a href="#undo">Undo actions</a></li>
<li><a href="#drag">Drag to select</a></li>
<li><a href="#auto">Automating actions</a></li>
<li><a href="#enter">ENTER = [ Done ]</a></li>
<li><a href="#a11y">Accessibility</a></li>

<li><a href="#multiplayer">Multiplayer</a></li>
<li><a href="#nodejs">NodeJS</a></li>
<li><a href="#register">Register</a></li>
<li><a href="#lobby">Find other players</a></li>
<li><a href="#remote">Remote actions</a></li>
</ul-->
</nav>
</div>

<main>
<header>
<a href="https://github.com/lexogram/openbook/blob/master/LICENSE" class="cc">&#59409;</a>
<h1>Nim : artificial intelligence</h1>
<ul class="nav">
<li>
<a href="#back"><img src="../img/arrow.png" alt="back" /></a>
</li><li>
<a href="#next"><img src="../img/arrow.png" alt="next" /></a>
</li>
</ul>
</header>

<article class="un-inverted">
<!-- YOUR HTML PAGE -->
<section id="html">
<h2>Your first HTML page</h2>
<div class="aside preview">In this step, you'll learn:
<ul>
<li>What an HTML page looks like</li>
<li>How to open a very simple HTML page in your browser</li>
</ul>
</div>
<p>I'm assuming that you have never created an HTML page before. HTML means "HyperText Markup Language". This is what a very simple HTML page looks like:</p>
<pre>&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
   &lt;title&gt;<span class="new">This appears in the tab / title bar</span>&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;p&gt;<span class="new">This appears inside the browser window</span>&lt;/p&gt;
  &lt;/body&gt;
&lt;/html&gt;
</pre>
<p>Here's how this HTML page looks in different browsers.</p>
<figure><img src="img/01_page.png" alt="screenshot of simple HTML page in different browsers"/>
<figcaption>Figure 1: How HTML &lt;title&gt; and &lt;body&gt; HTML elements appear in a browser</figcaption></figure>
<p>You can discover what all these <code>&lt;tags&gt;</code> mean in the Understanding HTML Tags section at the end of page <a href="#game">6: Your game goes here</a>. But in fact, your browser will automatically create most of these tags if they are missing, so you can start with something even simpler, for now.</p>
<h3>Do It Yourself</h3>
<p>In the programming community, it is a tradition that your first program in any new language should display the words <a href="https://en.wikipedia.org/wiki/%22Hello,_World!%22_program#History">"hello world"</a>. To honour that tradition, you can create your own Hello World page and open it in your browser.</p>
<p>If you haven't already got a text editor, <a href="http://www.sublimetext.com/2">download and install a trial copy of Sublime Text</a>. Open your text editor and create a new document. You can type <code>hello world</code> (or any other message you like), then save your file as <code>index.html</code>.</p>
<p>Find the file that you have just created on your desktop, and double-click on it. It should open in your favourite browser.</p>
<figure><img src="img/02_helloWorld.png" alt="A Hello World HTML page displayed in a browser" /><figcaption>Figure 2. A Hello World HTML page displayed in a Google Chrome</figcaption></figure>
<h3>Hello... Desktop</h3>
<p>Actually, the world can't see your message yet. This file that you saved on your local hard drive is only visible in <em>your</em> browser. Your next step will be to put an HTML file onto this server, so that anyone in the world can see it. To be precise, it will take you a total of 15 steps, including the ones that you have just taken. There will be clear instructions, explanations and screenshots to make sure that you find your way.</p>
<p class="aside next">If you are eager to continue building your game, click on the Next arrow below, or on item <a href="#git">3: Getting Git</a> in the menu on the left. Your Hello message should be online for the world to see when you have reach the end of page 5. If you need help or want to know more, click on optional sections below.</p>

<div class="optional tips">
<input type="checkbox" id="html-tips"/>
<label for="html-tips">Tips and Tricks</label>
<div>
<div class="aside tip">
On almost every page, you will find a button that allows you to Download The Source Files for that page. You might like to download these files into a separate project folder, and use them as a preview of what you will have achieved by the end of the section.
<p>If you get really stuck at any point, you can download my original files and use them to replace your own files, so that you can continue from a stable code base.</p></div>
<div class="aside tip">If you are using Sublime Text, you can use a shortcut to open your HTML file in a browser
<figure><img src="img/03_openInBrowser.png" alt="Sublime Text's right-click shortcut to open an HTML file in your browser" /><figcaption>Figure 3. Right-click on your document and choose Open In Browser</figcaption></figure>
</div>
<div class="aside info">
Why call your file <code>index.html</code>? In fact, you could call your html file anything you like. The fact that the first line is <code>&lt;!DOCTYPE html&gt;</code> tells your browser all it needs to know.<p>When you visit a site, if your browser doesn't ask for any particular file, the server on the site will send you <code>index.html</code> by default, if a file with that name exists. Unless you have a very good reason for using a different name, it is good practice to use <code>index.html</code></p></div>
</div>
</div>

<div class="optional trouble">
<input type="checkbox" id="html-trouble"/>
<label for="html-trouble">Troubleshooting your HTML page</label>
<div>
<p class="symptom">Your HTML page is not appearing correctly in the browser.</p>
<ul>
<li>If you are not using Sublime Text, perhaps your text editor is saving your files in a <code class="keyword">rich text</code> format, such as <code>.doc</code> or <code>.rtf</code>. Make sure that you are saving in a plain text format, using <code>.html</code> as the extension.</li>
<li>There may be many files called <code>index.html</code> on your computer. Make sure that you are opening the right one. If you are using Sublime Text, you can use the right-click &gt; Show in Browser shortcut, to be sure that you are opening the same document that you are working on.</li>
</ul>
<p class="aside support">If this doesn't solve your problem, please <a href="https://github.com/lexogram/openbook/issues/new">tell us what happened</a> and we'll do our best to find a solution for you.</p>
</div>
</div>
<footer>
<ul class="nav">
<li>
<a href="#git">
<img src="../img/arrow.png" alt="next"/>
</a>
</li>
</ul>
</footer>
</section>

<!-- GETTING GIT -->
<section id="git">
<h2>Getting started with Git</h2>
<div class="aside preview">In this step, you'll learn:
<ul>
<li>How to use the Terminal</li>
<li>How to install or update Git, if you need to</li>
</ul>
</div>
<p>GitHub is a meeting place for the open source community, where ideas are shared, where everyone can benefit from the energy and initiatives of others. A budding programmer like you has everything to gain from joining a community like this.</p>
<p>The Git application itself tracks the progress of your project. It creates a space for you make experiments, to make mistakes, to explore new possibilities without getting lost.</p>
<h3>git --version</h3>
<p>It's quite possible that git is already installed on your computer. To find out, <a href="/html/terminal.html">open a Terminal window</a> and type:</p>
<pre>git --version</pre>
<p>If all goes well, you should see something like the screenshot below.</p>
<figure>
<img src="img/04_versionWin.png" alt="Command Prompt showing git --" />
<img src="img/04_versionMac.png" alt="Terminal showing git --" />
<figcaption>Figure 4. Running <code>git --version</code> on different operating systems</figcaption>
</figure>
<p class="aside note">If your version of git is 1.7.9.5 or earlier, or if you see a message like <code>git is not a recognized command</code>, then you can find more details about what to do in the Installing and Updating Git section below.</p>
<p class="aside next">If you simply want to keep moving forward, then click on the Next arrow below, or on item <a href="#github">4: Your GitHub repo</a> in the menu on the left. If you want to learn more about Terminal commands, then you can continue reading the Understanding Terminal Commands section.</p>

<div class="optional trouble">
<input type="checkbox" id="git-trouble"/>
<label for="git-trouble">Installing and Updating Git</label>
<div>
<h4>Installing Git on Windows</h4>
<p>The easiest way to install Git on the Windows is to <a href="https://git-scm.com/download/win">download an installer</a>. When you click on the link, the download should start automatically.</p>
<p class="aside note">You can launch the installer application and simply click on the Next &gt; button, <strong>until you reach the screen Adjusting Your PATH Environment</strong>. (See image below). Here, it is best to select the Use Git From The Windows Command Prompt radio button. The Windows Command Prompt uses the Windows-standard <code>/</code> character in path names, which means that you can copy and paste path names from the Explorer windows, or drag files onto the Command Prompt window to paste their paths automatically into the window. Perhaps later, you will prefer to use the Git Bash application: selecting the second radio button, as shown in the image below, will allow you to choose the option you like best.</p>
<figure>
<img src="img/04_installGitWindows.png" alt="" />
<figcaption>Figure 5. Choose - Use Git From The Windows Command Prompt</figcaption>
</figure>
<h4>Installing Git on Mac OS X</h4>
<p>If <code>git --version</code> tell you <code>command not found: git</code>, then you can download an installer for Git and run the installer</p>
<p>If you are using Mac OS 10.9 (Mavericks) or later, you can <a href="http://git-scm.com/download/mac">download an installer</a> from the git-scm.com site.</p>
<p>If your version of Mac OS X is older (but no older than OS 10.6 Snow Leopard), then you can use the latest Snow Leopard installer that you can find at<a href="http://sourceforge.net/projects/git-osx-installer/files/">sourceforge.net</a></p>
<p class="aside note">The sourceforge site contains commercial advertising, and may include links to third-party sites that masquerade as download buttons. It is safe to click on the links with the format <em>git-2.x.x-intel-universal...dmg</em>.</p>
<p>When you have downloaded the DMG file that is appropriate for your version of Mac OS X:</p>
<ul>
<li>Double-click on the downloaded file</li>
<li>Right-click on the yellow PKG icon and select Open from the contextual menu. (If you simply double-click, Mac OS X may tell you that it cannot be opened.)</li>
<li>Click Open in the dialog window</li>
<li>Enter the name and password of an admin user, to allow the installation</li>
<li>Click through the Continue buttons in the installation dialog</li>
<li>Click on Close when the installation is finished</li>
</ul>
<figure>
<img src="../img/GitOnMac.png" alt="Installing Git on Mac OS X" />
<figcaption>Figure 6. Installing Git on Mac OS X</figcaption>
</figure>

<h4>Updating Git: Mac</h4>
<p>If you have installed other coding environments, such as XCode, Git may already be installed on your Mac. However, it's possible that this previously installed version is now considered obsolete, and that you will need to upgrade it. If <code>git --version</code> tells you that you have version 1.7.9.5 or earlier, you might run into errors if you relied on it to follow the instructions in section 5.</p>
<p>Your other coding environment may rely on this older version for housekeeping duties, so it is best not to change it. The safest option is to install an up-to-date version of Git, and to use the newer version for all your work.</p>
<p>To do this, follow the Install Git on Mac instructions above.</p>
<p>To tell your Mac that you want to use the newer version, you need to execute some commands in the Terminal. Here are commands that I use on Mac OS 10.8.5 after running the Git installer for version 2.3.5:</p>
<pre class="revised"><span class="new">git --version</span>
git version 1.7.4.4
<span class="new">which git</span>
/usr/bin/git</pre>
<p>The original version is still active. It as located in a hidden folder. The Git installer places the new version in a different hidden file. The next command tells Mac OS X where to find the newer version. The following commands confirm that the newer version is now active.</p>
<pre>
<span class="new">PATH=/usr/local/git/bin:$PATH</span>
<span class="new">which git</span>
/usr/local/git/bin/git
<span class="new">git --version</span>
git version 2.3.5
</pre>
<h4>Installing Git on a Unix-like system</h4>

<p class="aside support">If this doesn't solve your problem, please <a href="https://github.com/lexogram/openbook/issues/new">tell us what happened</a> and we'll do our best to find a solution for you.</p>
</div>
</div>

<div class="optional details">
<input type="checkbox" id="git-details"/>
<label for="git-details">Understanding Terminal Commands</label>
<div>
<h4>Command Line Tools</h4>
<p>You probably have plenty of experience using a mouse in a point-and-click <span class="keyword">graphic user interface</span> (GUI). You are used to double-clicking on files to open them, and dragging them from one folder to another, to move them. You are used to opening an application when you want to send an email, edit a photo or listen to music. There is always visual feedback on the screen to tell you, a human, what is happening. Even if it's only an endless progress bar.</p>
<p>And yet, at any given time, there are many applications running on your computer which do not appear anywhere on the screen. These are the <span class="keyword">command-line tools</span> (CLT).</p>
<p>When you go to a restaurant, you see the waiters who come to your table, with their little notebooks, but you do not normally see the cooks. Without the cooks, however, the restaurant would fail.</p>
<p>When you type a command into a Terminal window, you can imagine that you are talking directly to the cooks that produce all the goodness. The Terminal window is the equivalent of a waiter's notebook.</p>
<p>The operating system itself takes care of some commands, like <code>cd&nbsp;</code>. Other commands need a special <span class="strike">chef</span>  CLT application to take care of them, so you need to refer to the name of the application first. For example, <code>git --version</code> tells the application <code>git</code> (which has no window that you can see on the screen) to send back information about which <code>version</code> it is.</p>
<h4>Git commands</h4>
<p>To see all the commands that <code>git</code> can understand, you can type <code>git --help</code>.</p>
<p>For information on all these commands, you can refer to <a href="https://git-scm.com/docs">the official documentation</a>. However, this information can be overwhelming. Each time a <code>git</code> command is first used in this tutorial, you will find more information about how to use it in the optional sections at the foot of this page.</p>
</div>
</div>

<div class="optional tips">
<input type="checkbox" id="git-tips"/>
<label for="git-tips">Tips and Tricks</label>
<div>
<h4>Particularities of the Terminal application</h4>
<div class="aside tip">You are probably used to editing text in a word processor. In a word processor, you can:
<ul>
<li>Select a chunk of text with your cursor</li>
<li>Replace that chunk of text by simply typing over it</li>
<li>Remove the selected text with keyboard shortcut for Cut</li>
<li>Easily undo and redo your actions</li>
</ul>
<p>In a word processor, you can also place the text insertion point anywhere you want and type to insert new text.</p>
<p>Terminal applications do not work that way.</p>
<p>In a Terminal application, you cannot cut or replace text, and you must use the arrow keys (rather than the mouse) to place the text insertion point. To delete text, you must place the text insertion point at the end of the text to delete and then use the backspace key to delete the characters one by one.</p>
<p>This may seem awkward to you at first, but it allows you to keep your hands over the keyboard at all times; you never need to reach out sideways for the mouse.</p>
<p>If, regrettably, you enter a command that does something that you did not want to do, your only solution is to enter a new command that explicitly undoes that precise action. It's good to check your command carefully before you press the Enter key.</p>
</div>
<h4>Copy and Paste in the Windows Command Prompt</h4>
<p class="aside tip">The standard keyboard shortcuts like <code>Ctrl-C</code> and <code>Ctrl-Z</code> were introduced by Apple in 1984 and were adopted in Windows applications only much later. The Windows Command Prompt uses an older keyboard shortcut system. In the Windows Command Prompt, you will need to use <code>Alt-Spacebar</code> to show a contextual menu, and then press the letter that appears underlined in the menu item that you want to use.<br /><br />For example, to select text, you can press <code>Alt-Spacebar</code> then E (for <code><span class="under">E</span>dit</code>), then M (for <code><span class="under">M</span>ark</code>). You can now use the arrow keys to move the selection around and extend it. Pressing Enter will copy the highlighted text to your clipboard. Use <code>Alt-Spacebar <span class="under">E</span>dit</code>, <code><span class="under">P</span>aste</code> to paste your text.</p>
<h4>Using Git in other ways</h4>
<p class="aside tip">You can use the Git application to work with many different sites that provide version control hosting. Some examples are: <a href="https://bitbucket.org/">Bitbucket</a>, <a href="https://gitlab.com/">GitLab</a> and <a href="https://launchpad.net/">Launchpad</a>. Other sites that help you to create applications in the cloud, such as <a href="https://www.heroku.com/">Heroku</a> and <a href="https://c9.io/">Cloud 9</a> offer integration with GitHub.<br /><br />You can find a list of hosted version control services on <a href="http://www.slant.co/topics/153/~what-is-the-best-hosted-version-control-service">slant.co</a></p>
</div>
</div>
<footer>
<ul class="nav">
<li>
<a href="#github">
<img src="../img/arrow.png" alt="next"/>
</a>
</li>
</ul>
</footer>
</section>

<!-- YOUR GITHUB REPO -->
<section id="github">
<h2>Your GitHub repository</h2>
<div class="aside preview">In this step, you'll learn:
<ul>
<li>How to create a free GitHub account</li>
<li>How to create a Git repository on the GitHub server</li>
</ul>
</div>
<p>Now you're ready to open a GitHub acccount. This wont't take long (although finding a username that you like and that isn't already taken can be time-consuming). I've used the name "blackslate" in my examples.</p>
<p>Go to the <a href="https://github.com/join">Join GitHub</a> page, and fill in the form.</p>
<p class="aside note">At the time of writing, Git requires you to use only the characters <code>A-Z</code>, <code>a-z</code> and <code>-</code> (hyphens) for your username and for the names of your projects. Names with other punctuation, special characters, accents or non-Roman letters, like <span class="gold">!android_</span> or <span class="gold">Andréa</span> or <span class="gold">Андрей</span>, are not permitted.</p>
<p>The first page asks for a username and an email address that are not currently registered on GitHub. It will also ask you to enter a password. At the beginning, at least, you will be typing this username and password often.</p>
<figure>
<img src="img/05_joinGitHub.png" alt="" />
<figcaption>Figure 7. Create a personal account on GitHub</figcaption>
</figure>
<p>On the second page, you can accept the Free plan, which is already chosen as the default. Simply press the Finish Sign Up button.</p>
<figure>
<img src="img/06_choosePlan.png" alt="" />
<figcaption>Figure 8. Choose a free plan</figcaption>
</figure>
<p>This is the very first time you are visiting GitHub as a registered user, so you see a special screen, suggesting that you take the official tour of what Git and GitHub can do for you. When you return to this page in the future, the top section will be different.</p>
<figure>
<img src="img/07_newRepository.png" alt="" />
<figcaption>Figure 9. You're ready to create a repository</figcaption>
</figure>
<p class="aside tip">You might like to take GitHub's own tour now, to learn about the basic Git commands, or you might like to bookmark the <a href="https://guides.github.com/activities/hello-world/">Hello World tutorial</a> or the <a href="try.github.io/">Try Git tutorial</a> so that you can come back to these after the world has seen you say "Hello!"</p>
<p>On the right of the page, you can see a big green New Repository button. Click on that and fill in the Repository Name field. A new page will appear. This first time, to keep everything simple, leave everything else exactly the way it is, and just click on the Create Repository button. (You might like to fill in the optional Description field, though.)</p>
<figure>
<img src="img/08_createRepository.png" alt="" />
<figcaption>Figure 10. Give your project a name</figcaption>
</figure>
<p>You'll find yourself on a page full of choices and command line code. No worries. When you find yourself here again later, you will have a much clearer understanding of what all this means.</p>
<figure>
<img src="img/09_copyRepoURL.png" alt="" />
<figcaption>Figure 11. Copy the URL for your new repository</figcaption>
</figure>
<p>The most important thing to do now is to <strong>copy the URL for your new GitHub repository</strong>. You can do this by clicking on the Copy To Clipboard button, as shown in Figure 11 above. You'll need to paste this URL into a Terminal window in the next step.</p>
<p class="aside next">Your immediate aim is to get your Hello World page online, so I propose to take an unconventional shortcut. If you want to know what the conventional path is, then you can read the Branches and Pages section below. If you want to move along quickly, just click on the Next arrow below, or on item <a href="#branch">5: Creating a branch</a> in the menu on the left.</p>

<div class="optional details">
<input type="checkbox" id="github-details"/>
<label for="github-details">Branches and Pages</label>
<div>
<p>In this tutorial, you will be following a path that has already been prepared for you, taking predictable steps to recreate something that already exists. This is reassuring, but it is not how you will be working in the future.</p>
<p>When you start working on your first real project, you will be creating something that is different from anything anyone else has ever made before. There will be no clear path; there will be many possible paths that you can follow. You will not know in advance which ones will bring you to a dead end, and which ones will lead you to where you plan to go. You may not even be entirely sure where your journey will lead you. The original creators of iTunes were probably focused on playing music; they did not imagine that their project would develop into a shopping mall.</p>
<p>The purpose of Git is to allow you to explore many possible paths at the same time. You can test two different techniques for achieving the same result, and then decide which is better. Different developers can move off in different directions, each creating something new, and then the whole team can discuss which approach is likely to be the best way forward. Perhaps later, you will discover something that makes you realize that one of the abandoned paths is in fact the right one to take.</p>
<p>Git allows you to keep track of all the paths that anyone in the team has followed. It allows you bring all the best discoveries from the secondary paths, and to weave them all together into a single strand.</p>
<p>Git uses a mixed bag of words to describe this process. It uses words like <span class="keyword">branch</span>, <span class="keyword">fork</span>, <span class="keyword">clone</span>, <span class="keyword">checkout</span>, <span class="keyword">merge</span>, <span class="keyword">push</span> and <span class="keyword">pull</span>. You can find a full list of all the keywords used by Git <a href="https://git-scm.com/docs">here</a>.</p>
<h4>Branches</h4>
<p>As a rule, you start a project with a single branch called <span class="keyword">master</span>. The master branch will contain only code that has been tested extensively, to ensure that it is stable. Each time you want to make a change (which might not be so stable), you create a new branch, and you work on that. Let's imagine that you call the new branch <span class="keyword">develop</span>. When you first create the develop branch, it is identical to the master branch. When you have tested your new code and have decided that the develop branch is stable, you can merge the changes back into the master branch, like one arm of a river flowing back into the main channel. After each new merge, the master branch and the develop branch might again be identical. You can continue working in the develop branch, and make additional branches from that. Your additional branches may be for proposed bug fixes, for new features and for experiments.</p>
<figure>
<img src="https://git-scm.com/images/about/branches@2x.png" width="500" height="288" alt="Branches">
<figcaption>Figure 12. The multiple paths or <span class="keyword">branches</span> in a project repository</figcaption>
</figure>
<p>You can give your branches any name you like (so long as they only use the 53 permitted characters). Normally, you would use a name that describes the change you are about to make.</p>
<h4>Pages</h4>
<p>While you are working on a project, it is often helpful to maintain a web site to let people know what you are doing, how they can help, and how your project can help them. GitHub has used a neat technique that allows you to integrate your web site into your GitHub repository itself.</p>
<p><strong>If you create a special branch called <span class="keyword">gh-pages</span> (short for GitHub pages), and you place a file named <code>index.html</code> in the root folder of the branch, then GitHub will automatically treat the gh-pages branch as a web site.</strong></p>
<p>You can find more information about this at <a href="https://pages.github.com/">GitHub Pages</a>.</p>
<p>To get your first project online as quickly as possible, you can:</p>
<ul>
<li>Create a repository (as you have just done) and leave it empty. If it is empty, it has no master branch.</li>
<li>Create a gh-pages branch (as you are about to do) and use it for all your development.</li>
<li>Create secondary branches, as your work progresses, and merge them back into the gh-pages branch when you are ready.</li>
</ul>
<p>Telling the world about your project is the best way to find people who are willing to help you. In future projects, you will know how to create a strong web presence, right from the beginning. In future projects, you will know to use the <span class="keyword">master</span> branch for your main development.</p>
</div>
</div>
<footer>
<ul class="nav">
<li>
<a href="#branch">
<img src="../img/arrow.png" alt="next"/>
</a>
</li>
</ul>
</footer>
</section>

<!-- CREATING A BRANCH -->
<section id="branch">
<h2>Creating a branch</h2>
<div class="aside preview">In this step, you'll learn how to put your HTML page online. In particular:
<ul>
<li>How to set the Terminal window to talk to a given directory</li>
<li>How to copy your Git repository from the GitHub server to your computer</li>
<li>How to tell Git what changes you have made</li>
<li>How to synchronize the repository on the remote GitHub server with the repository on your computer</li>
</ul>
</div>
<blockquote>Any sufficiently advanced technology is indistinguishable from magic.
<cite>Arthur C. Clarke</cite>
</blockquote>
<p>You've just created an empty repository, like a dry river bed. And now I'm going to show you how to make a special <span class="keyword">branch</span> from this repository. This is much easier to do when the repository is still empty.</p>
<p class="aside kudos">Many thanks to <a href="https://github.com/cmrberry">Rachel Berry</a> of GitHub for pointing out this technique to me.</p>

<p>The next few instructions may seem a little like magic to you for now, but you will soon make sense of them. In the Understanding Cloning section below, you can read up about the <code>git</code> commands that you will be using.</p>
<p class="aside tip">One of the commands you will be using is <code>commit</code>. This requires you to include a note to describe what you have changed. I am guessing that you are not familiar with command line text editors, so I strongly recommend that you configure Git to use Sublime Text as its default text editor. You can find instructions for this in the Tips and Tricks section below. You will be thankful you did this when you reach section 7: Reverting changes.</p>
<p>Here's what you need to do:</p>
<ul>
<li><strong>On your desktop, create an empty folder</strong> in the place where you would like to save your new project. I have called my folder <code>nim</code>. It might be easier for you if you do the same.</li>
<li><strong><a href="html/terminal.html">Open a Terminal window</a></strong>. You're going to type 9 commands in all. First you are going to create a command that gives the Terminal control of your new <code>nim</code> folder. You'll create the command in three separate stages. The complete command might look something like this:<br />
<code>cd /Users/james/nim</code></li>
<li>
<ol>
<li><strong>Type <code>cd&nbsp;</code></strong> (that's "cd " followed by a space). This means <span class="keyword">change directory</span>.</li>
<li><strong>Drag the icon of your <code>nim</code> folder onto the Terminal window</strong>. This will automatically insert the path to your folder after the <code>cd&nbsp;</code> that you have just typed.</li>
<li><strong>Press the Enter key</strong> to execute the command. The Terminal now has power over what happens in your <code>nim</code> folder.</li>
</ol>
</li>
</ul>

<figure>
<img src="img/10_cdCommand.png" alt="" />
<figcaption>Figure 13. Using the <code>cd</code> command in a Terminal window</figcaption>
</figure>

<ul>
<li>Still in the Terminal window:</li>
<li><ol>
<li><strong>Type: <code>git clone&nbsp;</code></strong> (with a space after "clone")</li>
<li><strong>Paste in the URL that you copied</strong> at the end of the last step</li>
<li><strong>Add a space and <code>&nbsp;gh-pages</code></strong>. The complete command might look something like this, except that you will use your own username instead of "blackslate":<p><code>git clone https://github.com/<strong>blackslate</strong>/nim.git gh-pages</code></p>
<p><em>Don't simply copy and paste this line: make sure that you have correctly entered your own username, and that you have used the right name for your repository, before you press the Enter key.</em></p></li>
<li><strong>Press the Enter key</strong>.</li>
</ol>
</li>
</ul>

<p class="aside note">On Windows, the standard Ctrl-V keyboard shortcut may not work in a Command Prompt window. You may need to right-click, then select Paste from the contextual menu.</p>
<p>Inside your <code>nim</code> folder you should now see a folder named <code>gh-pages</code>. The clone command should have copied into it all the contents of your new repository on the GitHub server (in other words, nothing, since your new repository is still empty). The output in the Terminal should look something like this:</p>
<figure>
<img src="img/11_clone.png" alt="" />
<figcaption>Figure 14. Using <code>git clone</code> to create a local repository.</figcaption>
</figure>
<p>The <code>git clone</code> command also created an invisible folder called <code>.git</code> inside the new <code>gh-pages</code> folder, as you can see in Figure 15 below. This contains all the data that the Git application needs to keep track of the changes that you make to your project.</p>
<figure>
<img src="img/12_invisibleGit.png" alt="" />
<figcaption>Figure 15. The contents of the invisible <code>.git</code> folder</figcaption>
</figure>
<p class="aside tip">To learn how to make "invisible" files visible on your computer, you can read the Tips and Tricks section below.</p>
<p>Now for some more command line magic. (Do you remember what the <code>cd&nbsp;</code> command does?)</p>
<ul>
<li>In the Terminal window, <strong>type the following 3 commands</strong>:</li>
</ul>
<pre>cd gh-pages
git checkout --orphan gh-pages
git status</pre>
<p>To understand what the <code>checkout --orphan</code> command does, see the Understanding Git Commands section below. The <code>git status</code> command is one that you will use often. It lists all the files that you have changed, before you <span class="keyword">commit</span> the changes to Git's memory system.</p>
<p>Here's how your Terminal window might look now:</p>
<figure>
<img src="img/13_orphanBranch.png" alt="" />
<figcaption>Figure 16. Checking out a new <span class="keyword">orphan</span> branch of your project</figcaption>
</figure>
<p>Just a few more actions, and you'll see your Hello World web page online.</p>
<ul>
<li>On your computer desktop, find the <code>index.html</code> file that you made in step 2, and <strong>drag or copy your <code>index.html</code> file into your new <code>gh-pages</code> folder</strong>.</li>
<li>In the Terminal window, run the <code>git status</code> command again. You'll see that Git is aware of the change that you have made.</li>
</ul>
<figure>
<img src="img/14_status.png" alt="" />
<figcaption>Figure 17. The <code>status</code> of your project is updated each time you make a change.</figcaption>
</figure>
<ul>
<li>Now you're going to tell Git that you are confident about the changes that you have made. In the Terminal window, <strong>type the following 3 commands</strong>:</li>
</ul>
<pre>git add -A
git commit -m "Initial commit to the gh-pages branch"
git push origin gh-pages
</pre>
<figure>
<img src="img/15_commit.png" alt="" />
<figcaption>Figure 18. Pushing your changes to the remote GitHub repository</figcaption>
</figure>
<p>Git will ask you for the username and password that you registered when you created your Git account. When you type your password in the Terminal window, no characters will appear. Press Enter when you're done.</p>
<p>That's it! Now you can visit your new web site. <strong>In your browser, type in the URL for your GitHub site</strong>. For me, it will be:</p>
<a href="http://blackslate.github.io/nim/" class="url">http://blackslate.github.io/nim/</a>
<p>For you, if you called your repository "nim", then all you have to do is replace my "blackslate" username with your own username.</p>
<p>http://<strong>&lt;yourUserName&gt;</strong>.github.io/nim/</p>
<figure>
<img src="img/16_helloWorld.png" alt="" />
<figcaption>Figure 19. A Hello that the world can see</figcaption>
</figure>
<div class="aside next">Congratulations! You have completed the first challenge: getting your first web page online in just 15 steps. Here's what you 've done so far. You:
<ol>
<li>Installed Sublime Text, if you didn't already have it</li>
<li>Created and saved a very simple <code>index.html</code> file</li>
<li>Opened the file in your browser</li>
<li>Found the Terminal application </li>
<li>Checked which version of Git is installed, using <code>git --version</code></li>
<li>Installed or updated Git, if that was necessary</li>
<li>Created an account on GitHub, if you didn't already have one</li>
<li>Created a new, empty repository on the GitHub server</li>
<li>Chose a folder on your computer to contain your project files</li>
<li>Typed commands in the Terminal window to clone your new GitHub repository onto your computer into a <code>gh-pages</code> folder</li>
<li>Checked out a new <code>gh-pages</code> branch of your project</li>
<li>Added your <code>index.html</code> file to your project folder</li>
<li>Told Git about your changes</li>
<li>Told Git to <code>push</code> your changes to the remote GitHub repository</li>
<li>Opened your brand new online web site in your browser</li>
</ol>
<p>Now you are ready to start working on your game project, knowing that Git is working with to keep your project on track.</p>
<p>Before you continue, you might like to check through all the optional sections on this page and the previous pages, to make sure that you understand everything that you have done so far. When you are ready, you can click on the Next arrow below, or on item <a href="#game">6: Your game goes here</a> in the menu on the left.</p>
</div>

<div class="optional details">
<input type="checkbox" id="branch-details"/>
<label for="branch-details">Understanding Git Commands</label>
<div>
Here are the <code>git</code> commands that you have just used:
<dl>
<dt><a href="https://git-scm.com/docs/git-clone"><code>git clone</code></a></dt>
<dd>The <code>clone</code> command copies <em>everything</em> from a given repository to the directory that your Terminal window is currently controlling. (In this case, there was in fact <em>nothing</em> to copy). Your command looked something like this:<br />
<code>git clone https://github.com/blackslate/nim.git gh-pages</code><br />The directory name <code>gh-pages</code> is optional. If you had not included it, the command would have created a directory called <code>nim</code>, using the same name as the remote repository. The <code>clone</code> command also creates a new branch in your local repository, but this branch doesn't have a name yet.</dd>
<dt><a href="https://git-scm.com/docs/git-checkout"><code>git checkout</code></a></dt>
<dd>Before you used the <code>git checkout</code> command, you told your Terminal window to focus its attention on your new <code>gh-pages</code> directory, by executing the command <code>cd gh-pages</code>.Your command looked like this:<br />
<code>git checkout --orphan gh-pages</code><br />
The <code>checkout</code> command said "Prepare all the files in this folder as the files that I am currently working on." The <code>--orphan</code> <span class="keyword">option</span> said "The files in this branch are to be treated completely separately from any files in any other branch". In other words, if you had a <span class="keyword">master</span> branch for your main development, the branch that you are now checking out would be totally unrelated to it. The <code>gh-pages</code> branch name at the end of the command tells Git what you want to call this new branch.  If you look at the page for your repository on GitHub, you'll find that it now has a <code>gh-pages</code> branch.
<figure>
<img src="img/gh-pagesBranch.png" alt="A new branch in your GitHub repository" />
<figcaption>Figure 20. Using <code>checkout ... <span class="keyword">branch-name</span></code> creates a new branch in your project.</figcaption>
</figure>
</dd>
<dt><a href="https://git-scm.com/docs/git-status"><code>git status</code></a></dt>
<dd>The <code>git status</code> lists all the changes that you have made. There are 4 separate places where your work is tracked:
<ul>
<li>In the folder where you are currently making changes (your <span class="keyword">workspace</span></li>
<li>In an index of all the files whose changes you are tracking</li>
<li>In your local repository, on the computer you are working on now</li>
<li>In the remote repository, stored on the GitHub servers</li>
</ul>
<figure>
<img src="http://i.stack.imgur.com/XwVzT.png" alt="Git Data Transport Commands" />
<figcaption>Figure 21. How Git tracks the changes you make</figcaption>
</figure>
<p class="aside kudos">Credit: <a href="http://blog.osteele.com/posts/2008/05/my-git-workflow/">Oliver Steele</a></p>

<p>The <code>status</code> command tells you the differences between the local repository and the index (on the one hand) and your workspace (on the other). The first time you used it, there were no differences, because you had made no changes. The second time, you had just added your <code>index.html</code> file, and you had not yet told Git about it, so it was <span class="keyword">untracked</span> at that time.</p>
</dd>
<dt><a href="https://git-scm.com/docs/git-add"><code>git add</code></a></dt>
<dd>The plain <code>git add</code> command tells Git that you want to track changes to the files listed by <code>git status</code>. You can choose to add only specific files, if you wish. Files that have been <code>add</code>ed to Git are said to be <span class="keyword">staged</span>. The <code>-A</code> option says "Add all files that have changed, and remove all files that have been deleted". If you do not use <code>-A</code> then deleted files will be ignored. In this case, there are no deleted files to remove from Git's staging area.</dd>
<dt><a href="https://git-scm.com/docs/git-commit"><code>git commit</code></a></dt>
<dd>The <code>commit</code> command moves changed items from the staging area to the local repository. You can move changed items directly to the repository without passing through the staging area by using <code>git commit -a</code>. In this case, you don't need to use the <code>git add</code> command.<br />The <code>-m</code> option allows you to include a message to explain what it is that you are committing. In my example, the message was <code>"Initial commit to the gh-pages branch"</code>. If you don't include <code>-m</code> then Git will open a text editor for you to enter the message. By default, this will be a command-line text editor, in the Terminal window itself. See the Tips and Tricks section below to learn how to set up Sublime Text as Git's preferred text editor... or simply use the <code>-m</code> option every time.</dd>
<dt><a href="https://git-scm.com/docs/git-push"><code>git push</code></a></dt>
<dd>Up until this point, all the changes have been made on your local computer. The <code>git push</code> command tells Git to send all the changed files to the remote repository on the GitHub server. When you did this, the <code>index.html</code> will have appeared in your GitHub page in your browser (you may need to refresh the page first.
<figure>
<img src="img/index-html.png" alt="index.html becomes visible on GitHub" />
<figcaption>Figure 22. <code>git push</code> makes your files visible in the remote repository</figcaption>
</figure>
<p>By default, your local repository is called <code>origin</code>. You have just created and checked out a remote branch called <code>gh-pages</code>.Using plain <code>git push</code> will assume that you mean <code>git push origin gh-pages</code>, but it is best to be explicit each time, just to be sure that Git is not making different assumptions from you.</p>
</dd>
</dl>
</div>
</div>

<div class="optional tips">
<input type="checkbox" id="branch-tips"/>
<label for="branch-tips">Tips and Tricks</label>
<div>
<h4>Using Sublime Text to create <code>commit</code> and <code>revert</code> messages</h4>
<div class="aside tip">Windows:
<p>If you used the default installation settings when you installed Sublime Text, you can use the following command in the Command Prompt window:</p>
<ul>
<li>Sublime Text 3 <br /><code>git config --global core.editor "'c:/program files/sublime text 3/subl.exe' -w"</code></li>
<li>Sublime Text 2 <br /><code>git config --global core.editor "'c:/program files/sublime text 2/sublime_text.exe' -w"</code></li>
</ul>
<p>When you have done this, each time you execute a <code>commit</code> command without using the <code>-m</code> option, a new document will open in Sublime Text with the title COMMIT_EDITMSG. You can edit this message, save it and close it, and then Git will continue with the commit process. If you change your mind about your commit, you can close the message without saving it, or delete all its contents before you save and close it. If Git sees an empty message, it will cancel the commit process.</p>
<p class="aside kudos">Credit: <a href="http://stackoverflow.com/a/9408117">jrotello</a></p>
</div>

<div class="aside tip">Macintosh:
<ul>
<li></li>
</ul>
</div>

<h4>Showing invisible files</h4>
<div class="aside tip">To show invisible files on Windows:
<ul>
<li>Open any window in Windows Explorer</li>
<li>Open the Display menu</li>
<li>Select options</li>
<li>In the dialog window that opens, choose the Display tab</li>
<li>Click on the Display tab</li>
<li>Scroll down a little until you can see XXXX</li>
<li>Select the radio button that says "Show hidden files, folders and drives"</li>
<li>While you're here, you might also like to deselect the checkbox that says "Hide extensions for known file types." If you do this, your <code>index.html</code> file will appear as <code>index.html</code>. If you don't it will appear as <code>index</code> ... and so will any file called <code>index.php</code>, <code>index.doc</code> or <code>index.jpg</code>. Showing all file extensions makes it clear exactly which file you are looking at.</li>
</ul>
</div>
</div>
<div class="aside tip">To show hidden files on Macintosh:
<ul>
<li>Step 1</li>
</ul>
</div>
</div>

<div class="optional trouble">
<input type="checkbox" id="github-trouble"/>
<label for="github-trouble">Troubleshooting your first repo</label>
<div>
<p class="symptom">Git tells you that it can't execute your commands</p>
<ul>
<li>When you created your repository, did you click on any buttons, other than Create Repository?</li>
<li>If you added a ReadMe file, a .gitignore file or a licence file to your repository, through the GitHub "new repository" page, then the remote repository on the GitHub site will already contain files. You won't be able to push any new files to the remote repository until you have downloaded them to your local repository. The simplest solution (at this early stage) is to delete your repository and start again, as described below.</li>
</ul>
<p class="symptom">You get a <code>fatal</code> error message in your Terminal</p>
<ul>
<li>This can happen if you mistype a command, but it can also happen if your version of Git is older that 1.7.9.5. To test this, type <code>git --version</code> in your terminal. If the output is less than 1.7.9.5, then you will need to <a href="https://git-scm.com/download/win">update Git</a> before you can continue. See the Installing and Updating Git section at the foot of the <a href="#git">Getting Git</a> page for more details.</li>
</ul>
<p class="aside support">If this doesn't solve your problem, please <a href="https://github.com/lexogram/openbook/issues/new">tell us what happened</a> and we'll do our best to find a solution for you.</p>
</div>
</div>
<footer>
<ul class="nav">
<li>
<a href="#game">
<img src="../img/arrow.png" alt="next"/>
</a>
</li>
</ul>
</footer>
</section>

<!-- YOUR GAME GOES HERE -->
<section id="game">
<h2>Your game goes here</h2>
<div class="aside preview">In this step, you'll learn:
<ul>
<li>How to track changes with Git</li>
<li>How to update your GitHub web site</li>
</ul>
<a href="https://github.com/lexogram/openbook/blob/master/nim/Steps/step_06/step_06.zip?raw=true" target="source">Download the source files</a>
</div>
<p>Do you remember the very first HTML page that you saw on page 2?</p>
<pre>&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
   &lt;title&gt;This appears in the tab / title bar>&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;p&gt;This appears inside the browser window&lt;/p&gt;
  &lt;/body&gt;
&lt;/html&gt;
</pre>
<p>You can use this as a template for the web page that will be the home for your game. You can copy this text and paste it into your <code>index.html</code> file in the <code>nim/gh-pages</code> folder that you created in the last section. You can make a couple of changes to it, to make it more relevant:</p>
<pre class="revised">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;<span class="new">Nim</span>&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;p&gt;<span class="new">The game will go here</span>&lt;/p&gt;
  &lt;/body&gt;
&lt;/html&gt;
</pre>
<p>Save the file, and open it in your browser. If you don't see what you expect to see, check the Troubleshooting section below. If all is well, you can use Git to push your well-formatted HTML page to the GitHub server.</p>
<p>In your Terminal window:</p>
<ul>
<li>Ensure that the Terminal is focused on the folder that contains your <code>index.html</code> file. If you're not sure, type <code>cd&nbsp;</code> and then the path to the folder. Remember that you can drag the folder's icon onto the Terminal window, to paste its path automatically.</li>
<li>As a sanity check, type <code>git status</code>. The terminal window should show that index.html has been modified.
<figure>
<img src="img/git-status.png" alt="git status after modifying your index.html file" width="536" />
<figcaption>Figure 23. <code>git status</code> after modifying your <code>index.html</code> file</figcaption>
</figure>
</li>
<li>Type <code>git add -A</code> and press Enter</li>
<li>Type <code>git commit -m "'Hello World' becomes 'The game will
go here'"</code></li>
<li>Type <code>git push origin gh-pages</code> and then enter your username and password
<figure>
<img src="img/git-commit.png" alt="Pushing your first modification to the GitHub server" width="536" />
<figcaption>Figure 24. Pushing your first modification to the GitHub server</figcaption>
</figure>
</li>
</ul>
<p>Now you can visit your project site on the GitHub web site. Instead of "Hello World", you should see your new page.</p>
<figure>
<img src="img/gameGoesHere.png" alt="the updated page on the GitHub site" />
<figcaption>Figure 25. The updated page on the GitHub web site</figcaption>
</figure>

<div class="aside next">
If you are ready to go on, click on the Next arrow below, or on item <a href="#revert">7: Reverting changes</a> in the menu on the left.
<p>If you want to know more about the HTML tags you have been using, click on Understanding HTML Tags below.</p>
</div>

<div class="optional details">
<input type="checkbox" id="html-details"/>
<label for="html-details">Understanding HTML Tags</label>
<div>
<p>You can recognize HTML code because of the <span class="keyword">tags</span> that it uses. Tags are instructions that are enclosed in <code>&lt;</code> and <code>&gt;</code> pointed <span class="keyword">angle brackets</span>, in this style: <code>&lt;style&gt;</code>.</p>
<h4>Closing Tags</h4>
<p>Most HTML tags come in matching pairs, with an <span class="keyword">opening</span> and a <span class="keyword">closing</span> tag. Closing tags contain a forward slash <code>/</code> character, followed by the first word of the matching opening tag. The expression to describe a pair of matching tags, plus all the data between them, is <span class="keyword">HTML element</span>. In the example above, you can see the following pairs of tags, creating five different HTML elements.</p>
<dl>
<dt><code>&lt;html&gt;...&lt;/html&gt;</code></dt>
<dd><p>This tells the browser to treat all the information between these tags as HTML code. There should always be an opening <code>&lt;html&gt;</code> tag at the beginning of an HTML document, and a closing <code>&lt;/html&gt;</code> tag at the end.</p>
<p>There should only be one <code>html</code> element in an HTML file.</p>
</dd>
<dt><code>&lt;head&gt;...&lt;/head&gt;</code></dt>
<dd><p>The <code>head</code> element contains instructions to the browser that are not shown inside the browser window. In sections <a href="css">11</a> and <a href="js">12</a>, you will add instructions to tell the browser where to find additional files to download. The <code>head</code> can also contain information for search engines that summarize the contents of the page.</p></dd>
<dt><code>&lt;title&gt;...&lt;/title&gt;</code></dt>
<dd><p>As you can see from the screen shot in <a href="#html">figure 1</a>, the text inside the <code>title</code> element appears in the title bar of the browser window, or as a label in the tab for the current page.</p>
<p>Search engines like <a href="http://www.google.com">Google</a>, <a href="http://www.yandex.com">Yandex</a> and <a href="http://www.baidu.com">Baidu</a> use the text in the <code>title</code> element to understand the main purpose of the page.</p></dd>
<dt><code>&lt;body&gt;...&lt;/body&gt;</code></dt>
<dd><p>The <code>body</code> element contains everything that will appear inside the browser window. There should only be one <code>body</code> element.</p></dd>
<dt><code>&lt;p&gt;...&lt;/p&gt;</code></dt>
<dd>This indicates a paragraph of text.</dd>
</dl>
<h4>Self-closing Tags</h4>
<p>Some tags, such as <code>&lt;!DOCTYPE html&gt;</code> are <span class="keyword">self-closing</span>. A self-closing tag stands on its own, with no matching tag to close it later. Self-closing tags are typically used for elements that cannot have text inside then. For example</p>
<dl>
<dt><code>&lt;!DOCTYPE html&gt;</code></dt>
<dd>The very first line of an HTML file tells the browser what kind of file it is. Browsers can read many kinds of files: XML files, which contain arrays of data, SVG files which contain the formulae needed to draw smooth Scalable Vector Graphics, image files such as JPG and PNG, and many more.</dd>
<dt><code>&lt;img&gt;</code></dt>
<dd>The <code>&lt;img&gt;</code> tag tells the browser where to find a file that displays an image. You will be working with the <code>&lt;img&gt;</code> tag in section <a href="#image">8: Adding an image.</a></dd>
<dt><code>&lt;link&gt;</code></dt>
<dd>The <code>&lt;link&gt;</code> tag tells the browser where to find a file that gives rules on the appearance and layout of the web page. You will be using the <code>&lt;link&gt;</code> tag in section <a href="#css">11: Styling with CSS.</a></dd>
<dt><code>&lt;input&gt;</code></dt>
<dd>The <code>&lt;input&gt;</code> tag lets you create elements such as buttons and editable fields that allow the visitor to interact with your page. You will be adding a checkbox <code>&lt;input&gt;</code> to your page in section <a href="#toggle">21: Showing the rules.</a></dd>
<dt><code>&lt;meta&gt;</code></dt>
<dd>The <code>&lt;meta&gt;</code> tag can be used to tell the browser and bots that visit your site what your page is about, what language it's in, how it should be categorized in search engines. You will be adding a <code>&lt;meta&gt;</code> in section <a href="#meta">26: Invisible data</a>.</dd>
</dl>
<p>By the time you gave finished this tutorial, you will also have used all the following tags (in order of appearance):</p>
<ul>
<li><a href="http://www.w3schools.com/tags/tag_hn.asp"><code>&lt;h1&gt;</code></a></li>
<li><a href="http://www.w3schools.com/tags/tag_img.asp"><code>&lt;img&gt;</code></a></li>
<li><a href="http://www.w3schools.com/tags/tag_div.asp"><code>&lt;div&gt;</code></a></li>
<li><a href="http://www.w3schools.com/tags/tag_link.asp"><code>&lt;link&gt;</code></a></li>
<li><a href="http://www.w3schools.com/tags/tag_script.asp"><code>&lt;script&gt;</code></a></li>
<li><a href="http://www.w3schools.com/tags/tag_button.asp"><code>&lt;button&gt;</code></a></li>
<li><a href="http://www.w3schools.com/tags/tag_main.asp"><code>&lt;main&gt;</code></a></li>
<li><a href="http://www.w3schools.com/tags/tag_ul.asp"><code>&lt;ul&gt;</code></a></li>
<li><a href="http://www.w3schools.com/tags/tag_li.asp"><code>&lt;li&gt;</code></a></li>
<li><a href="http://www.w3schools.com/tags/tag_input.asp"><code>&lt;input&gt;</code></a></li>
<li><a href="http://www.w3schools.com/tags/tag_label.asp"><code>&lt;label&gt;</code></a></li>
<li><a href="http://www.w3schools.com/tags/tag_meta.asp"><code>&lt;meta&gt;</code></a></li>
</ul>
<p>You can find a full list of the tags used to create HTML elements <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element">here</a>.</p>
</div>
</div>

<div class="optional tips">
<input type="checkbox" id="game-tips"/>
<label for="game-tips">Tips and Tricks</label>
<div>
<p class="aside tip">As you saw in your Hello World test, if a file has an <code>.html</code> extension, most modern browsers will treat everything inside it as HTML, even if there is no <code>&lt;html&gt;</code> element, if there is more than one <code>&lt;html&gt;</code> element, or if there is text outside the <code>html</code> element. Modern browsers may also display content correctly even if the <code>body</code> is missing, or if there is more than one <code>body</code> element. Nonetheless, it is good practice to use these elements correctly. Other developers will notice if your code is badly written.</p>
<p class="aside tip">The browser will not display any text between an opening angle bracket <code>&lt;</code> character and a closing angle bracket <code>&gt;</code>. If you use a tag that the browser does not recognize, such as <code>&lt;unofficial_tag&gt;</code>, the browser will simply ignore it. Older browsers may ignore tags that were officially introduced after they were released.</p>
</div>
</div>

<div class="optional trouble">
<input type="checkbox" id="game-trouble"/>
<label for="game-trouble">Troubleshooting </label>
<div>
<p class="symptom">When you open the file in your browser, you still see "Hello World".</p>
<ul>
<li>Perhaps you need to save your <code>index.html</code> file so that your browser can see the new version.</li>
<li>Perhaps you opened a different <code>index.html</code> file than the one you saved. If you are using Sublime Text, you can right-click on your edited page and choose Open in Browser.</li>
</ul>
<p class="symptom">In Sublime Text, when you right-click on your edited page and choose Open in Browser, nothing happens, or it opens in the wrong browser.</p>
<ul>
<li>Set your default browser to the browser that you want Sublime Text to open</li>
<li>On your desktop, select your <code>index.html</code> file and make sure that the default application that will be used to open <code>.html</code> files is your default browser.
<figure>
<img src="img/openWith.png" alt="Set the default application for .html files on Windows" />
<figcaption>Figure 26. Windows - set the default application for <code>.html</code> files</figcaption>
</figure>
<figure>
<img src="TODO MAC" alt="Set the default application for .html files on Macintosh" />
<figcaption>Figure 27. Macintosh - set the default application for <code>.html</code> files</figcaption>
</figure>
</li>
</ul>
<p class="aside support">If this doesn't solve your problem, please <a href="https://github.com/lexogram/openbook/issues/new">tell us what happened</a> and we'll do our best to find a solution for you.</p>
</div>
</div>
<footer>
<ul class="nav">
<li>
<a href="#revert">
<img src="../img/arrow.png" alt="next"/>
</a>
</li>
</ul>
</footer>
</section>

<!-- REVERTING YOUR CHANGES -->
<section id="revert">
<h2>Reverting changes</h2>
<div class="aside preview">In this step, you'll learn:
<ul>
<li>How to see what changes you have made, using Git</li>
<li>How to check what the project looked like at a previous stage</li>
<li>How to revert changes you have made</li>
<li>How to rewrite your history of changes</li>
</ul>
</div>
<p>In you <code>index.html</code> file, the words "Hello World!" have gone. The change that you have just made moves your project forward. But let's imagine for a moment that it creates a problem, and that you want to get back to your "Hello World" version of the file. How can you do that?</p>
<p>Git provides 3 commands: <code>checkout</code>, <code>revert</code> and <code>reset</code>, of increasing power. You've already used <code>checkout</code> command to create the <code>gh-pages</code> branch in your repository. You can use a different flavour of it now to look at your project the way it was in the past, without disturbing its current state.</p>
<h3>git log</h3>
<p>In the Terminal window type the following command:</p>
<pre>git log</pre>
<figure>
<img src="img/git-log.png" alt="the git log command" />
<figcaption>Figure 28. The <code>git log</code> command gives a unique name for each <code>commit</code></figcaption>
</figure>
<p>You will see the history of the <code>commit</code>s that you have made, starting with the most recent. Each <code>commit</code> has a unique 32-character name. You don't need to memorize this.</p>
<h3>git checkout</h3>
<p>To see what your project looked like at the moment of a particular <code>commit</code> you can type the command <code>git checkout xxxxxxx</code>, where xxxxxxx represents the first 7 characters in the commit name. In my case, to return to my Hello World state, I can type:</p>
<pre>git checkout e6b50f7</pre>
<figure>
<img src="img/checkoutHello.png" alt="Using git checkout to view an earlier stage in the project" />
<figcaption>Figure 29. Using <code>git checkout</code> to view an earlier stage in the project</figcaption>
</figure>
<p>Git restores my entire project (in this case, just the <code>index.html</code> file) to the state it was in after my first commit. If I open <code>index.html</code> in my text editor, and refresh it in my browser, I can see that I am back to Hello World.</p>
<p>This change is only temporary. I can get back to where I was before by checking out the most recent <code>commit</code>:</p>
<pre>git checkout b6d433d</pre>
<figure>
<img src="img/checkOutGameHere.png" alt="checking out the most recent <code>commit" />
<figcaption>Figure 30. Checking out the most recent <code>commit</code></figcaption>
</figure>
<p>You can try this for yourself. It's safe to do it now, right at the beginning of your project. If the worst comes to the worst, you can always delete everything you've done, and you need only 15 steps to get back to where you are now.</p>
<h3>git revert</h3>
<p>The <code>git revert xxxxxxx</code> command is more powerful. It is not an "undo" command, but its effect is to undo all the changes made by the chosen commit. In fact, it creates a new <code>commit</code> that resets the state of your project to the way it was earlier. This action adds a new element to the history of your project. If you change your mind, you can then revert the previous <code>revert</code>. You can <code>revert</code> back to any point in the past, and all the intervening changes will still be safely stored, for you to revert to if you need to.</p>
<p class="aside note">Before testing the <code>revert</code> command, I strongly recommend that you configure Git to use Sublime Text as its preferred text editor. You can find instructions for this in the Tips and Tricks section at the bottom of page <a href="#branch">5: Creating a branch</a>. If you don't do this, you might need to use the Troubleshooting section below to find out how to manage the command line text editor that Git uses by default.</p>
<p>If you have set up Git to use Sublime Text as the default text editor, you might like to test this command now. </p>
<ul>
<li>Check the <code>git log</code> that you made earlier for the name of the most recent commit</li>
<li>Run the command <code>git revert </code> + the first 7 characters in the name. For me, this would be:<br /> <code>git revert b6d433d</code>. The name that you use will be different.</li>
<li>Git will now open a text editor for you to create a message explaining why you are reverting to a previous version. If you have configured Git to use Sublime Text as its preferred text editor, you should see something like Figure 30 below.
<figure>
<img src="img/revert-commit-message.png" alt="you must provide a commit message when you use the revert command" width="536" />
<figcaption>Figure 30. You must provide a <code>commit</code>  message when you use the <code>revert</code> command</figcaption>
</figure></li>
<li>Type something like <code>Testing the revert command</code>, save the document and close it.</li>
<li>In the Terminal window, run the <code>git log</code> command again. You will see that there is now a new commit.</li>
</ul>
<p>If you open your <code>index.html</code> file now, either in your text editor or in your browser, you will see that everything is back to its Hello World state. If you continued working now, and made a new commit, your "game will go here" version would be ignored. But it would not be forgotten. You would be able to <code>revert</code> to it at any time, if you wanted.</p>
<h3>git reset</h3>
<p>Actually, you want to restore your "game will go here" version, and continue working from that point. You can now do one of two things.</p>
<ol>
<li>You could revert your most recent <code>commit</code> action (which was just created by the <code>revert</code> command). If you do this, you will add another <code>commit</code> to your history. If there were other developers working on the project, this would be the best thing to do, so that a permanent trace of all your actions is recorded</li>
<li>You can execute the dangerous <code>reset</code> command.</li>
</ol>
<p class="aside warn">The <code>reset</code> command can be dangerous, because it can destroy data without checking first. If you have made changes to your files, or created new files, these changes and these files will be erased permanently, without warning.</p>
<p>In this case, all you will be deleting is the  most recent <code>commit</code> action, the one you just created by using <code>revert</code>, so you will be back exactly where you want to be.</p>
<p>In the Terminal window, type <code>git reset --hard&nbsp;</code> and then the first characters of the commit that you made after the "game will go here" edit. In my case, this command looks like this:</p>
<pre>git reset --hard b6d433d
</pre>
<p>Your command will have a different name at the end.</p>
<p>If you now run <code>git log</code>, you will see that you have changed your history: there are now only 2 commits recorded. The third one has gone forever.</p>
<figure>
<img src="img/reset.png" alt="using reset to change your history" />
<figcaption>Fig XX. The <code>reset</code> command erases history.</figcaption>
</figure>
<div class="aside next">
Now you know Git's <code>add</code>, <code>commit</code> and <code>push</code> commands, to get your project moving forwards, and also the <code>checkout</code>, <code>revert</code> and <code>reset</code> commands, to undo what you have done. However, your game doesn't do anything at all yet. It's time to address this issue.
<p>If you want to know more about undoing changes, you can find links in the Further Reading section below.</p>
<p>
When you're ready to continue, click on the Next arrow below, or on item <a href="#issue">Creating issues</a> in the menu on the left.</p>
</div>


<div class="optional details">
<input type="checkbox" id="revert-details"/>
<label for="revert-details">Further Reading</label>
<div>
For a more detailed treatment of <code>checkout</code>, <code>revert</code> and <code>reset</code>, see <a href="https://fr.atlassian.com/git/tutorials/undoing-changes">Undoing Changes</a> on the Atlassian site, or <a href="https://git-scm.com/blog/2011/07/11/reset.html">Reset Demystified</a> by Scott Chacon and Ben Straub, authors of <a href="https://git-scm.com/book/en/v2">Pro Git</a>.
</div>
</div>

<div class="optional trouble">
<input type="checkbox" id="revert-trouble"/>
<label for="revert-trouble">Troubleshooting </label>
<div>
<p class="symptom">When you type a <code>git</code> command, you get an error like <code>fatal: Not a git repository (or any of the parent directories): .git</code></p>
<ul>
<li>Make sure that you have told your Terminal window which directory your project is in. You can use the <code>cd&nbsp;</code> command, followed by the path to your project directory.</li>
<li>Remember that you can drag the icon of your project directory from the desktop onto your Terminal window, so that its path is added automatically.</li>
</ul>
<p class="symptom">When you execute the <code>revert</code> command, you find that the Terminal window is acting in an unexpected way.</p>
<ul>
<li>Perhaps you have not configured Git to use an external text editor, and it has opened <span class="keyword">vim</span>, a command line text editor. The easiest solution might be to press <code>Esc</code> then <code>q</code> to quite the editor, and cancel the command. You can then follow the instructions in the Tips and Tricks section at the foot of page <a href="#branch">5: Creating a branch</a>, to use Sublime Text to create commit and revert messages.</li>
<li>Remember that you can drag the icon of your project directory from the desktop onto your Terminal window, so that its path is added automatically.</li>
</ul>
<p class="aside support">If this doesn't solve your problem, please <a href="https://github.com/lexogram/openbook/issues/new">tell us what happened</a> and we'll do our best to find a solution for you.</p>
</div>
</div>
<footer>
<ul class="nav">
<li>
<a href="#issue">
<img src="../img/arrow.png" alt="next"/>
</a>
</li>
</ul>
</footer>
</section>

<!-- CREATING ISSUES -->
<section id="issue">
<h2>Creating issues</h2>
<div class="aside preview">In this step, you'll learn:
<ul>
<li>How to plan your project</li>
<li>How to create an issue to track progress developing features and fixing bugs</li>
</ul>
</div>
<p>You've been working at this for some time now, but your game is still... let's say <em>a little disappointing</em>. No images, no interaction, no artificial intelligence. You might like to take a look at <a href="complete/">the game you are getting ready to write</a>, and make a note of what needs to be done to get from where you are now to where you want to be. Here are some of the things that you might note:</p>
<ol>
<li>Add images of matches</li>
<li>Arrange the images in rows</li>
<li>Show the player that the images are interactive</li>
<li>Hide each image when you click on it</li>
<li>Add a button so that the current player can say "Your turn"</li>
<li>Show which player is currently playing</li>
<li>Add buttons to restart the game</li>
<li>Show the rules when the game first loads</li>
<li>Create a computer player that is smart enough to win</li>
<li>...</li>
</ol>
<p>In fact, there are plenty other things that you will need to do. You can never be sure that you have thought of everything before you start. You are likely to discover new issues as you go along. That's normal.</p>
<h3>Issues</h3>
<p>The GitHub site provides you with a system for tracking what still needs to be done. Their system is called "Issues". At the moment, all your issues are requests for <span class="keyword">features</span> that you want to develop. Later, you might also want to track <span class="keyword">bugs</span>. In either case, you want to have a clear description of what to do, and a way of noting progress, and of noting when it's all done.</p>
<p>To create an issue</p>
<ul>
<li>Visit your GitHub repository at <em>https://github.com/<span class="red">your-username</span>/nim</em></li>
<li>At the top right of the page (you may have to scroll the window to see it), there is a <code>&nbsp;+&nbsp;</code> button, with a tooltip that says "Create new...". Click on that and choose "New issue"</li>
<li>The page <em>https://github.com/<span class="red">your-username</span>/nim/issues/new</em> will open</li>
<li>Give your new issue a title, such as "Add images of matches"</li>
<li>Add a comment, if you think that the title alone is not enough</li>
<li>Click on the Submit New Issue button</li>
<li>You'll find yourself on a new page, where the issue is described as Open. As you make progress, you can add new comments here. When you have treated the issue to your satisfaction, you will be able to click on the Close Issue button.</li>
<li>Repeat this process for each of the notes that you have made. (You can use the New Issue button instead of selecting from the <code>&nbsp;+&nbsp;</code> menu button.)</li>
</ul>

<figure>
<img src="img/newIssue.png" alt="Creating a new issue on GitHub" />
<figcaption>Figure 31. Creating a new issue on GitHub</figcaption>
</figure>

<p>You now have a checklist of features that you want to add to your game. It will be very gratifying to close each issue, and to see how much progress you have made.</p>

<div class="aside next">
Now it's time to start dealing with the first issue. Click on the Next arrow below, or on item <a href="#image">9: Adding an image</a> in the menu on the left.</div>

<footer>
<ul class="nav">
<li>
<a href="#image">
<img src="../img/arrow.png" alt="next"/>
</a>
</li>
</ul>
</footer>
</section>

<!-- ADDING AN IMAGE -->
<section id="image">
<h2>Adding an image</h2>
<div class="aside preview">In this step, you'll learn:
<ul>
<li>How to save an image from the Internet</li>
<li>How to add an image to your HTML page with an <code>img</code> element</li>
<li>The role of the <code>src</code> and <code>alt</code> attributes for <code>img</code> elements</li>
<li>The advantages of working on an open source project, using material from Creative Commons</li>
</ul>
<a href="https://github.com/lexogram/openbook/blob/master/nim/Steps/step_09/step_09.zip?raw=true" target="source">Download the source files</a>
</div>
<p>Here's an image of a match, called <code>match.png</code> :</p>
<figure>
<img src="complete/img/match.png" alt="a match" />
<figcaption>Figure 32. The match.png image that you can use for your game</figcaption>
</figure>
<p class="aside info">
This image is available to use with a Creative Commons licence. You can find the original high-resolution source image <a href="https://commons.wikimedia.org/wiki/File:Match-1.jpg">here.</a> You can read more about Creative Commons in the optional sections below.</p>
<h3>Save the image</h3>
<p>To use this image for your game, you first need to save it to your <code>nim</code> folder. It is good practice to keep different kinds of files separate. I recommend that you create a folder called <code>img</code> alongside your <code>index.html</code> file, and that you save the match image in this folder. (You'll see in a moment why I suggest that you name the folder <code>img</code>.)</p>
<p>To save the image:</p>
<ul>
<li>Right-click on the image in your browser</li>
<li>In the contextual menu that opens, choose "Save Image As..." (The wording may be slightly different in your browser).</li>
</ul>
<figure>
<img src="img/save-match.png" alt="save the match.png image to the nim/img/ folder" />
<figcaption>Figure 33. Save the match.png image to the nim/img/ folder</figcaption>
</figure>
<h3>Show the image in your page</h3>
<p>To show the image in your HTML page, you can replace the line...</p>
<pre>  &lt;p&gt;<span class="new">The game will go here</span>&lt;/p&gt;</pre>
<p>... as shown below, then save your file.</p>
<pre class="revised">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Nim&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    <span class="new">&lt;img src="img/match.png" alt="match" /&gt;</span>
  &lt;/body&gt;
&lt;/html&gt;
</pre>
<p>Refresh your <code>index.html</code> page in your browser, or reopen it, and check if the image appears. If not, you can check the Troubleshooting section below. If all has gone well, you can upload your changes to the GitHub server.</p>
<figure>
<img src="img/match-in-browser.png" alt="Displaying the match image in your browser" />
<figcaption>Figure 34. Displaying the match image in your browser</figcaption>
</figure>
<h3>Upload the changes to the GitHub server</h3>
<p>In the Terminal window:</p>
<ul>
<li>Ensure that the Terminal is focused on the folder that contains your <code>index.html</code> file. If you're not sure, type <code>cd&nbsp;</code> and then the path to the folder.</li>
<li>Run the command <code>git status</code> to check that Git knows that your <code>index.html</code> file has changed, that you have added a folder called <code>img</code> and that you have added a file called <code>match.png</code> to the <code>img/</code> folder.</li>
<li>Run the command <code>git add -A</code> to tell Git to record your changes in the index (staging area).</li>
<li>Run the command <code>git commit -m "Add img/match.png; modified index.html to show this image"</code>. Alternatively you can run just <code>git commit</code> type your commit message in the text editor that opens, then save the document and close it so that Git can continue.</li>
<li>Run the command <code>git push origin gh-pages</code> and enter your username and password details when asked. This will upload your new version of your project to the GitHub server.</li>
</ul>
<p>You (and everyone else in the world) should now be able to see your match image on your online web page.</p>
<figure>
<img src="img/git-commit.png" alt=" Updating your local Git repository and pushing the changes to the GitHub server" />
<figcaption>Figure 35. Updating your local Git repository and pushing the changes to the GitHub server</figcaption>
</figure>
<div class="aside issue">You have now successfully treated your first issue: <em>Add images of matches</em>.
<p>You can visit your <a href="https://github.com/issues">Issues</a> page on GitHub, click on the link to this particular issue, and triumphantly click on the Close Issue button. Isn't that satisfying?</p>
</div>

<p class="aside next">If you want to know more about the <code>img</code> tag and its <code>src</code>, <code>alt</code> and other <span class="keyword">attributes</span>, please read the Understanding Images section below. When you're ready to continue, click on the Next arrow below, or on item <a href="#div">10: Rows of images</a> in the menu on the left.
</p>

<div class="optional details">
<input type="checkbox" id="img-details"/>
<label for="img-details">Understanding Images</label>
<div>
<h4>The &lt;img /&gt; tag</h4>
<p>An <code>img</code> HTML tag is self closing. There is no closing <span class="red">&lt;/img&gt;</span> tag. You will often see it with a <code>/</code> character just before the closing <code>&gt;</code> angle bracket. This is not essential, but it helps remind you that no closing tag is needed.</p>
<p> No image will appear unless the tag contains a <code>src</code> (source) <span class="keyword">attribute</span>, inside the angle brackets. An <code>img</code> tag should normally also have an <code>alt</code> (alternative) attribute (see below). Other attributes such as <code>width</code> and <code>height</code> are also common.</p>
<h4>src</h4>
<p>The <code>src</code> (source) attribute tells the browser where to find the image. This can be an either:</p>
<ul>
<li>an <span class="keyword">absolute path</span> that uniquely identifies the file on the whole of the Internet, such as <code><a href="http://lexogram.github.io/openbook/nim/complete/img/match.png" class="url">http://lexogram.github.io/openbook/nim/complete/img/match.png</a></code></li>
<li>a <span class="keyword">relative path</span> indicating the how to find the image if you start in the folder that contains the HTML page itself. If the HTML page is in a folder called <code>nim/</code> and an image called <code>match.png</code> is in a folder called <code>nim/img/</code>, then the relative path will be <code>img/match.png</code>.</li>
</ul>
<h4>alt</h4>
<p>The <code>alt</code> attribute is important in two ways:</p>
<ul>
<li>It provides an on-screen text label, describing the image, if the image itself cannot be found</li>
<li>It provides screen readers (for people who have difficulty seeing) with a description that can be read aloud by a synthesized voice.</li>
</ul>
<p class="aside info">For a mini tutorial on the <code>img</code> tag, see <a href="">the w3schools site</a></p>
<h4>Fetching images</h4>
<p>When you visit a web site, your browser asks the remote server for an HTML file, such as the <code>index.html</code> page that you are working with now.. This file contains nothing but text. The HTML tags are text, the attributes of the tags are text, and the content inside the elements are text. There are no images.</p>
<p>The browser reads the HTML page from top to bottom. If it encounters an <code>img</code> tag with a <code>src</code> attribute, it will send a new request to the server for the image file. The server may reply: "404: I can't find the file you asked for", or it may send the image file back to your browser. Your browser can then show the image.</p>
<h4>Image <code>width</code> and <code>height</code></h4>
<p>A big image may take a long time to arrive. Until it does arrive, the browser will not know how big it is going to be, so it will not be able to create the appropriate amount of space for it.</p>
<p>It is good practice to include <code>width</code> and <code>height</code> attributes inside each <code>img</code> tag, so that the browser can prepare a place in the page for all images. If you don't do this, you may see the other content of the page shifting as new images arrive.</p>
<p>Ideally, the <code>img</code> tag for your match should look like this:</p>
<pre>  &lt;img src="img/match.png" alt="match" <span class="new">width="12" height="125"</span> /&gt;</pre>
<p>In this tutorial, for simplicity, I have left this out. The only image you are using is only 3 KB, and it should arrive fast enough for you to see no shift in the contents of the page.</p>
</div>
</div>

<div class="optional details">
<input type="checkbox" id="cc-details"/>
<label for="cc-details">Learn more about Creative Commons</label>
<div>
<h4></h4>
<p>By default, everything that you find on the Internet is subject to copyright. In very simple terms, this means that it is illegal to use most images (and any other works) that you find online in your own projects.</p>
<p>Members of the open source community encourages others to re-use, re-mix and modify images and other works that they have created. There are a number of legal licences, collectively known as Creative Commons, that you can apply to your work to say to others: "Please, feel free to build on what I have started".</p>
<p>This tutorial is covered by a Creative Commons licence. You can use the material you find on this site in any way you like, so long as you allow others to use your version of the material in any way that they like.</p>
<p class="aside info">Visit <a href="">the Creative Commons site</a> for full details.</p>
</div>
</div>

<div class="optional tips">
<input type="checkbox" id="image-tips"/>
<label for="image-tips">Tips and Tricks</label>
<div>
<h4>Using your own images</h4>
<p>I've used matches for the playing pieces, but the game can be played with any set of 16 items that you have available: coins, pebbles, chocolate chips... You can replace my match with your own image if you want, but to keep your HTML code identical to mine, you might like to call your image <code>match.jpg</code> (at least until you have completed writing the game).</p>
<h4>Showing all file extensions on your desktop</h4>
<p></p>
</div>
</div>

<div class="optional trouble">
<input type="checkbox" id="image-trouble"/>
<label for="image-trouble">Troubleshooting </label>
<div>
<p class="symptom">Your image does not appear in your <code>index.html</code> page in the browser. A "broken image" icon appears instead.</p>
<ul>
<li>HTML links are Case Sensitive. This means that "link" is not the same as "LINK" or "Link". Check if you have used any UPPERCASE letters when you named the match image file or the folder it is in. The names of the folder and the file should use the same case as the <code>src</code> path that you have created. If your path is <code>src="img/match.png"</code> then the folder
should be called "img" and the image itself should be called "match.png".</li>
<li>Perhaps you have not stored the image inside a folder called <code>img</code>, which is where you HTML page is looking for it.</li>
<li>Perhaps you are using a different image, and you have called it "match.jpg" or "match.gif". In that case, you make sure that the extension you use in your HTML file is the same as the extension for the file itself. You might like to follow the steps to show all file extensions, in the Tips and Tricks section above.</li>
</ul>
<p class="symptom">Your image appears correctly when you open your <code>index.html</code> page locally, but it appears broken when you view the page on the GitHub server.</p>
<ul>
<li>See the first explanation above. The file system on your local computer may be case-insensitive, so your browser may be able to find it locally. Thin GitHub server uses a different file system, which is case sensitive, so the case of every letter must be identical.</li>
</ul>
<p class="symptom">Your <code>index.html</code> page still shows "The game goes here".</p>
<ul>
<li>Perhaps you haven't saved the changes to your file.</li>
<li>Perhaps you are opening a different <code>index.html</code> file in your browser.</li>
<li>If this is happening on your GitHub site, perhaps you did not follow all the steps required to push your changes to the GitHub <code>gh-pages</code> repository.</li>
</ul>
<p class="aside support">If this doesn't solve your problem, please <a href="https://github.com/lexogram/openbook/issues/new">tell us what happened</a> and we'll do our best to find a solution for you.</p>
</div>
</div>
<footer>
<ul class="nav">
<li>
<a href="#div">
<img src="../img/arrow.png" alt="next"/>
</a>
</li>
</ul>
</footer>
</section>

<!-- ROWS OF IMAGES -->
<section id="div">
<h2>Creating Four Rows of Images</h2>
<div class="aside preview">In this step, you'll learn:
<ul>
<li>How to add multiple images to your page</li>
<li>How to use the <code>div</code> element to arrange them in rows</li>
</ul>
<a href="https://github.com/lexogram/openbook/blob/master/nim/Steps/step_10/step_10.zip?raw=true" target="source">Download the source files</a>
</div>
<p>Showing 2 matches in your web page is as easy as showing one. You can simply copy and paste the line that you have just changed:</p>
<pre class="revised">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Nim&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;img src="img/match.png" alt="match" /&gt;
    <span class="new">&lt;img src="img/match.png" alt="match" /&gt;</span>
  &lt;/body&gt;
&lt;/html&gt;
</pre>
<p>If you do this another 14 times, you will have a total of 16 matches, all in a line across the browser window.</p>
<figure>
<img src="img/16-matches.png" alt="16 img tags shows 16 matches in the browser" />
<figcaption>Fig XX. 16 <code>img</code> tags shows 16 matches in the browser</figcaption>
</figure>
<p>By default, your browser will attempt to place all <code>img</code> elements side by side. Since your match image is very thin, it has no difficulty doing this. However, you want to display the matches in 4 separate rows, because that's the way the game works.</p>
<p>You can use a different HTML tag - <code>&lt;div&gt;</code> - to <span class="keyword">div</span>ide the <code>img</code> elements into separate blocks. By default, your browser will place all <code>div</code> elements one below the other. Unlike <code>img</code> elements, <code>div</code> elements need both an opening <code>&lt;div&gt;</code> and a closing <code>&lt;/div&gt;</code> tag. Here's how you can arrange your HTML code to produce four rows of matches, with the right number of matches in each row:</p>

<pre class="revised">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Nim&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    <span class="new">&lt;div&gt;</span>
      &lt;img src="img/match.png" alt="match<span class="new"> 1 row 1</span>" /&gt;
      <span class="new">&lt;img src="img/match.png" alt="match 2 row 1" /&gt;
      &lt;img src="img/match.png" alt="match 3 row 1" /&gt;
      &lt;img src="img/match.png" alt="match 4 row 1" /&gt;
      &lt;img src="img/match.png" alt="match 5 row 1" /&gt;
      &lt;img src="img/match.png" alt="match 6 row 1" /&gt;
      &lt;img src="img/match.png" alt="match 7 row 1" /&gt;
    &lt;/div&gt;
    &lt;div&gt;
      &lt;img src="img/match.png" alt="match 1 row 2" /&gt;
      &lt;img src="img/match.png" alt="match 2 row 2" /&gt;
      &lt;img src="img/match.png" alt="match 3 row 2" /&gt;
      &lt;img src="img/match.png" alt="match 4 row 2" /&gt;
      &lt;img src="img/match.png" alt="match 5 row 2" /&gt;
    &lt;/div&gt;
    &lt;div&gt;
      &lt;img src="img/match.png" alt="match 1 row 3" /&gt;
      &lt;img src="img/match.png" alt="match 2 row 3" /&gt;
      &lt;img src="img/match.png" alt="match 3 row 3" /&gt;
    &lt;/div&gt;
    &lt;div&gt;
      &lt;img src="img/match.png" alt="match 1 row 4" /&gt;
    &lt;/div&gt;</span>
  &lt;/body&gt;
&lt;/html&gt;
</pre>
<p>You'll notice that I've edited the <code>alt</code> texts for each match, to indicate which position and row it lies in. This means that someone who is using a screen reader to play your game will be able to visualize the layout from the <code>alt</code> text alone.</p>
<figure>
<img src="img/matches-in-rows.png" alt="16 matches arranged in 4 rows" />
<figcaption>Figure 36. Using <code>div</code> elements to arrange the 16 match images in 4 rows</figcaption>
</figure>
<div class="aside git">You might like to use the following commands in your Terminal to push these changes to the GitHub server:
<pre>git status
git add -A
git commit -m "16 matches arranged in 4 rows, using &lt;div&gt;"
git push origin gh-pages
</pre>
<p>Now, you should be able to see your 16 matches on your GitHub site.</p>
</div>

<div class="aside issue">You can now close your second issue: <em>Arrange the images in rows</em>.
<p>You can visit your <a href="https://github.com/issues">Issues</a> page on GitHub, click on the link to this issue, and click on the Close Issue button.</p>
<p>But now you can see that there is a new issue to deal with: the match images are not laid out neatly. Click on the New Issue button and enter a title for this: "Lay out match images in a neat V arrangement".</p>
<p>It will not take long to have a whole series of closed issues behind you, and to feel a sense of how much you have achieved.</p>
<p></p>
</div>

<div class="aside next">
To learn more about the <code>div</code> element, you can read the Understanding the div Element section below.
<p>When you're ready to learn how CSS can give style to your web page, click on the Next arrow below, or on item <a href="#css">11: Styling with CSS</a> in the menu on the left.</p>
</div>

<div class="optional empty details">
<input type="checkbox" id="div-details"/>
<label for="div-details">Understanding the <code>div</code> element</label>
<div>
<h4></h4>
<p></p>
</div>
</div>

<div class="optional details">
<input type="checkbox" id="image-details"/>
<label for="image-details">More about images</label>
<div>
<p>Your new HTML code asks the browser to show the same image 16 times. As the browser is reading the page from top to bottom, it will reach the first request for <code>match.png</code> and it will ask the server to send the image. Then, on the next line, it will see a second request. This time, it will realize that it has already asked the server for an image, and it won't ask again.</p>
<p>In fact, since you already asked for the image in your previous version of this page, it is likely that your browser will say to itself: "Hey, I've already got this image. I don't have to ask the browser for it." Instead, it will find the image in its <span class="keyword">cache</span>, and show it immediately.</p>
</div>
</div>

<div class="optional empty trouble">
<input type="checkbox" id="div-trouble" />
<label for="div-trouble">Troubleshooting </label>
<div>
<p  class="symptom">Ouch. Try :</p>
<ul>
<li> Restart your computer.</li>
</ul>
<p class="aside support">If this doesn't solve your problem, please <a href="https://github.com/lexogram/openbook/issues/new">tell us what happened</a> and we'll do our best to find a solution for you.</p>
</div>
</div>
<footer>
<ul class="nav">
<li>
<a href="#css">
<img src="../img/arrow.png" alt="next"/>
</a>
</li>
</ul>
</footer>
</section>

<!-- STYLING WITH CSS -->
<section id="css">
<h2>Using Cascading Style Sheets</h2>
<div class="aside preview">In this step, you'll learn about:
<ul>
<li>Cascading Style Sheets</li>
<li>How to set the alignment of text</li>
</ul>
<a href="https://github.com/lexogram/openbook/blob/master/nim/Steps/step_11/step_11.zip?raw=true" target="source">Download the source files</a>
</div>
<p>You now have the <span class="keyword">content</span> that you need to play the game of Nim, but the matches are not yet laid out neatly in a symmetrical V shape. The easiest way to get the images to appear in a V shape is to treat them like text (yes, text) and use <code>center</code> alignment for them. But first, you need to create a separate file to contain the layout instructions.</p>
<p>In your text editor, create a new, empty file called <code>style.css</code>, and save it an a folder called <code>css</code> in same folder as your <code>index.html</code> file. Your folder structure should now look like this:</p>
<figure>
<img src="img/style-css.png" alt="Your nim folder with index.html and folders for img/match.png and css/style.css" />
<figcaption>Figure 37. "Your <code>nim</code> folder with <code>index.html</code> and folders for <code>img/match.png</code> and <code>css/style.css</code></figcaption>
</figure>
<h3>Linking the CSS file to your HTML file</h3>
<p>You now need to do two things:</p>
<ul>
<li>Tell the <code>index.html</code> file where to find the <code>style.css</code> file</li>
<li>Tell the <code>style.css</code> file how to treat the HTML elements</li>
</ul>
<p>At the beginning of your <code>index.html</code> file, inside the <code>&lt;head&gt;</code> tag, add the line that appears in bold below:</p>
<pre>&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Nim&lt;/title&gt;
    <span class="new">&lt;link rel="stylesheet" href="css/style.css" /&gt;</span>
  &lt;/head&gt;
  &lt;body&gt;
...
</pre>
<p>This tells the browser: "Ask the server for the file <code>style.css</code>, which is in the folder named <code>css/</code>, which is in the same folder as this <code>index.html</code> file that I'm reading now."</p>
<h3>Applying a CSS rule</h3>
<p>In the <code>style.css</code> file, add the following text:</p>
<pre>body {
  text-align: center;
}</pre>
<p>This tells the browser: "For the <code>body</code> element and all its children, make text appear centred on the page."</p>
<figure>
<img src="img/align-center.png" alt="Centring the matches with text-align: center" />
<figcaption>Figure 38. Centring the matches with <code>body {&nbsp;text-align:&nbsp;center;&nbsp;}</code></figcaption>
</figure>

<div class="aside git">You might like to use the following commands in your Terminal to push these changes to the GitHub server:
<pre>git status
git add -A
git commit -m "Add css/style.css to centre the matches"
git push origin gh-pages
</pre>
<p>Now, you should be able to see the matches centred in your GitHub page.</p>
</div>

<div class="aside next">
When you're ready, click on the Next arrow below, or on item <a href="#"></a> in the menu on the left.
<p>If you want to know more about  below.</p>
</div>

<div class="optional details">
<input type="checkbox" id="css-details"/>
<label for="css-details">Learn more about CSS</label>
<div>
<h4>What HTML does</h4>
<p>HTML defines the <span class="keyword">content</span> and the <span class="keyword">structure</span> of your web page. In particular, it defines:</p>
<ul>
<li>The text and the images that the visitor will see</li>
<li>How the content is divided into blocks</li>
<li>The role of each block.</li>
</ul>
<p>Here are some common roles for blocks of content, and the tags that indicate each role:</p>
<ul>
<li><code>&lt;h1&gt;</code>Header<code>&lt;/h1&gt;</code> </li>
<li><code>&lt;h2&gt;</code>Sub header<code>&lt;/h2&gt;</code> </li>
<li><code>&lt;p&gt;</code>Paragraph<code>&lt;/p&gt;</code> </li>
<li><code>&lt;ul&gt;</code>Unordered list (like this list)<code>&lt;/ul&gt;</code> </li>
<li><code>&lt;li&gt;</code>Item in a list (like this bullet item)<code>&lt;/li&gt;</code> </li>
<li><code>&lt;div&gt;</code>Generic division<code>&lt;/div&gt;</code> </li>
<li><code>&lt;button&gt;</code>Button<code>&lt;/button&gt;</code> </li>
</ul>
<h4>Parents, children and siblings</h4>
<p>HTML elements can be arranged in a hierarchy. The metaphor of a family is used to describe the hierarchy. A <code>parent</code> element can have one or more <code>child</code> elements, which may have children of their own. Each element, except the <code>&lt;html&gt;</code> element itself, will have exactly one parent. Elements that have the same parent are called <span class="keyword">siblings</span>. Child elements can inherit certain properties from their parents.</p>
<p>For example, the <code>img</code> elements in the snippet below are children of the <code>div</code> element. The "match 1 row 3" sibling element is the <code>first-child</code>, and the "match 3 row 3" element is the <code>last-child</code>.</p>
<pre>    &lt;div&gt;
      &lt;img src="img/match.png" alt="match 1 row 3" /&gt;
      &lt;img src="img/match.png" alt="match 2 row 3" /&gt;
      &lt;img src="img/match.png" alt="match 3 row 3" /&gt;
    &lt;/div&gt;</pre>
<p class="aside note">In the current version of CSS (CSS3) child elements cannot affect their parents, and younger siblings (which appear lower down the HTML page) cannot affect their older siblings.</p>
<h4><code>class</code>es and other attributes</h4>
<p>HTML elements may have <span class="keyword">attributes</span>, which are defined inside the opening tag. One important attribute that you can use with any element is <code>class</code>. An HTML element can have more than one class, and many elements can share the same class. You can use classes to tell the browser what CSS <span class="keyword">rules</span> to apply to each element.</p>
<p>Other common attributes include:</p>
<ul>
<li><code>background-color</code></li>
<li><code>color</code> (the colour of the text)</li>
<li><code>font-size</code></li>
<li><code>width</code></li>
<li><code>height</code></li>
</ul>
<h4>CSS rules</h4>
<p>CSS rules are defined like this:</p>
<pre><span class="keyword">selector</span> {
<span class="keyword">attribute</span>: <span class="keyword">value</span>;
<span class="keyword">attribute</span>: <span class="keyword">value</span>;
}</pre>
<div class="aside info">White space is not important in CSS rules, and the final semi-colon is not essential. The rule above could also be defined as:
<pre><span class="keyword">selector</span> {<span class="keyword">attribute</span>:<span class="keyword">value</span>; <span class="keyword">attribute</span>:<span class="keyword">value</span>}</pre>
</div>
<p>A <span class="keyword">selector</span> can be defined in many ways. Here are some that you will be seeing soon:</p>
<ul>
<li>Official tag names, such as <code>body</code></li>
<li>Class names, such as <code>.matches</code></li>
<li>A combination of tags and classes, such as <code>div.matches img</code>. The order of the selector items, and the gaps (or lack of gaps) between them defines a hierarchy of HTML elements. The browser reads the list from right to left. This example will select all <code>img</code> elements which have a <code>div</code> with the class <code>matches</code> as a parent.</li>
<li><span class="keyword">Pseudo-elements</span>, such as <code>:hover</code>, which apply to an element only in certain circumstances. For instance, <code>:hover</code> is only applied if the mouse cursor is hovering over the element.</li>
</ul>
<p>The selector defines which element(s) the rule will apply to. There can be more than one rule that selects a given element. As you will see, there are precise rules about the order in which the rules are applied: precise selectors have priority over more general selectors, and rules that are defined later take priority of rules that were defined earlier.</p>
<p>An <span class="keyword">attribute</span> is the official name of something that you can change about an HTML element. Different attributes have a different range of <span class="keyword">values</span>. You can find details of each type of element, its attributes, and their possible values on <a href="">the w3schools site.</a>.</p>
</div>
</div>

<div class="optional tips">
<input type="checkbox" id="div-tips"/>
<label for="div-tips">Tips and Tricks</label>
<div>
<p class="aside tip">HTML, CSS and JavaScript are written in USAmerican English. This means that you will find words like <span class="keyword">center</span> and <span class="keyword">color</span>. Even if you prefer a different spelling of English, you will simply have to use the official spelling. If you don't, the browser will not understand you.</p>
</div>
</div>

<div class="optional trouble">
<input type="checkbox" id="css-trouble"/>
<label for="css-trouble">Troubleshooting </label>
<div>
<p class="symptom">Your matches remain bunched together on the left of the page:</p>
<ul>
<li>In your <code>index.html</code> file, check that the relative path to your <code>style.css</code> is correct</li>
<li>In your <code>style.css</code> file, check that you have all the right symbols: curly brackets <code>{}</code> around the rule to apply, a colon <code>:</code> after the attribute name, and a semi-colon <code>;</code> after the value.</li>
</ul>
<p class="aside support">If this doesn't solve your problem, please <a href="https://github.com/lexogram/openbook/issues/new">tell us what happened</a> and we'll do our best to find a solution for you.</p>
</div>
</div>
<footer>
<ul class="nav">
<li>
<a href="#select">
<img src="../img/arrow.png" alt="next"/>
</a>
</li>
</ul>
</footer>
</section>

<!-- CSS SELECTORS -->
<section id="select">
<h2>CSS selectors and classes</h2>
<div class="aside preview">In this step, you'll learn about the <span class="keyword">class</span> attribute for HTML elements:
<p>In particular, you will learn how to:</p>
<ul>
<li>Select an element by its tag name</li>
<li>Giving elements a class attribute to distinguish them</li>
<li>Select an element by its class</li>
</ul>
<a href="https://github.com/lexogram/openbook/blob/master/nim/Steps/step_12/step_12.zip?raw=true" target="source">Download the source files</a>
</div>
<p>As it happens, you won't want to centre all the text in your game. For example, later, you will want the text for the rules to be aligned to the left. Using a CSS <span class="keyword">selector</span>, you can choose to apply <code>text-align: center</code> only to the <code>&lt;div&gt;</code> elements that show the matches.</p>
<p>In your <code>style.css</code> file, rename the selector from <code>body</code> to <code>div</code>, as shown below:</p>
<pre class="revised"><span class="new">div</span> {
  text-align: center;
}</pre>
<p>If you save your file and refresh it in the browser, you should see no change. To check that something has changed, you can add a header to your <code>index.html</code> page:</p>
<pre class="revised">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Nim&lt;/title&gt;
    &lt;link rel="stylesheet" href="css/style.css" /&gt;
  &lt;/head&gt;
  &lt;body&gt;
    <span class="new">&lt;h1&gt;Nim&lt;/h1&gt;
    &lt;h2&gt;The game that will beat you&lt;/h2&gt;</span>
    &lt;div&gt;
      &lt;img src="img/match.png" alt="match 1 row 1" /&gt;
...</pre>
<p>As you can see in the screenshot below, only the matches inside the <code>div</code> elements are centred. The text is aligned to the left.</p>
<figure>
<img src="img/div-centered.png" alt="Applying the text-align rule to all div elements" />
<figcaption>Figure 39. Applying the <code>text-align</code> rule to all <code>div</code> elements</figcaption>
</figure>
<h3>Classes</h3>
<p>But later, you will be creating more <code>div</code> elements, and they will not contain matches. How can you select just some elements and not others? The answer is to use a <span class="keyword">class</span>.</p>
<p>For the first <code>div</code> element, the one containing 7 matches, add a class attribute called <code>matches</code>, as shown below:</p>
<pre class="revised">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Nim&lt;/title&gt;
    &lt;link rel="stylesheet" href="css/style.css" /&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;Nim&lt;/h1&gt;
    &lt;h2&gt;The game that will beat you&lt;/h2&gt;
    &lt;div <span class="new">class="matches"&gt;</span>
      &lt;img src="img/match.png" alt="match 1 row 1" /&gt;
...</pre>
<p>In your <code>style.css</code> file, make the rule more specific:</p>
<pre class="revised"><span class="new">div.matches</span> {
  text-align: center;
}</pre>
<p>The rule now applies only to the <code>div</code> that has a class containing the word "matches". The other <code>div</code>s are not affected.</p>
<figure>
<img src="img/align-matches.png" alt="Using div.matches as a selector limits the selection" />
<figcaption>Figure 40. Using <code>div.matches</code> as a selector limits the selection</figcaption>
</figure>
<p>To ensure that all the matches appear centred, you can add <code>class="matches"</code> to all 4 <code>div</code>s, save your <code>index.html</code> page, and refresh your browser to check.</p>
<h3>Simplifying the selector</h3>
<p>In this particular case, the only HTML elements which will have a <code>matches</code> class will be these 4 <code>div</code>s. The browser reads CSS rules from right to left, so <code>.matches</code> is sufficient as a selector.</p>
<pre class="revised"><span class="new">.matches</span> {
  text-align: center;
}</pre>
<div class="aside info">A dot <code>.</code> before a selector item indicates a <span class="keyword">class name</span>. A selector item without a dot designates a <span class="keyword">tag name</span>.
<p>You will also see selector items that start with a hash <code>#</code> character. These are <code>id</code>s. The browser will only recognize one element with a given <code>id</code> on a given page. You can use <code>id="<span class="keyword">unique-id-name"</span> </code> to identify unique elements, such as a checkbox or radio button. You will be doing this on page <a href="#rules">29: Showing the rules</a>.</p></div>
<div class="aside git">Remember to use the Terminal to push these changes to the GitHub server. Here's a shorter version, without the <code>git status</code> command. The <code>-a</code> option for <code>commit</code> will automatically apply the <code>add</code> command for all changed files. Since you only have one repository, and one branch checked out, Git will automatically know that you are referring to the <code>origin</code> local repository and the <code>gh-pages</code> branch, so you can omit this information, too.
<pre>git commit -am "Add .matches class to designate divs to be centered"
git push
</pre>
<p>What does your game look like on the GitHub server now?</p>
</div>

<div class="aside issue">Great! It's time to close your third issue on your <a href="https://github.com/issues">Issues</a> page on GitHub.
</div>

<div class="aside next">
If you are comfortable with the concepts of classes and selectors, you can click on the Next arrow below, or on item <a href="#mouse">13: Reacting to the mouse</a> in the menu on the left.
</div>
<footer>
<ul class="nav">
<li>
<a href="#mouse">
<img src="../img/arrow.png" alt="next"/>
</a>
</li>
</ul>
</footer>
</section>

<!-- REACTING TO THE MOUSE -->
<section id="mouse">
<h2>Reacting to the mouse</h2>
<div class="aside preview">Your next objective is to make your game react to movements of the mouse, to encourage the player to interact with the matches. Specifically, you can:
<ul>
<li>Change the cursor when it moves over a match</li>
<li>Create a highlight around the match under the cursor</li>
</ul>
<a href="https://github.com/lexogram/openbook/blob/master/nim/Steps/step_13/step_13.zip?raw=true" target="source">Download the source files</a>
</div>
<p>Here's some CSS that will do this (and some extra things too):</p>
<pre class="revised"><span class="new">body {
  font-size: 10px;
  background-color: black;
  color: rgb(255,255,255);
}</span>

.matches {
  text-align: center;
}
<span class="new">.matches img{
  width: 1em;
  height: 10em;
  padding: 1em;
  border-radius: 1.5em;
  cursor: pointer;
}
.matches img:hover{
  background: #321;
}</span></pre>
<p>And this is what happens when you roll the mouse over a match:</p>
<figure>
<img src="img/rollover.png" alt="Changing the background-color on hover" />
<figcaption>Figure 41. Changing the <code>background-color</code> of an image on hover</figcaption>
</figure>
<p>If you copy and paste the CSS rules above into your <code>style.css</code> file, save it and refresh your <code>index.html</code> file in your browser, you should see the effect for yourself.</p>
<div class="aside next">
If you're happy to know that this works, without needing to explore any deeper, you can skip the next 5 sections. Click on item <a href="#js">19: JavaScript</a> in the menu on the left, to learn how to make the matches disappear.
<p>If you want to understand how you can achieve this yourself, you can work through the pages on <a href="#units">CSS units</a>, <a href="#box">the box model</a>, <a href="#colors">colours</a> and <a href="#hover">interactions</a>. Click on the Next arrow below, or on <a href="#units">14: CSS units</a> to keep reading.</p>
</div>
<footer>
<ul class="nav">
<li>
<a href="#units">
<img src="../img/arrow.png" alt="next"/>
</a>
</li>
</ul>
</footer>
</section>

<!-- CSS UNITS -->
<section id="units" class="optional">
<h2>CSS units</h2>
<div class="aside preview">In this step, you'll learn how to:
<ul>
<li>Set the font size of an element</li>
<li>Inspect the CSS of the elements in your web page</li>
<li>Use <code>px</code> and <code>em</code> units</li>
<li>Set the size of an element</li>
</ul>
<a href="https://github.com/lexogram/openbook/blob/master/nim/Steps/step_14/step_14.zip?raw=true" target="source">Download the source files</a>
</div>
<p>One important question is: "How big should the game be?" And one good answer is: "I don't know yet. Let's deal with the proportions first and work out the size later." So that's the way I propose that you should work.</p>
<p class="aside tip">For purely practical reasons, since this is a tutorial, it will be good to make the game tall and thin. You'll discover the JavaScript development environment shortly, and you will want to give plenty of space to it, and still keep your game visible. This is easy to do if the game fills only a narrow vertical slice of your screen.</p>
<div class="aside git">If you edited your <code>style.css</code> file on the previous page, you might like to commit your changes to your Git repository before you continue.
<pre>git add -A
git commit -m "Preview of rollover effect"</pre>
<p>Now you are going to make some experiments. This would be a good time to create a <span class="keyword">branch</span> of your project, and make the changes to that branch, leaving your latest commit intact. If your experiments go wrong, you can come back to the point where you are now, and continue from there. Using the <code>-b</code> option with <code>git checkout</code> creates a new branch in your repository with the name that you give as the next word.</p>
<pre class="revised"><span class="new">git checkout -b rollover</span>
Switched to a new branch 'rollover'</pre>
<p class="aside note">Note that if you push changes to the remote repository on GitHub now, you will not see your changes on your GitHub web site, because your site is linked to the <code>gh-pages</code> branch. The <code>rollover</code> branch is intended only for testing locally.</p>
<p>Now you have a new branch: for now it is identical to your <code>gh-pages</code> branch, complete with the changes that you have just committed. However, you want to take a step back to the previous state, and then work forward from there. You can do this with the <code>git revert &lt;commit-name&gt;</code> command. First you need to know the name of your last commit. You can find this using <code>git log</code>. If you use the <code>--oneline</code> option. Here's the command plus the output that I get when I use it:</p>
<pre class="revised"><span class="new">git log --oneline</span>
8439f0a Preview of rollover effect
ad5e390 Add .matches class to designate the divs to be centered
656e9b6 Add css/style.css to centre the matches
7c1cdc9 16 matches arranged in 4 rows, using &lt;div&gt;
4d68023 Add img/match.png; modified index.html to show this image
b6d433d 'Hello World' becomes 'The game will go here'
e6b50f7 Initial commit to the gh-pages branch</pre>
<p>In my case, the name is <code>8439f0a</code>. For you it will be different.</p>
<pre class="revised"><span class="new">git revert </span><span class="red">8439f0a</span> # &lt;= use the name of your own last commit here</pre>
<p>You will need to enter a commit message, in the text editor, then Git will set your workspace back the way it was before your last commit. (See the Troubleshooting section below if you have any problems.)</p>
<figure>
<img src="img/revertPreview.png" alt="Check out a new branch and take one step backwards" />
<figcaption>Figure 42. Checking out a new branch and using it to take one step backwards</figcaption>
</figure>
<p>You can now use the commands <code>git checkout gh-pages</code> and <code>git checkout rollover</code> to switch between your two branches. If you refresh your browser after each <code>checkout</code> command, you will see the different states. The text in your <code>style.css</code> file should update too, inside your text editor.</p>
<figure>
<img src="img/checkoutRollover.png" alt="Using checkout to toggle between branches" />
<figcaption>Figure 43. Using <code>git checkout &lt;branch-name&gt;</code> to toggle between branches</figcaption>
</figure>
<p>Isn't that cool?</p>
</div>

<h3>px, em and %: three units of measurement</h3>
<p>There are 7 different units of measurement in CSS. The three that are most often used are <code>px</code>, <code>em</code> and <code>%</code>. (The other four units are percentages of the size of the browser window. You can achieve neat effects with them, but you won't use them in this tutorial. See the Learn More about CSS units below to discover how they work.)</p>
<p><code>px</code> stands for "pixel" (or <em>pict</em>ure <em>el</em>ement). I'm guessing that you know that a pixel is the smallest dot that can be shown on your computer monitor. I imagine that you are familiar with setting the size of a font, or checking the dimensions of an image or a computer screen using pixels.When you use <code>px</code> to measure an element in CSS, it will always be the fixed size that you set.</p>
<p>You can use it now to make the text in your <code>index.html</code> page smaller. In your <code>style.css</code> file, add the following rule:</p>
<pre class="revised"><span class="new">body {
  font-size: 10px;
}</span>

.matches {
  text-align: center;
}</pre>
<p>Save your changes and refresh your <code>index.html</code> page in your browser. You should see that the characters have become smaller. But they are not as small as 10 pixels. You can ask your browser to explain why:</p>
<ul>
<li>Right-click on the word "Nim"</li>
<li>Choose Inspect Element from the contextual menu that opens</li>
</ul>
<p class="aside note">If you don't see an Inspect Element in the contextual menu, see the Troubleshooting section below.</p>
<figure>
<img src="img/inspect-element.png" alt="Using the elements inspector" />
<figcaption>Figure 44. Using the Elements Inspector</figcaption>
</figure>
<p>In the Styles pane on the right of the Elements Inspector, you should see that the <span class="keyword">user agent stylesheet</span> has a rule for <code>h1</code> elements that gives them a font-size of <code>2em</code>.</p>
 <div class="aside info">The user agent stylesheet
<p>If you provide no CSS information about your web page, the browser will use default values. Different browsers have different default values. In Google Chrome, the default value for font-size is 16px. <span class="keyword">User agent</span> is a technical word for "browser".</p>
</div>
<p>But what's an <span class="keyword">em</span>?</p>
<h3>em: the font ratio unit</h3>
<p>In the Elements Inspector, if you click on the Computed tab of the right-hand pane, and scroll down if necessary, you will see that the computed font-size is 20px. The font-size for the body is 10px, the font-size for the <code>h1</code> element is 2em, and its computed font-size is 20px = 2 x 10px. If you were to guess that <span class="keyword">em</span> is a number to multiply font-sizes by, you'd be right.</p>
<p>In the world of print, an <span class="keyword">em</span> is the width of the letter M in a given font face. It is used as a unit of spacing. In the world of the web, an <span class="keyword">em</span> is a similar unit of spacing, but it refers to the <em>height</em> of the font, from the top of the tallest character to the bottom of the lowest character.</p>
<p>The <code>font-size</code> attribute is inherited. This means that when you (or the user agent) sets it for the <code>body</code> element, all the other elements in your page will inherit the same value, even your images. The <code>match.png</code> image is exactly 10 times as tall as it is wide. If you set its width to <code>1em</code> and its height to <code>10em</code> then it will appear 10px wide and 100px tall. If you now change the <code>font-size</code> of the body element to <code>16px</code>, it will become 16px wide and 160px tall. In other words: you can use the <code>font-size</code> to scale your images.</p>
<p>Try it. In your <code>style.css</code> file, make the following changes:</p>
<pre class="revised">
body {
  font-size: 10px;
}

.matches {
  text-align: center;
}
<span class="new">.matches img{
  width: 1em;
  height: 10em;
}</span></pre>
<p>Save your <code>style.css</code> file and refresh your <code>index.html</code> file in the browser. You should see the matches become smaller.</p>
<div class="aside note">Note that the selector <code>.matches img</code> means "all <code>img</code> elements which have a parent with the class <code>match</code>. The space between <code>.matches</code> and <code>img</code> means "anywhere in the hierarchy": the element with the <code>match</code> class does not have to be the immediate parent of the <code>img</code> element.
<p>In this case, the selector <code>.matches &gt; img</code> would also work. The <code>&gt;</code> means that the two elements must be in a direct parent-child relationship.</p></div>
<h3>Using the Elements Inspector to experiment with CSS</h3>
<p>Instead of changing the value of <code>font-size</code> in your <code>style.css</code> file, saving it, and refreshing your browser, you can use a much faster technique for experimenting with CSS, using the browser's Elements Inspector. Right-click on a match and select Inspect Element from the contextual menu that opens. By default, the Styles pane on the right should be open, and you should see a list of the rules that apply to the element that you clicked on.</p>
<p>The third rule in the list as the one that you applied to the <code>body</code> element, to define the font size. If you click on the value (<code>10px</code>) the value should pop out of the pane and the text should be selected. You can now type any value you like (even invalid ones). Alternatively, you can use the Up and Down arrow keys to alter the value by 1 unit. You can hold down the Shift key to alter the value by 10 each time, or the Alt key to alter the value by 0.1.</p>
<figure>
<img src="img/editCSS.png" alt="You can edit CSS in the Elements Inspector" />
<figcaption>Figure 45. You can edit CSS in the Elements Inspector</figcaption>
</figure>
<div class="aside tip">You can edit the CSS of any page quite radically using this technique. You can add new attribute/value pairs, and you can disable existing settings. When you are satisfied with the results, you can copy all or part of a rule and paste it into your CSS file, for later use. <p>Note that when you refresh the page, all these temporary changes to the CSS will be lost.</p></div>

<h3>A % of the parent</h3>
<p>The <code>%</code> unit sets the size of an element as a percentage of the size of its parent. You'll be using this on page <a href="#TODO">XX: Whatever</a>, when you will be arranging the game controls. If you want to know more now, you can read the Learn More About Units section below.</p>

<div class="aside git">You might like to use the following commands in your Terminal to save these changes to your local Git repository. If you are working on the <span class="keyword">rollover</span> branch, you don't have to push the changes to the GitHub server unless you want to access them from a different computer.
<pre>git status
git add -A
git commit -m "Set body font-size in px and match dimensions in em"
</pre>
</div>

<p class="aside next">
Now that you know how to set dimensions using CSS, you are ready to create some space around the matches. Click on the Next arrow below, or on item <a href="#box">15: The CSS box model</a> in the menu on the left, or continue reading the optional sections below.</p>

<div class="optional details">
<input type="checkbox" id="units-details"/>
<label for="units-details">Learn more about units</label>
<div>
<p>There are 7 different ways of measuring size in CSS. In this game you are going to use the first 2 of them. Here is the complete list:</p>
<dl>
<dt><code>px</code> </dt>
<dd><code>px</code> stands for "pixel". As with all CSS units, there must be no space between the digits and the units. For example, the browser will ignore a rule that is written like this:<pre>
body { font-size: <span class="red">10 px</span> }</pre></dd>
<dt><code>em</code></dt>
<dd>One <code>em</code> is identical to the font-size of the current element. It can therefore have different values in different elements. For example, if the default font-size for the body is 10px and an <code>&lt;h1&gt;</code> header has a font-size of 2em, the header font will have a size of 2 x 10px = 20px. Padding of 2em around the header text will be 40px thick: 2 x 2 x 10px.
<figure>
<img src="img/em.png" alt="The value of an em unit depends on the font size of the base element" />
<figcaption>Figure 46. The value of an <code>em</code> unit depends on the font size of the base element</figcaption>
</figure>
</dd>
<dt><code>%</code></dt>
<dd>A percentage width or height is calculated with respect to the width or height of the parent element. If the parent is 100px by 100px and the element has a width of 200% and a height of 50%, it will be 200px by 50px.
<p class="aside note">There is one exception: padding and margin are always calculated with respect to the <em>width</em> of the parent. This means that you can create an element with a fixed aspect ratio by setting its <code>width</code> to 100% of its parent width, its <code>height</code> to 0 and its <code>padding-top</code> to a percentage of its parent width:</p>
<figure>
<img src="img/percent.png" alt="Expressing dimensions as a percentage of the parent's dimensions" />
<figcaption>Figure 47. Expressing dimensions as a percentage of the parent's dimensions</figcaption>
</figure>
</dd>
<dt><code>vw</code></dt>
<dd>One <code>vw</code> unit is 1% of the <strong>v</strong>iewport <strong>w</strong>idth: 100 <code>vw</code> units fill the width of the window.</dd>
<dt><code>vh</code></dt>
<dd>One <code>vh</code> unit is 1% of the <strong>v</strong>iewport <strong>h</strong>eight: 100 <code>vw</code> units fill the height of the window.</dd>
<dt><code>vmin</code></dt>
<dd>One <code>vmin</code> unit is the smaller of the <code>vw</code> and the <code>vh</code> units</dd>
<dt><code>vmax</code></dt>
<dd>One <code>vmax</code> unit is the larger of the <code>vw</code> and the <code>vh</code> units</dd>
</dl>
<p>Elements with sizes measured in <code>px</code> will have a fixed size. Elements with sizes measured in <code>vw</code>, <code>vh</code>, <code>vmin</code> or <code>vmax</code> will change in size when the user resizes the window. Elements with sizes measured in <code>%</code> will have a size relative to their parent: if the size of the parent is measured with respect to the window (as a <code>%</code>, or as a <code>v...</code>), then the size of the element will change with the size of the window. Elements with sizes measured in <code>em</code> will all change in size together if you change the font-size of their base elements.</p>
<div class="aside info">The <code>em</code>, <code>%</code>, <code>vw</code>, <code>vh</code>, <code>vmin</code> and <code>vmax</code> units are for your convenience. In practice, the browser converts these to pixel dimensions before applying them to the elements in your page. If you look at the values shown in the Computed pane of the Elements Inspector, or at the callouts in the main browser window, you will see that the units that are displayed are always <code>px</code>.
<figure>
<img src="img/computedPX.png" alt="The browser always converts to px units before applying dimensions" />
<figcaption>Figure 48. The browser always converts to <code>px</code> units before applying dimensions</figcaption>
</figure>
</div>
</div>
</div>

<div class="optional tips">
<input type="checkbox" id="inspector-tips"/>
<label for="inspector-tips">Tips and Tricks</label>
<div>
<p>When you first open the Development Tools in Google Chrome, the main browser window will be split in two, vertically. You can create a horizontal split by clicking on the button in the top right corner of the window, or open the Developer Tools in a separate window by clicking and holding on the button, and choosing the second option in the menu that opens.</p>
<figure>
<img src="img/inspector-positions.png" alt="Choosing the position of the Development Tools panel" />
<figcaption>Figure  49. Choosing the position of the Development Tools panel</figcaption>
</figure>
</div>
</div>

<div class="optional trouble">
<input type="checkbox" id="units-trouble"/>
<label for="units-trouble">Troubleshooting </label>
<div>
<p class="symptom">When you run the <code>revert</code> command, the Terminal starts behaving strangely.</p>
<ul>
<li>Press <code>:q</code> to quit the command line text editor and cancel your revert action, then configure Git to use Sublime Text as its default text editor, then try again.</li>
</ul>
<p class="symptom">When you right-click on an element in the browser, the contextual menu that opens does not contain an <code>Inspect Element</code> item.</p>
<ul>
<li>It's likely that you are using Apple Safari as your browser. You will need to activate the <span class="keyword">development tools</span> before the <code>Inspect Element</code> item will appear.</li>
<li>Click on the Safari menu</li>
<li>Choose Preferences</li>
<li>In the dialogue window that opens, select the Advanced tab</li>
<li>At the bottom of the window select the Show Develop Menu in Menu Bar checkbox</li>
<li>When you right-click now, the Inspect Element item should appear in the contextual menu</li>
</ul>
<figure>
<img src="../img/devToolsSafari.png" alt="Enabling developer menu on Safari" />
<figcaption>Figure 50. Enabling the Developer menu on Apple Safari</figcaption>
</figure>
<p class="aside support">If this doesn't solve your problem, please <a href="https://github.com/lexogram/openbook/issues/new">tell us what happened</a> and we'll do our best to find a solution for you.</p>
</div>
</div>
<footer>
<ul class="nav">
<li>
<a href="#box">
<img src="../img/arrow.png" alt="next"/>
</a>
</li>
</ul>
</footer>
</section>

<!-- THE CSS BOX MODEL -->
<section id="box" class="optional">
<h2>The CSS box model</h2>
<div class="aside preview">In this step, you'll learn how to:
<ul>
<li>Create space and lines around your elements</li>
<li>Create elements with rounded corners</li>
</ul>
<a href="https://github.com/lexogram/openbook/blob/master/nim/Steps/step_15/step_15.zip?raw=true" target="source">Download the source files</a>
</div>
<p>In the Elements Inspector, you may have already noticed a diagram that looks like this:</p>
<figure>
<img src="img/box-model.png" alt="The box model diagram" />
<figcaption>Figure 51. </figcaption>
</figure>
<p>You may also have noticed that as you move your cursor over the HTML representation of the page elements in the Elements Inspector, coloured highlighting appears in the main browser window, along with a callout of the element type and its dimensions.</p>
<figure>
<img src="img/box-model-highlight.png" alt="Box model highlighting" />
<figcaption>Figure 52. Using the Elements Inspector to highlight the dimensions of an element in the browser page</figcaption>
</figure>
<p>This is a representation of the <span class="keyword">box model</span>. Every visible HTML element is drawn in a rectangular box, with layers like a rectangular onion. The innermost layer is the HTML content itself, such as a piece of text or an image. Around that are three additional layers, which are often invisible:</p>
<dl>
  <dt><code>padding</code></dt>
  <dd>Padding extends the clickable area of an element. If the element has a <code>background-color</code> this color will extend to the edge of the padding. You can have different amounts of padding one each of the four sides of the element, if you want.</dd>
  <dt><code>border</code></dt>
  <dd>The border also extends the clickable area of an element, by drawing a line around the padding area. The line can be a solid line, or dashed or dotted, a groove or a ridge, inset or outset, or hidden. It can be a different width, style and color on each of the 4 sides, if that is what you choose. You can also give the border (and thus the padding area) rounded corners, and each corner can have a different radius.</dd>
  <dt><code>margin</code></dt>
  <dd>The margin of an element defines the minimum amount of blank between the outside of its border/padding and the next element.</dd>
</dl>
<p>Here's a demonstration. Right click on one of the shapes in the sandbox below and select Inspect Element, then edit the values for the different attributes in the Styles pane.</p>
<div class="box-model parent">
  <div class="box-model red">red</div>
  <div class="box-model green">green</div>
  <div class="box-model blue">blue</div>
</div>
<figure>
<img src="img/box-model-test.png" alt="Playing with the box model attributes" />
<figcaption>Figure 53. Playing with the box model attributes</figcaption>
</figure>
<h3>Edges and shortcuts</h3>
<p>If you look at the CSS for the red element, you will see that it includes the following rules:</p>
<pre>  padding-top: 10px;
  padding-right: 20px;
  padding-bottom: 40px;
  padding-left: 50px;</pre>
<p>However, for the green element, the padding is defined in one line:</p>
<pre>  padding: 6em 7em 4em 3em;</pre>
<p>The rule for green uses a shortcut, with 4 values given at once. The values are defined clockwise, starting at the top (at 12 o'clock). The one-line rule for green is the equivalent of:</p>
<pre>  padding-top: 6em;
  padding-right: 7em;
  padding-bottom: 4em;
  padding-left: 3em;</pre>
<p>When you use the one-line shortcut, you do not need to define all the edges. Here are 3 different one-line shortcuts, and their equivalent in the verbose format:</p>
<pre>  padding: 6em <span class="blue">7em</span> 4em;
  /* This is the same as: */
  padding-top: 6em;
  padding<span class="blue">-right: 7em</span>;
  padding-bottom: 4em;
  padding<span class="blue">-left: 7em</span>;</pre>
<pre>  padding: <span class="red">6em</span> <span class="blue">7em</span>;
  /* This is the same as: */
  padding<span class="red">-top: 6em;</span>
  padding<span class="blue">-right: 7em</span>;
  padding<span class="red">-bottom: 6em</span>;
  padding<span class="blue">-left: 7em</span>;</pre>
<pre>  padding: <span class="red">6em</span>;
  /* This is the same as: */
  padding<span class="red">-top: 6em</span>;
  padding<span class="red">-right: 6em</span>;
  padding<span class="red">-bottom: 6em</span>;
  padding<span class="red">-left: 6em</span>;</pre>
<p>In these examples, I've used the same unit for every edge, but you can use different units for each edge, if that makes sense in your project. For example, this is perfectly valid:</p>
<pre>margin: 0 1px 2em 3%</pre>
<p>When you set a value to <code>0</code>, there is no need to include any unit. The value will be zero regardless of the unit you use.</p>
<div class="aside note">If you use <code>%</code> as the unit for <code>padding</code> or <code>margin</code> then this always refers to the <em>width</em> of the parent, never the height, even when you use it with the <code>-top</code> or <code>-bottom</code> attributes.<p>You cannot use <code>%</code> as the unit for <code>border-width</code>.</p></div>
<div class="aside note">You can also use <code>auto</code> for the two horizontal values of <code>margin</code>, in order to centre an element horizontally within its parent.<pre><em>selector</em> {
  margin: 0 auto;
}</pre></div>
<h3>The various <code>border</code> attributes</h3>
<p>If you look at the CSS rule for the blue element, you will see that it includes this definition for the border:</p>
<pre>  border-style: solid;
  border-width: 15px 5px;
  border-color: lightblue;
  border-radius: 16px;</pre>
<p>However the <code>border</code> rule for the green is a one-line shortcut:</p>
<pre>  border: dotted 10px palegreen;</pre>
<p>This is equivalent to:</p>
<pre>  border-style: dotted;
  border-width: 10px;
  border-color: palegreen;</pre>
<p>Because all the attributes have different ranges (units, line style names, colors), you can write them in any order you want. This would give exactly the same result:</p>
<pre>  border: 10px dotted palegreen;</pre>
<p>You can leave out the <code>-color</code> and <code>-style</code> attributes. Your browser will provide default values (black and 3.333px, in Google Chrome). You must give a valid value for <code>-style</code>. If you don't the browser will ignore your rule.</p>
<div class="aside note">CSS applies rules in the order in which they appear. For the green element, the colour <code>palegreen</code> is applied to all the edges, thanks to the first rule:<code>border: dotted 10px palegreen;</code>. The next two lines override this choice of <code>border-color</code> for the top and the bottom:
<pre>  border-top-color: darkgreen;
  border-bottom-color: rgba(192, 255, 192, 0.5);</pre>
<p>You can see different ways of defining color on page <a href="#color">16: CSS colors</a>.</p></div>
<h3><code>border-radius</code></h3>
<p>The <code>border-radius</code> attribute is not included in the one-line shortcut. If you want to give rounded corners to your element, you must provide a rule for <code>border-radius</code> separately.</p>
<p>As with the <code>padding</code>, <code>border-width</code> and <code>margin</code> attributes, you can provide a different value for each corner, in a single line. This rule for the blue element...</p>
<pre>  border-radius: 16px 0 2em;</pre>
<p>... is equivalent to:</p>
<pre>  border-top-left-radius: 16px;
  border-top-right-radius: 0px;
  border-bottom-right-radius: 2em;
  border-bottom-left-radius: 0px;</pre>
<p class="aside note">If you make the <code>border-radius</code> bigger than the dimensions of the element, it will automatically be reduced to the largest meaningful value. The green element initially has a <code>border-radius</code> of 100em, or 2000px, but the radius that is actually applied is only 110px.</p>
<p class="aside tip">Explore what happens when you change the <code>font-size</code> attribute of the <code>parent</code> element. You'll see how the values with <code>em</code> units change size while the values with <code>px</code> </p>
<h3>Using what you have learnt</h3>
<p>When you have done enough experimenting to feel comfortable with the different layers of the box model, you can apply your new understanding to your own project. In your <code>style.css</code> file, make the following change:</p>
<pre class="revised">body {
  font-size: 10px;
}

.matches {
  text-align: center;
}
.matches img{
  width: 1em;
  height: 10em;
  <span class="new">padding: 1em;
  background-color: gray;
  border-radius: 1.5em;</span>
}</pre>
<p>Save your file and refresh the page in your browser window. You should see something similar to this:</p>
<figure>
<img src="img/paddingBackground.png" alt="Creating padding with a background-color" />
<figcaption>Figure 54. Creating <code>padding</code> with a <code>background-color</code> around the match images</figcaption>
</figure>
<p>The matches have been pushed apart by the padding that you have created around them.</p>
<div class="aside note">Now you can see that there is a gap between each match. This is a space <code> </code> character. By default, HTML displays any series of <span class="keyword">whitespace</span> characters as a single space <code>&nbsp;</code>. Whitespace characters include:
<ul>
<li>spaces</li>
<li>tabulation characters (tabs) <code></code> </li>
<li>carriage returns (used to separate paragraphs on Macintosh computers)</li>
<li>line feed characters (used to separate paragraphs on Unix-like computers)</li>
<li>the combination of a carriage return and a line feed character  (used to separate paragraphs on Windows computers)</li>
</ul>
<p>If you wanted to get rid of the spaces between the matches, you could edit your HTML so that there is no whitespace between the end of one <code>&lt;img&gt;</code> tag and the beginning of the next:</p>
<pre class="revised">...
  &lt;body&gt;
    &lt;div&gt;
      &lt;img src="img/match.png" alt="match 1 row 1"
    <span class="new">/&gt;&lt;</span>img src="img/match.png" alt="match 2 row 1"
    <span class="new">/&gt;&lt;</span>img src="img/match.png" alt="match 3 row 1"
    <span class="new">/&gt;&lt;</span>img src="img/match.png" alt="match 4 row 1"
    <span class="new">/&gt;&lt;</span>img src="img/match.png" alt="match 5 row 1"
    <span class="new">/&gt;&lt;</span>img src="img/match.png" alt="match 6 row 1"
    <span class="new">/&gt;&lt;</span>img src="img/match.png" alt="match 7 row 1" /&gt;
    &lt;/div&gt;
...
</pre>
<p>You'll notice that the browser doesn't care what whitespace characters you use inside a tag, or how many you use. If you like to write each attribute on a different line, arranged neatly in columns, the browser will be just as happy:</p>
<pre>    &lt;img src="img/match.png"
         alt="match 1 row 1"
    /&gt;</pre>
</div>
<div class="aside git">You might like to update your local repository after making your latests changes:
<pre>git commit -am "Add padding, border-radius and background-color"
</pre>
</div>

<div class="aside next">
You've already had a glimpse about how to apply <code>background-color</code> to an element. Now you can look at how CSS treats colour in more detail. Click on the Next arrow below, or on item <a href="#colors">16: CSS colors</a> in the menu on the left.
</div>

<div class="optional details">
<input type="checkbox" id="box-details"/>
<label for="box-details">Learn more about the box model</label>
<div>
<p>Here are some external links where you can learn more about the CSS box model:</p>
<ul>
<li><a href="">TODO</a></li>
</ul>
</div>
</div>

<footer>
<ul class="nav">
<li>
<a href="#colors">
<img src="../img/arrow.png" alt="next"/>
</a>
</li>
</ul>
</footer>
</section>

<!-- CSS COLORS -->
<section id="colors" class="optional">
<h2>CSS colors</h2>
<div class="aside preview">In this step, you'll lear
<ul>
<li>Define a color in 7 different ways</li>
<li>Experiment with JavaScript</li>
<li>Set the background colour of an element</li>
<li>Set the text color for an element and its children</li>
</ul>
<a href="https://github.com/lexogram/openbook/blob/master/nim/Steps/step_16/step_16.zip?raw=true" target="source">Download the source files</a>
</div>
<p>When you were experimenting with the <code>padding</code>, <code>border</code> and <code>margin</code> settings on page <a href="box">15: The CSS box model</a>, you may have noticed the colour swatches. You may even have clicked on one of them and seen the colorpicker open. This allows you to change the <code>color</code> that you apply to an element. If you Shift-click on a colour swatch, you will see that the same <code>color</code> can be defined in different ways.</p>
<figure>
<img src="img/colorpicker.png" alt="A colour swatch in Google Chrome" />
<figcaption>Figure 55. A colour swatch in Google Chrome</figcaption>
</figure>
<h3>Color formats</h3>
<dl>
  <dt>Color names</dt>
  <dd><p>The w3c organization that creates the standards that browsers (are supposed to) follow, defines 256 <code>color</code> names for 256 distinct colours. These include both familiar and obvious names like <code>white</code>, <code>black</code> and <code>red</code>, through compound names like <code>palegreen</code> and <code>lightgreen</code> (which represent the same colour) to more obscure names like <code>teal</code> and <code>burlywood</code>, which might not evoke any particular colour to you, especially if English is not your first language.</p>
  <p>You can use your own preferred English spellings: both <code>grey</code> and <code>gray</code> refer to the same colo(u)r.</p>
  <figure>
  <img src="img/color-name.jpg" alt="Named colours" />
  <figcaption>Figure 56. Defining colours by their official names</figcaption>
  </figure>
  </dd>
  <dt><code>rgb</code>: Red, Green, Blue</dt>
  <dd><p>Most humans have three types of light detector cells in their eyes. These react most strongly to the <span class="keyword">primary colours</span> that we call red, green and blue.</p><p>To create colours that look realistic to us humans, a computer screen generate dots that emit varying levels of red, green or blue light.</p>
  <p>Computers count in 0s and 1s. With one <span class="keyword">bit</span> or <em>bi</em>nary dig<em>it</em>, you can create 2 values: 0 or 1. As a result, computers work fastest with numbers that are powers of 2, like 2, 4, 8, 16, ... 256. 256 is a nice number because it is can be represented by 8 bits, and 8 is a power of 2. With 8 bits, you can represent numbers from 0 (<code>00000000</code>) to 255 (<code>11111111</code> or 1x128 + 1x64 + 1x32 + 1x16 + 1x16 + 1x8 + 1x4 + 1x2 + 1x1).</p>
  <p>In good light, the human eye can distinguish millions of distinct colours. Computer screens can generate millions of distinct colours by varying the amount of red, green and blue light over 256 different values: from 0 to 255. A <code>color</code> that is made of 255 units of red plus 127 units of green and 0 units of blue will appear <span class="orange">orange</span>. Using the same amount of all three primary colours will give various shades of grey, from "black" (0 of all three colours) to "white" (255 for all three colours). In fact, you do not get pure black: you get the dark grey colour of your unlit screen. You do not get pure white either: you get a pale grey that doesn't hurt your eyes too much.</p>
  <p>When you want to tell a computer which colour to display, you can use the format <code>rgb(<span class="keyword">red-value</span>, <span class="keyword">green-value</span>, <span class="keyword">blue-value</span>)</code>. For example: this colour of <span class="orange">orange</span> can be expressed as <code>rgb(255, 127, 0)</code>.</p>
  <figure>
  <img src="img/color-rgb.jpg" alt="RGB colours are represented as a mix of red, green and blue" />
  <figcaption>Figure 57. RGB <code>color</code>s are represented as a mix of red, green and blue</figcaption>
  </figure>
  </dd>
  <dt><code>rgba</code>: Red, Green, Blue and Alpha</dt>
  <dd><p>Colours defined in the <code>rgb()</code> format are solid, opaque colours. To make a colour appear transparent, so that it is affected by other colours behind it, you can add a 4th variable: <span class="keyword">alpha</span> opacity. For CSS, this is expressed as a number between <code>0.0</code> and <code>1.0</code>, where <code>0.0</code> means "no opacity at all" (or "completely transparent"), and <code>1.0</code> means "totally opaque".</p>
  <p>Here are two elements that overlap. The one on the left has a rule <code>background-color: rgb(255,0,0)</code> (opaque red). The one on the right <code>background-color: rgb<strong>a</strong>(0,255,0,<strong>0.5</strong>)</code> (semi-transparent blue). Where they overlap, the <code>color</code> becomes <code>rgb(127, 0, 127)</code>: half of each original <code>color</code>.</p>
  <div class="rgb red"></div><div class="rgb blue"></div>
  <figure>
  <img src="img/color-rgba.jpg" alt="Using alpha to measure opacity" />
  <figcaption>Figure 58. RGBA <code>color</code>s use an alpha channel to measure opacity</figcaption>
  </figure>
  </dd>
  <dt>Hexadecimal</dt>
  <dd><p>The computer doesn't really understand colours and decimal numbers. It prefers binary, but binary numbers are long to write. Here's the number 42 in binary: <code>00101010</code>. A compromise is to use a hexadecimal system, where you count in powers of 16. The number 42 can be written as 2x16 + 10x1, or <code>2A</code>, where <code>A</code> stands for 10.</p>
  <p>In a number system that counts in 16s, you need a separate symbol for every value from 0 - 15. Our decimal system has numbers from 0 - 9; for the numbers 11 - 15, the letters A - F are used.</p>
  <p>To make it clear that the string <code>#FF7F00</code> is a number, a <code>#</code> hash sign is placed at the beginning. Here's how you can understand this number:</p>
  <br /><span class="red">FF</span><span class="green">7F</span><span class="blue">00</span>
  <br /><span class="red">Fx16 + Fx1 red</span>, <span class="green">7x16 + Fx1 green</span>, <span class="blue">0x16 + 0x1 blue</span>
  <br /><span class="red">15x16 + 15x1 = 255 red</span>, <span class="green">7x16 + 15x1 = 127 green</span>, <span class="blue">0x16 + 0x1 = 0 blue</span>
  <br />rgb(<span class="red">255</span>, <span class="green">127</span>, <span class="blue">0</span>)
  <br />You've seen this colour before. It's <span class="orange">orange</span>.
  <p>From now on, any time you see a string of 6 characters chosen from the set <code>0123456789ABCDEF</code>, you'll know that this can be used to represent a colour, in the way that computers like best.</p>
  <figure>
  <img src="img/color-008040.png" alt="Colours can be expressed as a hexadecimal number" />
  <figcaption>Figure 59. Colours can be expressed as a hexadecimal number</figcaption>
  </figure>
  </dd>
  <dt>Short hexadecimal: multiples of 17</dt>
  <dd><p>In the early days of the Internet, connections were slow, and every bit was a burden. That's why you see element names like <code>p</code> and <code>img</code>, and units like <code>px</code>, instead of whole words.</p>
  <p>It's possible to express 4,096 distinct colours using only 4 characters instead of 7. For CSS, the number <code>#F70</code> is a short form for <code>#FF7700</code>. This is not exactly the same orange as <code>#FF7F00</code>, but it is so close you are unlikely to notice the difference.</p>
  <figure>
  <img src="img/color-093.png" alt="To save space, you can use just three hex digits to express 4096 different colours" />
  <figcaption>Figure 60. To save space, you can use just three hex digits to express 4096 different colours</figcaption>
  </figure>
  </dd>
  <dt><code>hsl</code>: Hue, Saturation, Luminosity</dt>
  <dd><p>Humans don't think of colours as numbers. It's difficult to compare several colour numbers and know whether they will make a matching set.</p>
  <p>Humans (at least English-speaking ones) tend to think of three aspects of colour. The technical terms for these are <span class="keyword">hue</span>, <span class="keyword">saturation</span> and <span class="keyword">luminosity</span>, but you might prefer to think of <span class="keyword">colour</span>, <span class="keyword">clarity</span> and <span class="keyword">darkness</span>.</p>
  <p><span class="keyword">Hue</span> refers to the basic colours of the rainbow, cycling through <span class="red">red</span>, <span class="orange">orange</span>, <span class="yellow">yellow</span>, <span class="green">green</span>, <span class="cyan">cyan</span>, <span class="blue">blue</span>, <span class="magenta">magenta</span> and back to <span class="red">red</span> again.</p>
  <p><span class="keyword">Saturation</span> means how much white has been added. The more white you add to a colour, the more "washed out" it looks. Saturated colours grab your attention. Unsaturated colours are restful pastel shades.</p>
  <p><span class="keyword">Luminosity</span> refers to how much light you can see. As you add more black to a colour, so its luminosity decreases.</p>
  <p>You can think of colour space as being cylindrical. Imagine a  or disc with all the bright, saturated colours around the edge. There are 360° in a circle. You can think of <span class="red">red</span>as being at 0°, <span class="green">green</span> at 120° and <span class="blue">blue</span> at 240°. The colour <span class="magenta">,magenta</span>, halfway between blue and red will be at 300°.</p>
  <p>You can imagine that as you move towards the centre of the disc, at the point where all the colours add together to become white light. And you can imagine many discs piled on top of each other, with top one being full of light and the bottom one being in total darkness. Every point on the disc at the bottom will be black.</p>
  <figure>
  <img src="img/color-wheel.jpg" alt="A colour wheel with saturated colours on the circumference and white in the middle." />
  <figcaption>Figure 61. A colour wheel with saturated colours on the circumference and white in the middle.</figcaption>
  </figure>
  <p>The <span class="keyword">hsl</span> format describes colours in terms of:</p>
  <ul>
  <li>Hue: a rotation around the circle, from 0° up to (but not including) 360°</li>
  <li>Saturation: a value of clarity from 0% (a shade of grey) to 100% (a pure colour)</li>
  <li>Luminosity: a value of brightness from 0% (totally black) to 100% (bright)</li>
  </ul>
  <p>The Google Chrome colorpicker shows the colour space as a series of knife cuts through a cylindrical cake: white at the top left, at the point where the knife will start cutting from the centre of the cake; saturated colours at the top right, at the outside edge of the cake; and black at the bottom. The vertical strip on the right represents a ribbon around the circumference of the cake, showing the colours at the top circular edge.</p>
  <figure>
  <img src="img/color-hsl.jpg" alt="The colorpicker displays colours in terms of hue, saturation and luminosty" />
  <figcaption>Figure 62. The colorpicker displays colours in terms of hue, saturation and luminosty</figcaption>
  </figure>
  </dd>
  <dt><code>hsla</code>: Hue, Saturation, Luminosity and Alpha</dt>
  <dd>As with the RGB format, you can add an alpha value between <code>0.0</code> and <code>1.0</code> to set the opacity of a colour defined with hue, saturation and luminosity.
  <figure>
  <img src="img/color-hsla.jpg" alt="Use the alpha slider to set the opacity of the colour." />
  <figcaption>Figure 63. Use the alpha slider to set the opacity of the colour.</figcaption>
  </figure>
  </dd>
</dl>

<p class="aside note">Luminosity changes diagonally, from the bottom right to the top left. At the top and the right edge of the colour slice, saturation is considered to be 100%. At the top right hand corner, saturation is at 50%: there is neither extra darkness nor extra light.</p>
<div class="aside tip">You might find the Hue, Saturation Luminosity method of describing colours the easiest to visualize.
<ul>
<li>To create a page with co-ordinated colours, you can pick one value for hue, and vary the values for saturation and luminosity.</li><li>To create a page with bright, vibrant colours, you can set saturation to 100 and luminosity to 50, and vary the hue.</li>
<li>To create a page in pastel colours, choose a fairly low value for saturation (such as 25) and a fairly high value for luminosity (such as 75), and vary the hue.</li>
</ul>
</div>
<p class="aside tip">You can use the colorpicker in the Elements Inspector to pick a colour, and then copy its definition and paste it into your <code>CSS</code> file.</p>
<h3>Opacity</h3>
<p>You can use the alpha value in the <code>rgba</code> and <code>hsla</code> colour formats to change the opacity of an area of colour. You can also use the <code>opacity</code> attribute to change the opacity of an entire element, such as an image.</p>
<p>To give you a taste of the JavaScript that you will be writing soon, try this in the Developer Tools window:</p>
<ul>
<li>Select the Console tab at the bottom of the  Developer Tools window and open it up to give yourself room.</li>
<li>You'll see a <code>&gt;</code> <span class="keyword">prompt</span> symbol at the top of the Console pane. Click just to the right of it and enter the following JavaScript code:
<pre>document.getElementsByTagName("img")</pre>
<p class="aside note">In JavaScript, it's important to get the case of every letter right, so you might prefer to copy and paste the code above.</p></li>
<li>Press the Enter key.</li>
<li>You should see an <span class="keyword">array</span> of all the <code>img</code> elements in your <code>index.html</code> page.</li>
<li>The <code>&gt;</code> <span class="keyword">prompt</span> symbol will now appear beneath the output.</li>
<li>Press the Up arrow, to make the last command that you typed reappar after the prompt.</li>
<li>Add the following text at the end of the command:<pre class="revised">document.getElementsByTagName("img")<span class="new">[0].style.opacity = 0.25</span></pre></li>
<li>Press the Enter key</li>
<li>Look at the main browser window for your <code>index.html</code> page. The first match, and the padding around it, should have become semi-transparent.</li>
</ul>
<figure>
<img src="img/opacity.png" alt="Using the Console to run JavaScript commands" />
<figcaption>Figure 64. Using the Console to run JavaScript commands</figcaption>
</figure>
<p class="aside info">This is just a preview of what JavaScript can do. You will find explanations for this on page <a href="#js">19: JavaScript.</a></p>
<h3>Setting the <code>background-color</code> for your page</h3>
<p>Now that you know how to define colors, perhaps you'd like to change the background colour of your page. You can choose whatever colour and use whichever format you prefer to define it. For my version of the game, I have used the simplest way to say "black":</p>
<p>Make the following change to your <code>style.css</code> file, save your changes, then refresh your browser.</p>
<pre class="revised">body {
  font-size: 10px;
  <span class="new">background-color: black;</span>
}

.matches {
  text-align: center;
}
.matches img{
  width: 1em;
  height: 10em;
  padding: 1em;
  background-color: gray;
  border-radius: 1.5em;
}</pre>
<figure>
<img src="img/backgroundBlack.png" alt="Setting the background color" />
<figcaption>Figure 65. Setting the <code>background-color</code> of the page</figcaption>
</figure>
<h3>Text <code>color</code></h3>
<p>Oops. Black text on a black background is just a little bit too Ninja to be readable. You can set the <code>color</code> of all the text in your web page by making the change shown below. You can, of course, use whatever colour you want</p>
<pre class="revised">body {
  font-size: 10px;
  background-color: black;
  <span class="new">color: rgb(255,255,255);</span>
}

.matches {
  text-align: center;
}
.matches img{
  width: 1em;
  height: 10em;
  padding: 1em;
  background-color: gray;
  border-radius: 1.5em;
}</pre>
<figure>
<img src="img/colorWhite.png" alt="Setting the color for all text" />
<figcaption>Figure 66. Setting the <code>color</code> for all text on the page</figcaption>
</figure>
<p>There are 2 things to notice here.</p>
<ol>
<li>All other <code>-color</code> attributes begin with the name of the part whose colour you want to change: <code>background-color</code>, <code>border-color</code>, <code>border-top-color</code> and so on. For text, there is no <code><span class="red">text-color</span></code> attribute. The attribute name is just plain <code>color</code>.</li>
<li>You are not changing the <code>color</code> of the text in the <code>h1</code> and <code>h2</code> elements directly. You are changing the <code>color</code> of the <code>body</code>, which is the ultimate parent of every other element on the page. The <code>h1</code> and <code>h2</code> elements (and all other elements) <span class="keyword">inherit</span> the value of <code>color</code>, unless you set it directly for a specific element and its children.</li>
</ol>
<div class="aside git">It's time to commit your latest changes to your local repository:
<pre>git commit -am "Set background-color and color for the entire page"</pre>
</div>

<div class="aside next">
Well done! Up until now, to see the effect of the changes you have made, you have had to refresh your <code>index.html</code> page in your browser. From the next page on, you will be adding interactivity to your game. Moving the mouse will change what you see on the screen in real time. If you're ready for this, click on the Next arrow below, or on item <a href="#hover">17: CSS interactions</a> in the menu on the left.
</div>

<div class="optional trouble">
<input type="checkbox" id="color-trouble"/>
<label for="color-trouble">Troubleshooting </label>
<div>
<p class="symptom">When you type JavaScript code in the Console you get an error message, or nothing happens</p>
<ul>
<li>JavaScript is case-Sensitive. This means that the words "case", "Case" and "CASE" (for example) have different meanings. You must be careful to use the write case for every letter that you type.</li>
</ul>
<p class="aside support">If this doesn't solve your problem, please <a href="https://github.com/lexogram/openbook/issues/new">tell us what happened</a> and we'll do our best to find a solution for you.</p>
</div>
</div>
<footer>
<ul class="nav">
<li>
<a href="#hover">
<img src="../img/arrow.png" alt="next"/>
</a>
</li>
</ul>
</footer>
</section>

<!-- CSS INTERACTIONS -->
<section id="hover" class="optional">
<h2>CSS interactions</h2>
<div class="aside preview">In this step, you'll learn how to:
<ul>
<li>Change the appearance of the cursor</li>
<li>Change the value of an attribute when the mouse is over an element</li>
</ul>
<a href="https://github.com/lexogram/openbook/blob/master/nim/Steps/step_17/step_17.zip?raw=true" target="source">Download the source files</a>
</div>
<p>When you move your cursor over a link on a web page, the cursor changes to a pointing finger, and often the link changes colour. You can make this happen when the cursor moves over a match image, too. Changing the cursor image is easy. You can do it with one line of CSS:</p>
<pre class="revised">body {
  font-size: 10px;
  background-color: black;
  color: rgb(255,255,255);
}

.matches {
  text-align: center;
}
.matches img{
  width: 1em;
  height: 10em;
  padding: 1em;
  border-radius: 1.5em;
  background-color: gray;
  <span class="new">cursor: pointer;</span>
}</pre>
<figure>
<img src="img/cursorArrow.png" alt="The cursor image changes to a pointer over the match images" />
<figcaption>Figure 67. The cursor image changes to a pointer over the match images</figcaption>
</figure>
<p>Changing the <code>background-color</code> is as easy as creating a new rule, and moving one line of code. I've also taken the opportunity to choose a new value for the <code>background-color</code>. You can, of course, choose whichever colour you prefer. Remember to delete the line <code>background-color: gray;</code> from the existing <code>.matches img {&nbsp;}</code> rule.</p>

<pre class="revised">body {
  font-size: 10px;
  background-color: black;
  color: rgb(255,255,255);
}

.matches {
  text-align: center;
}
.matches img{
  width: 1em;
  height: 10em;
  padding: 1em;
  border-radius: 1.5em;
  <span class="strike">background-color: gray;</span>
  cursor: pointer;
}
<span class="new">.matches img:hover{
  background-color: #321;
}</span>
</pre>
<figure>
<img src="img/cursorRollover.png" alt="Using the :hover pseudo element as a selector" />
<figcaption>Figure 68. Using the :hover pseudo element as a selector</figcaption>
</figure>
<p>The new rule may be short, but the concept is powerful. I recommend that you read the explanation on pseudo elements in the Learn More About... section below.</p>

<div class="aside git">Remember to commit your changes to your local Git repository. If you need a reminder of the commands to use in the Terminal, hover your mouse over the space below:
<pre class="hover">git status
git add -A
git commit -m "Add cursor: pointer and an img:hover rule"
</pre>
<p>(This gimmick uses the technique that you have just learnt.)</p>
</div>

<div class="aside next">
You've taken the longer way round to understand all the details of the CSS rules that you are using. That's commendable. You are now back at the point that you saw as a preview on the page <a href="mouse">13: Reacting to the mouse</a>. However, there's a good chance that your CSS will be slightly different from the version that I wrote, and that you stored in the <code>gh-pages</code> branch of your Git repository. That's good. It will give you the chance to practise another important technique with Git.
<p>If you want have a deeper understanding of the techniques you discovered in this step, you can read the optional Learn More About ... sections below. When you're ready, click on the Next arrow below, or on item <a href="#merge">Merging 2 Git branches</a> in the menu on the left.</p>
</div>

<div class="optional details">
<input type="checkbox" id="hover-details"/>
<label for="hover-details">Learn more about mouse actions</label>
<div>
<h4>The <code>cursor</code> attribute</h4>
<p>You can find more about the <code>cursor</code> attribute, the values it can take, and which browser support which values on these sites</p>
<ul>
<li><a href=""></a>w3Schools</li>
<li><a href=""></a>Mozilla</li>
</ul>
<h4>The <code>:hover</code> selector</h4>
<p>The <code>:hover</code> selector is known as a <span class="keyword">pseudo element</span>. The rule that follows it will only be activated if the mouse is over an element that matches the rest of the selector. Here, you have a CSS rule that creates an interaction with the mouse, without using an programming language.</p>

<div class="aside info">You'll see the use of a semi-colon <code>:</code> as part of a selector two more times in this tutorial:
<ul>
<li>With the <code>:not( )</code> logical operator, to stop changing the <code>background-color</code> for a match that has been removed</li>
<li>With the <code>:checked</code> status for a checkbox, when you are ready to show and hide the rules.</li>
</ul>
</div>
<p>For more information, see:</p>
<ul>
<li><a href=""></a>w3Schools</li>
<li><a href=""></a>Mozilla</li>
</ul>
</div>
</div>

<div class="optional empty details">
<input type="checkbox" id="pseudo-details"/>
<label for="pseudo-details">Learn more about pseudo elements</label>
<div>
<h4><code>:</code>pseudo elements</h4>
<p></p>
<h4><code>::</code>pseudo classes</h4>
<p></p>
</div>
</div>

<div class="optional empty tips">
<input type="checkbox" id="hover-tips"/>
<label for="hover-tips">Tips and Tricks</label>
<div>
<p></p>
</div>
</div>

<div class="optional trouble">
<input type="checkbox" id="hover-trouble"/>
<label for="hover-trouble">Troubleshooting </label>
<div>
<p class="symptom">The <code>background-color</code> around all the matches doesn't go away.</p>
<ul>
<li>Perhaps you didn't remove the line <code>background-color: gray;</code> from the <code>.matches img{&nbsp;}</code> rule.</li>
<li>Perhaps your browser has decided to keep using an outdated version of your <code>style.css</code> stylesheet. You can follow <a href="html/clearcache.html">this link</a> to learn how to clear the cache for your browser.</li>
</ul>
<p class="aside support">If this doesn't solve your problem, please <a href="https://github.com/lexogram/openbook/issues/new">tell us what happened</a> and we'll do our best to find a solution for you.</p>
</div>
</div>

<footer>
<ul class="nav">
<li>
<a href="#js">
<img src="../img/arrow.png" alt="next"/>
</a>
</li>
</ul>
</footer>
</section>

<!-- MERGING 2 GIT BRANCHES -->
<section id="merge">
<h2>Merging two branches with Git</h2>
<div class="aside preview">In this step, you'll practise using the following Git commands:
<ul>
<li><code>git diff <em>other-branch</em></code></li>
<li><code>git merge <em>other-branch</em></code></li>
</ul>
</div>
<p>On page <a href="#mouse">13: Reacting to the mouse</a>, you tested a CSS file before you had had the chance to understand how it worked. Since then, you have:</p>
<ul>
<li>Created a separate <em>rollover</em> branch in your repository</li>
<li>Reverted to an earlier version of the project</li>
<li>Added new CSS rules that make your project behave the same way that the preview version did.</li>
</ul>
<p>How close is your current version to the one you tested earlier? To find out, you can run the <code>git diff</code> command in the Terminal.</p>
<div class="aside tip">You might like to start by ensuring that your Terminal is pointing at the <code>nim</code> folder where your project files are stored. Your command might look something like this...
<pre>cd <span class="red">C:\Users\james</span>\nim\gh-pages</pre>
<p>... but your own path will be different from the red section above, and it will use forward slashes <code>/</code> if you are not working on Windows.</p>
</div>
<h2>git diff</h2>
<p>In the Terminal window, run the following command:</p>
<pre>git diff gh-pages</pre>
<p>This will show you all the differences between your current branch (rollever) and the gh-pages branch. If there are no differences, congratulations! You have followed my instructions to the letter! (Or you have skipped most of the last 5 pages, or you haven't been inspired to choose colours of your own).</p>
<p>The chances are, though, that you might see something like this:</p>
<pre>git diff rollover gh-pages
diff --git a/css/style.css b/css/style.css
index 6881fbd..b64f124 100644
-- a/css/style.css
++ b/css/style.css
@@ -8,12 +8,12 @@ body {
   text-align: center;
 }
 .matches img{
<span class="green">+  padding: 1em;</span>
   width: 1em;
   height: 10em;
<span class="red">-  padding: 1em;</span>
   cursor: pointer;
 }
 .matches img:hover{
<span class="red">-  background-color: #321;</span>
<span class="green">+  background-color: hls(60, 90, 30);</span>
 }
\ No newline at end of file</pre>
<p>The output above says:</p>
<ul>
<li>Two lines were removed, two lines were added</li>
<li>The line <code>  padding: 1em;</code> was moved from one place to another</li>
<li>The line <code>  background-color: #321;</code> was changed to<code>  background-color hls(60, 90, 30);</code> </li>
</ul>
<p>Look at your output carefully. If everything you see is meaningful, and what you would expect, you can proceed to merge the two files.</p>
<h3>Merging your changes into your main branch</h3>
<p>First, you want to get back onto your main gh-pages branch, then you want to merge the gh-pages branch with your rollover branch. Here's what you can do:</p>
<pre class="revised"><span class="new">git checkout gh-pages</span>
Switched to branch 'gh-pages'

<span class="new">git merge rollover</span>
Updating 8439f0a..32f3995
Fast-forward
 css/style.css | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

<span class="new">git diff rollover</span>
</pre>
<p>In my case, the last command produced no output. This is because the rollover branch and the gh-pages branch are now identical.</p>
<h3>Checking your history</h3>
<p>You can also check that the history in the gh-pages branch now includes all the changes you made in the rollover branch, using the <code>git log --oneline</code> command. Here's my output, with the commits made in the rollover branch shown in bold:</p>
<pre>git log --oneline
<span class="new">32f3995 Add cursor: pointer and an img:hover rule
4f37955 Set background-color and color for the entire page
e2b3e69 Add padding, border-radius and background-color
7217eb8 Set body font-size in px and match dimensions in em
3e9c2b9 Revert "Preview of rollover effect"</span>
8439f0a Preview of rollover effect
ad5e390 Add .matches class to designate the divs to be centered
656e9b6 Add css/style.css to centre the matches
7c1cdc9 16 matches arranged in 4 rows, using &lt;div&gt;
4d68023 Add img/match.png; modified index.html to show this image
b6d433d 'Hello World' becomes 'The game will go here'
e6b50f7 Initial commit to the gh-pages branch
</pre>
<p>Reload your local <code>index.html</code> file in your browser. Roll your mouse over the images. Check that it's all still working.</p>
<h3>Deleting a branch</h3>
<p>Now that your gh-pages branch is up-to-date, you no longer need the rollover branch. You can delete it. In your Terminal window, type the following command:</p>
<pre class="revised"><span class="new">git branch</span>
* <span class="green">gh-pages</span>
  rollover</pre>
<p>In the output, the asterisk shows which branch is currently checked out. You can also use the <code>-v</code> (verbose) option to show the name and message from the most recent <code>commit</code> on each branch, to check that both branches are at the same point:</p>
<pre class="revised"><span class="new">git branch -v</span>
* <span class="green">gh-pages </span><span class="new">32f3995 Add cursor: pointer and an img:hover rule</span>
  rollover 32f3995 Add cursor: pointer and an img:hover rule</pre>
<p>The name of the commit will be different for you.</p>
<p>To delete the rollover branch, you can use the <code>-d</code> (delete) option, followed by the branch name:</p>
<pre class="revised"><span class="new">git branch -d rollover</span>
Deleted branch rollover (was 32f3995).</pre>
<p>If your run the simple <code>branch</code> command again, you should see that your repository tree has been trimmed:</p>
<pre class="revised"><span class="new">git branch</span>
* <span class="green">gh-pages</span></pre>
<h3>Making the most of branches</h3>
<p>You have now seen the whole life cycle of a branch: how to create a new branch, how to use it to make changes without changing the anything in the stable main branch, how to merge it back into the main branch, and how to delete it when you no longer need it.</p>
<p>You can feel comfortable now about using branches. You can create a new branch whenever you start a new episode in your development process. You can create a new branch whenever you want to try out a new idea.</p>

<div class="aside issue">You have now successfully treated another issue from your list: <em>Show the player that the images are interactive</em>. You can close this on your <a href="https://github.com/issues">Issues</a> page on GitHub.
</div>

<div class="aside next">
If your web page behaves the way it did when it was the tracked by the rollover branch, then you are ready to move on.
<p>Click on the Next arrow below, or on item <a href="#js">19: JavaScript</a> in the menu on the left.</p>
</div>
<footer>
<ul class="nav">
<li>
<a href="#js">
<img src="../img/arrow.png" alt="next"/>
</a>
</li>
</ul>
</footer>
</section>

<!-- JAVASCRIPT -->
<section id="js">
<h2>Adding JavaScript to your game</h2>
<div class="aside preview">In this step, you'll learn how to:
<ul>
<li>Add JavaScript to your HTML page</li>
<li>Show an alert when the page is loaded</li>
</ul>
<a href="https://github.com/lexogram/openbook/blob/master/nim/Steps/step_19/step_19.zip?raw=true" target="source">Download the source files</a>
</div>
<p>JavaScript adds magic to your game... or at least the illusion of magic. Each of the ideas that you are about to learn is simple enough in itself. The power of what you are learning comes from the way you can combine these new ideas.</p>
<div class="aside tip">Each time you learn something new, you can create a new branch in your repository and use it to experiment with the new idea. You can imagine a simple activity of your own, and test how far you can take it.
<p>As your skills and knowledge increase, you can return to branches that you worked on earlier, and move them forward again. Perhaps some of your branches can become the starting point for a whole new project.</p></div>
<p>To keep your project tidy, you should store all your JavaScript in a separate folder. In your text editor, create a new document, and save at as <code>nim.js</code> in a folder called <code>js</code>, alongside your <code>index.html</code> file. Your project folder should now look like this:</p>
<figure>
<img src="img/projectFolder.png" alt="The img, css and js folders in the same folder as your index.html file" />
<figcaption>Figure 69. The img, css and js folders in the same folder as your index.html file</figcaption>
</figure>
<h3>Hello World in JavaScript</h3>
<p>In your <code>nim.js</code> file, add the following code:</p>
<pre>alert("Hello World")</pre>
<p>This is just to test that JavaScript is working for you.</p>
<p>Now you need to tell your <code>index.html</code> file that your new JavaScript file exists. At the end of your <code>index.html</code> file, make the following change:</p>
<pre class="revised">...
    &lt;div class="matches"&gt;
      &lt;img src="img/match.png" alt="match 1 row 4" /&gt;
    &lt;/div&gt;

    <span class="new">&lt;script src="js/nim.js"&gt;&lt;/script&gt;</span>
  &lt;/body&gt;
&lt;/html&gt;</pre>
<p>Save both files and refresh the <code>index.html</code> page in your browser. If all goes well, you should see something like this:</p>
<figure>
<img src="img/js-helloWorld.png" alt="A Hello World JavaScript alert" />
<figcaption>Figure 70. A Hello World JavaScript alert</figcaption>
</figure>
<p>If you don't see this alert dialog, then check the Troubleshooting section below.</p>
<div class="aside next">
If everything goes as expected, you can click on the Next arrow below, or on item <a href="#hide">20: Hiding an image</a> in the menu on the left, and keep on making good progresss
<p>If you want to further insights, you can read the optional section below.</p>
</div>

<div class="optional details">
<input type="checkbox" id="js-details"/>
<label for="js-details">Understanding the script element</label>
<div>
<h4>Why the script element is placed at the bottom of the body</h4>
<p>Browsers read an HTML page from top to bottom. Normally, you want the browser to know about all the content (text and images) before you ask JavaScript to do something with this content. The simplest way to do this is to put your JavaScript declarations at the end of the page, just before the closing &lt;/body&gt; tag.</p>
<h4>Why the script element is empty</h4>
<p>You can use a <code>&lt;script&gt;&lt;/script&gt;</code> element in two different ways:</p>
<ul>
<li>To place JavaScript code inside your HTML page itself, like this:
<pre>&lt;script&gt;alert ("I'm code in the HTML page")&lt;/script&gt;</pre>
</li>
<li>To link to an external file which contains code, like this:
<pre>&lt;script src="http://example.com/test.js" &gt;&lt;/script&gt;</pre></li>
</ul>
<p>In this second case, any code you put inside the tag will be ignored, so you might as well leave the tag empty.</p>
<p></p>
<h4>Fetching the JavaScript file</h4>
<p>When the browser reads the <code>&lt;script&gt;</code> tag, it doesn't know anything about the code in the external file yet. The JavaScript file is stored on a remote server, and the browser needs to send a request to the server to retrieve the file. When the contents of the file have arrived across the Internet, then the browser can start executing your JavaScript code.</p>
</div>
</div>

<div class="optional tips">
<input type="checkbox" id="js-tips"/>
<label for="js-tips">Tips and Tricks</label>
<div>
<div class="aside info">Semi-colons? Really?
<p>The official way to indicate the end of a command in JavaScript is to use a semi-colon, like this:</p>
<pre>alert ("Hello World!");</pre>
<p>In CSS, semi-colons are essential. If you don't include a semi-colon between rules, your CSS will break.</p>
<p>Fortunately, all modern JavaScript engines have an <span class="keyword">automatic semi-colon insertion system</span>, which works, and which means that you can forget to put semi-colons at the end of your commands... except in certain very specific places.</p>
<p>Semi-colons in JavaScript generate powerful emotions in some developers. For some, they are a sign of purity; for others, a sign of wastefulness.</p>
<p>In this tutorial, I have deliberately chosen not to use semi-colons except where they are absolutely necessary. And when they are absolutely necessary, I put them at the <em>beginning</em> of a line, or in the middle of a line. I have done this for two reasons:</p>
<ul>
<li>So that you can discover where semi-colons are absolutely necessary (and that's important)</li>
<li>So that you can see at a glance which code is JavaScript and which code is CSS (and that's just convenient)</li>
</ul>
<p>When you are working on a project with others, the fact that you use or don't use semi-colons can be one way to distinguish your code immediately from the code of others, with all the shame and glory that that can bring.</p>
</div>
<div class="aside tip">A script-only HTML page
<p>Since your browser will automatically add any missing &lt;html&gt; and &lt;/body&gt; tags to your page, you can create a very simple HTML page just to test some JavaScript code. You might like to copy the HTML below and paste it into a new text document, save the document as <code>test.html</code>, then open it in your browser.</p>
<pre>&lt;script&gt;
alert ("JavaScript says Hello!")
&lt;/script&gt;</pre>
<p>Be sure to give the file a <code>.html</code> extension, to trick the browser into treating it as a valid HTML file. If you use a different extension, you will simply see the text displayed in the browser window.</p>
</div>
</div>
</div>

<div class="optional trouble">
<input type="checkbox" id="js-trouble"/>
<label for="js-trouble">Troubleshooting </label>
<div>
<p class="symptom">No Hello World alert appears when you refresh your <code>index.html</code> page.</p>
<ul>
<li>Can you open your <code>nim.js</code> file directly in your browser? You should see the text that is in the file, but no dialog will appear. If this works, then you can be sure that your <code>nim.js</code> file exists.</li>
<li>From the browser address bar, copy the address of your <code>nim.js</code> file. It should be something like: <code>file:///path/to/nim/gh-pages/js/nim.js</code></li>
<li>Copy the address for your <code>index.html</code> file from your browser's address bar. It should be something like: <code>file:///path/to/nim/gh-pages/index.html</code></li>
<li>Compare these two addresses, and delete from the first address everything on the left that is identical in both cases. In the example I give, this would leave you with <code>js/nim.js</code></li>
<li>Make sure that this is what you give as the value for the <code>src</code> attribute of the <code>script</code> element.</li>
</ul>
<p class="aside support">If this doesn't solve your problem, please <a href="https://github.com/lexogram/openbook/issues/new">tell us what happened</a> and we'll do our best to find a solution for you.</p>
</div>
</div>
<footer>
<ul class="nav">
<li>
<a href="#hide">
<img src="../img/arrow.png" alt="next"/>
</a>
</li>
</ul>
</footer>
</section>

<!-- HIDING AN IMAGE -->
<section id="hide">
<h2>Hiding an image</h2>
<div class="aside preview">In this step, you'll learn to:
<ul>
<li>Create a CSS rule that makes a class of elements transparent</li>
<li>Use your browser Console to change the class of an element</li>
</ul>
<a href="https://github.com/lexogram/openbook/blob/master/nim/Steps/step_20/step_20.zip?raw=true" target="source">Download the source files</a>
</div>
<p>If you have read page <a href="#units">14: CSS units</a> you already know at least two ways to make a match <code>img</code> element disappear. Think about it for a minute or two, and then roll your mouse over the space below to see a possible answer.</p>
<ol>
<li class="hover">Set the <code>width</code> of the element to <code>0</code></li>
<li class="hover">Set the <code>height</code> of the element to <code>0</code></li>
</ol>
<p>The second answer is the better, because it won't move the other matches. If you have been following closely, perhaps you will have thought of two more answers, one of which might be even better:</p>
<ol start="3">
<li class="hover">Set the <code>font-size</code> of the element to <code>0</code>, because its <code>height</code> and <code>width</code> are defined in <code>em</code> units, and they will both become <code>0</code></li>
<li class="hover">Set the <code>opacity</code> of the element to <code>0</code>, as you may have seen on page <a href="#colors">16: CSS colors</a>.</li>
</ol>
<p>Perhaps you thought of right-clicking on the hidden answers, and looking in the Elements Inspector, to see how I had hidden them. If you did, congratulations! You have a smart and inquisitive mind. You explore how others achieve the effects that you want to achieve.</p>
<p>If you look closely at the display in the Elements Inspector, can you see what I did to set the opacity of the answers to <code>0</code>.</p>
<figure>
<img src="img/classHover.png" alt="Using a class and a CSS rule to set the opacity of an element" />
<figcaption>Figure 71. Using a class a CSS rule to set the <code>opacity</code> of an element</figcaption>
</figure>
<p>Oops! Did I just give away the answer? OK, so here are three new questions:</p>
<ul>
<li>Can you edit your <code>index.html</code> file so that the last match <code>img</code> elements has a class called "removed"?</li>
<li>Can you edit your <code>style.css</code> file, so that it now contains a rule that gives all elements of the "removed" class an <code>opacity</code> of <code>0</code>?</li>
<li>What selector will you need to use for this CSS rule?</li>
</ul>
<p>Here's a clue for the HTML file:</p>
<pre class="hover">
    &lt;div&gt;
      &lt;img src="img/match.png" alt="match 1 row 4" <span class="new">class="removed"</span> /&gt;
    &lt;/div&gt;</pre>

<p>Here's a clue for the CSS file:</p>
<pre class="hover"><span class="new">img.removed {
opacity: 0;
}</span></pre>
<p>And here's a screenshot to show the changes that I made to my version. (I haven't made my match totally transparent, so that you can still see where it used to be).</p>
<figure>
<img src="img/hiddenMatch.png" alt="Hard-coded changes to hide the last match" />
<figcaption>Figure 72. Hard-coded changes to hide the last match</figcaption>
</figure>
<p>Make sure that you make the following change to your <code>style.css</code> file before you continue. (Perhaps your colours will be different. That's fine.)</p>
<pre class="revised">body {
  font-size: 10px;
  background-color: black;
  color: rgb(255,255,255);
}

.matches {
  text-align: center;
}
.matches img{
  width: 1em;
  height: 10em;
  padding: 1em;
  border-radius: 1.5em;
  cursor: pointer;
}
.matches img:hover{
  background-color: #321;
}<span class="new">
.matches img.removed {
opacity: 0.1;
}</span></pre>
<h3>Adding a class to an element</h3>
<p>Your goal now is to make a match disappear when the user clicks on it. To do this, you will need to:</p>
<ul>
<li>Discover which match element the user clicked on</li>
<li>Add the "removed" class to that element</li>
</ul>
<p>I'll show you how to deal with this second issue first, and how to treat the first issue on the next page..</p>
<ul>
<li>Right-click on the second match in your browser window and select Inspect Element in the contextual menu.</li>
<li>Make sure that the Console pane at the bottom of the window is visible. (Click on the <code>&gt;<span class="under">&nbsp;</span></code> button at the top right of the window, if you don't see a Console pane.) </li>
<li>Click just to the right of the <code>&gt;</code> prompt character and type (or paste) this command: <pre>document.getElementsByTagName("img")[1].classList.add("removed")</pre></li>
<li>Press Enter</li>
<li>Check that the second match has disappeared, and check the rules that have been applied to it, as shown in the screenshot below</li>
</ul>
<figure>
<img src="img/classList.png" alt="Adding a class name to an element" />
<figcaption>Figure 73. Using <code>classList.add()</code> to add a class name to an element</figcaption>
</figure>

<div class="aside next">
That's just one line of code, but it's doing many things that may be new for you. To understand all that is going on, you might like to read the optional sections below.<p>When you're ready to continue, click on the Next arrow below, or on item <a href="#click">21: Detecting a click</a> in the menu on the left.</p></div>

<div class="optional empty details">
<input type="checkbox" id="DOM-details"/>
<label for="DOM-details">Discover the Document Object Model</label>
<div>
<h4></h4>
<p></p>
</div>
</div>

<div class="optional empty details">
<input type="checkbox" id="array-details"/>
<label for="array-details">Discover JavaScript arrays</label>
<div>
<h4></h4>
<p></p>
</div>
</div>

<div class="optional empty details">
<input type="checkbox" id="method-details"/>
<label for="method-details">Discover object methods</label>
<div>
<h4></h4>
<p></p>
</div>
</div>

<footer>
<ul class="nav">
<li>
<a href="#click">
<img src="../img/arrow.png" alt="next"/>
</a>
</li>
</ul>
</footer>
</section>

<!-- DETECTING A CLICK -->
<section id="click">
<h2>Detecting a click on an HTML element</h2>
<div class="aside preview">In this step, you'll learn how to:
<ul>
<li>Use the JavaScript debugger</li>
<li>Use JavaScript to detect a mouse click</li>
<li>Discover which element the player clicked</li>
<li>Use JavaScript to add a class to the chosen element</li>
</ul>
<a href="https://github.com/lexogram/openbook/blob/master/nim/Steps/step_21/step_21.zip?raw=true" target="source">Download the source files</a>
</div>
<p>For now, the <code>alert</code> command in your <code>nim.js</code> file runs automatically as soon as your page is loaded into the browser. If you make the following change, it will wait until you click somewhere on the page:</p>
<pre class="revised"><span class="new">document.body.onclick = function (event) {</span>
  alert("Hello World")
<span class="new">}</span></pre>
<p>Save your <code>nim.js</code> file and refresh your page in the browser, then click anywhere on the page. The alert should not appear until you click.</p>
<h3>Using the JavaScript debugger</h3>
<p>The <code>event</code> <span class="keyword">argument</span> can give you plenty of details about where and how the player clicked.</p>
<ul>
<li>Right-click on the browser window, or use Ctrl-Shift-I / Cmd-Shift-I to open the Inspector</li>
<li>Select the Sources tab. In the column on the right, open the js folder and select <code>nim.js</code>. You should now see your JavaScript code in the central pane. The lines of code will be numbered.</li>
<li>In the grey bar on the right of the central pane, click on line number 2. A blue arrow should now appear. This indicates a <span class="keyword">breakpoint</span>. When your JavaScript code is running, it will stop at this point and let you see what it has done and what it is thinking. From this point on, you will be able to ask your browser to execute just one line of code at a time.</li>
</ul>
<figure>
<img src="img/debugger.png" alt="The JavaScript debugger opens at a breakpoint" />
<figcaption>Figure 74. The JavaScript debugger opens at a breakpoint</figcaption>
</figure>
<ul>
<li>In the Scope panel on the right, you can see the list of <span class="keyword">variables</span> that JavaScript is currently using. One of these is called <code>event</code>. This is the <code>event</code> <span class="keyword">argument</span> that you used in the first line of your code.</li>
<li>Click on the small disclosure triangle next to <code>event</code>, as shown in the Figure 74 above. You should now see a long list of the attributes of the <code>event</code> <span class="keyword">object</span>.</li>
<li>Find the <code>target</code> attribute. If you clicked on a match, the Scope Inspector should indicate that the <code>target</code> is a <code>img</code> element. Click on the disclosure triangle next to it. You should now see even more details.</li>
</ul>
<figure>
<img src="img/event-target.png" alt="Inspecting the event object" />
<figcaption>Figure 75. Inspecting the <code>event</code> object</figcaption>
</figure>
<ul>
<li>Now you should see that the <code>img</code> element has an attribute called <code>classList</code>, and that this is a <span class="keyword">DOMTokenList</span> object with a <code>length</code> of <code>0</code>. In plain language, this means that you have given no <code>class</code> attribute to this particular HTML element.</li>
<li></li>
</ul>
<figure>
<img src="img/target-img-classList.png" alt="Discovering the classList attribute of an HTML object" />
<figcaption>Figure 76. Discovering the <code>classList</code> attribute of an HTML object</figcaption>
</figure>
<p>So what? What can you do with this <code>classList</code> object? (<em>Clue: the answer is on the <a href="#hide">previous page</a></em>.)</p>
<ul>
<li>In the Console panel at the bottom of the Developer Tools window, you can type this line of code after the <code>&gt;</code> prompt symbol:<pre>event.target.classList.add("removed")</pre></li>
<li>Press the Enter key</li>
<li>What happened right there, in the main browser window? The match that you clicked on disappeared.</li>
</ul>
<figure>
<img src="img/add-removed.png" alt="Using the JavaScript console during debugging" />
<figcaption>Figure 77. Using the JavaScript console during debugging</figcaption>
</figure>
<ul>
<li>Click on one of the Resume script execution buttons... and the Hello World alert should now appear.</li>
</ul>
<figure>
<img src="img/run.png" alt="Click on a Resume button to let JavaScript run" />
<figcaption>Figure 78. Click on a Resume button to let JavaScript run</figcaption>
</figure>
<h3>Editing your JavaScript file</h3>
<p>In fact, you don't want to see an alert, but you do want to see the match that you clicked disappear. You can change your JavaScript so that it looks like ... Actually, why don't you make the change yourself, and test it, and then check if it looks like the code that I have hidden below?</p>
<pre class="revised hover">document.body.onclick = function (event) {
  <span class="new">event.target.classList.add("removed")</span>
}</pre>
<p>(Remember to save your <code>nim.js</code> file and to refresh your browser.)</p>
<p class="aside tip">If you don't want the debugger to stop at your breakpoint every time, see the Tips and Tricks section below.</p>
<p>If you click on the Elements tab you will see that your new code has added a <code>class="removed"</code> attribute to the specific image that you clicked on. Click on another match. It will disappear too.</p>
<div class="aside issue">You're now ready to close issue n° 4: <em>Hide each image when you click on it</em>... but there are several new issues:
<ol>
<li>What happened to the last match? Why is it always invisible now?</li>
<li>How can you make all the matches reappear again, to start a new game?</li>
<li>How do you prevent a player from removing matches from more than one row?</li>
<li>How do you check that the current player has taken the last match, and has therefore lost the game?</li>
</ol>
<p>You can visit your <a href="https://github.com/issues">Issues
page on GitHub</a> to close one issue and open 4 more... or perhaps you can solve the first one immediately</div>

<div class="aside git">Your project has now reached a new stable state. You can make a new commit and push your changes to your GitHub web site:
<pre>git status
git add -A
git commit -m "Add CSS 'removed' rule; JavaScript to detect a click"
git push origin gh-pages</pre>
</div>

<div class="aside next">
There are several important ideas for you to explore here: events, functions and scope. You can read about them in the optional sections below.
<p>When you're ready, click on the Next arrow below, or on item <a href="#reset">22: Resetting the game</a> in the menu on the left.</p>
</div>

<div class="optional empty details">
<input type="checkbox" id="objects-details"/>
<label for="objects-details">Learn more about objects</label>
<div>
<h4></h4>
<p></p>
</div>
</div>

<div class="empty optional details">
<input type="checkbox" id="event-details"/>
<label for="event-details">Learn more about events</label>
<div>
<h4></h4>
<p></p>
</div>
</div>

<div class="empty optional details">
<input type="checkbox" id="function-details"/>
<label for="function-details">Learn more about JavaScript functions</label>
<div>
<h4></h4>
<p></p>
</div>
</div>

<div class="empty optional details">
<input type="checkbox" id="scope-info"/>
<label for="scope-info">Learn more about scope in JavaScript</label>
<div>
<h4></h4>
<p></p>
</div>
</div>

<div class="optional tips">
<input type="checkbox" id="-tips"/>
<label for="-tips">Tips and Tricks</label>
<div>
<p class="aside tip">If you don't want the debugger to open each time your JavaScript code runs, you can do one of four things:</p>
<ul>
<li>Deactivate all breakpoints, by clicking on the toggle button at the top right of the window
<figure>
<img src="img/deactivate-breakpoints.png" alt="Deactivate all the breakpoints that you have set for this page" />
<figcaption>Figure 79. Deactivate all the breakpoints that you have set for this page</figcaption>
</figure>
</li>
<li>Disable just this one breakpoint, by deselecting its checkbox in the Breakpoints section of the right-hand pane
<figure>
<img src="img/disable-breakpoint.png" alt="Disabling breakpoints one at a time" />
<figcaption>Figure 80. Disabling breakpoints one at a time</figcaption>
</figure>
</li>
<li>Remove the breakpoint completely, by clicking on the grey vertical bar at line 2 in the central pane
<figure>
<img src="img/remove-breakpoint.png" alt="Removing a breakpoint permanently" />
<figcaption>Figure 81. Removing a breakpoint permanently</figcaption>
</figure>
</li>
<li>Close the Developer Tools window. Your breakpoints will all still be exactly the way you left them, even after you relaunch your browser.</li>
</ul>
</div>
</div>

<div class="optional trouble">
<input type="checkbox" id="click-trouble"/>
<label for="click-trouble">Troubleshooting </label>
<div>
<p class="symptom">There is no Console pane in the Developer Tools panel</p>
<ul>
<li></li>
</ul>
<p class="aside mail">If this doesn't solve your problem, please <a href="https://github.com/lexogram/openbook/issues/new">tell us what happened</a> and we'll do our best to find a solution for you.</p>
</div>
</div>
</div>

<footer>
<ul class="nav">
<li>
<a href="#reset">
<img src="../img/arrow.png" alt="next"/>
</a>
</li>
</ul>
</footer>
</section>

<!-- RESETTING THE GAME -->
<section id="reset">
<h2>Resetting the Game</h2>
<div class="aside preview">In this step, you'll learn how to:
<ul>
<li>Remove a class from an element</li>
<li>Name a function</li>
<li>Create a variable</li>
<li>Select all HTML elements with a given class</li>
<li>Work with an array of elements</li>
<li>Repeat the same action on each element</li>
</ul>
<a href="https://github.com/lexogram/openbook/blob/master/nim/Steps/step_22/step_22.zip?raw=true" target="source">Download the source files</a>
</div>
<p>To <em>add</em> the class <code>"removed"</code> to an element, you used a command like <code><em>element</em>.classList.add("removed")</code>. I'm sure you can make a good guess at what command you need to <em>remove</em> a class. Here's how you can test your guess:</p>
<ul>
<li>In the browser's Development Tools panel, disable the breakpoint temporarily</li>
<li>In your main browser window, click on a match to hide it</li>
<li>Re-enable you breakpoint</li>
<li>Click on the match that you have just hidden</li>
<li>The debugger will open at the line that says <code>  event.target.classList.add("removed"), and the match will still be hidden</code></li>
<li>At the prompt in the Console pane, type the command that you think will show the match again</li>
<li>Press Enter</li>
</ul>
<p>Here's how that looks for me, just before I press Enter.</p>
<figure>
<img src="img/remove-class.png" alt="removing a class from an element from the console"/>
<figcaption>Figure 82. Removing a class from an element from the console</figcaption>
</figure>
<p>Oops, did I make the command a little difficult to read? Is this better?</p>
<pre class="hover">event.target.classList.<strong>remove</strong>("removed")</pre>
<p>Did your match reappear?</p>
<p class="aside disrupt">If you want to see what happens when you execute this command when the debugger is not halted at this breakpoint, see the Breaking Things On Purpose section below.</p>
<h3>Creating an array of removed elements</h3>
<p>When the game is over, all the matches will have had the <code>removed</code> class attached to them. You will want to make all these matches reappear. First, you need to make an <span class="keyword">array</span>  of all the removed matches.</p>
<p>You've already used the <code>.matches</code> class in your <code>style.css</code> file, to select all the match images. Perhaps you could use it again now, to get JavaScript to select all the matches. Type this after the Console prompt:</p>
<pre>document.getElementsByClassName("matches")</pre>
<p>You should see an array of elements printed out into the Console. However, this is not exactly what you need. You need an array of the <code>img</code> elements inside the <code>match</code> &lt;div&gt;s. For that, you need a different command:</p>
<pre>document.querySelectorAll(".matches img")</pre>
<p>Try it: it works exactly the same way as a CSS selector, from inside JavaScript.</p>
<figure>
<img src="img/querySelectorAll.png" alt="querySelectorAll() acts exactly like a CSS selector from within JavaScript" />
<figcaption>Figure 83. <code>querySelectorAll()</code> acts exactly like a CSS selector from within JavaScript</figcaption>
</figure>
<h3>Applying the same code to each element in an array</h3>
<p>One of the things you will do very often in JavaScript is to <span class="keyword">iterate</span>  through a sequence of items. There are several ways you can do this in JavaScript. Here is some code to add to your <code>nim.js</code> file, that uses the most basic technique:</p>
<pre class="revised">document.body.onclick = function (event) {
  event.target.classList.add("removed")
}

<span class="new">function reset() {
  var matches = document.querySelectorAll(".matches img.removed");

  for (var ii=0; ii&lt;matches.length; ii++) {
    var match = matches[ii];
    match.classList.remove("removed");
  }
}</span></pre>
<p>This code creates an array of <code>img</code> elements which have the <code>"removed"</code> class, and then uses a standard <span class="keyword">for loop</span> to remove the <code>"removed"</code> class from each element in this array. See the Learn More About Loops section below if you want more information about how this works.</p>
<h3>Using the Console to reset the game</h3>
<p>To test that this code works, you can use the Console. Click on one or more matches to make them disappear, and then type the command <span class="keyword">reset()</span> after the prompt symbol, then press return:</p>
<figure>
<img src="img/reset-from-console.png" alt="Resetting the game from the Console" />
<figcaption>Figure 84. Resetting the game from the Console</figcaption>
</figure>
<div class="aside next">
The next step will be to create a Reset button that will execute the <code>reset</code> command automatically when the player clicks on it. When you're ready, click on the Next arrow below, or on item <a href="#button">The Reset button</a> in the menu on the left.
<p>The Learn More About section below provide explanations of important concepts that you will want to master, in order to get the most out of the coming pages.</p>
</div>

<div class="optional details">
<input type="checkbox" id="selectors-details"/>
<label for="selectors-details">Learn more about arrays of elements</label>
<div>
<p>There are several JavaScript commands that you can use to create an array of elements, so that you can treat them all together:</p>
<dl>
  <dt><a href="http://www.w3schools.com/jsref/met_document_getelementsbytagname.asp">getElementsByTagName()</a></dt>
  <dd><code>parentElement.getElementsByTagName()</code> creates an array of all the elements that are the children of a given parent element, that have a given tag name, such as <code>"img"</code>, <code>"div"</code> <code>"h1"</code>. You can find more details on the <a href="https://developer.mozilla.org/en/docs/Web/API/Document/getElementsByTagName">Mozilla Developers site</a></dd>
  <dt><a href="http://www.w3schools.com/jsref/met_document_getelementsbyclassname.asp">getElementsByClassName()</a></dt>
   <dd><code>parentElement.getElementsByClassName()</code> creates an array of all the elements that are the children of a given parent element, to which you have given a specific class name, such as <code>"matches"</code>. You can find more details on the <a href="https://developer.mozilla.org/en/docs/Web/API/Document/getElementsByClassName">Mozilla Developers site</a></dd>
  <dt><a href="http://www.w3schools.com/jsref/met_document_queryselectorall.asp">querySelectorAll()</a></dt>
  <dd><code>parentElement.querySelectorAll()</code> creates an array of all the elements that are the children of a given parent element, which match a CSS selector, such as <code>".matches img"</code>. For this command, you must include the <code>.</code> dot in front of the class name, exactly as you would for CSS. You can find more details on the <a href="https://developer.mozilla.org/en/docs/Web/API/Document/querySelectorAll">Mozilla Developers site</a></dd>
</dl>
<p>There are similar methods that return a single element, or the <code>null</code> object if no elements match:</p>
<dl>
  <dt><a href="http://www.w3schools.com/jsref/met_document_queryselector.asp">querySelector()</a></dt>
  <dd>This is like <code>element.querySelectorAll()</code>, except that it returns just the first element that matches the selector.You can find more details on the <a href="https://developer.mozilla.org/en/docs/Web/API/Document/querySelector">Mozilla Developers site</a></dd>
  <dt><a href="http://www.w3schools.com/jsref/met_doc_getelementbyid.asp">getElementById()</a></dt>
<dd>An <code>id</code> is similar to a <code>class</code> except that JavaScript will only recognize the first element on a given page with a given id. You can find more details on the <a href="https://developer.mozilla.org/en/docs/Web/API/Document/getElementsById">Mozilla Developers site</a></dd>
</dl>
</div>
</div>

<div class="optional details">
<input type="checkbox" id="loop-details"/>
<label for="loop-details">Learn more about loops</label>
<div>
<p>For more information on how the <span class="keyword">for</span> statetment creates a loop, you can follow this links:</p>
<ul>
<li>
<a href="http://www.w3schools.com/js/js_loop_for.asp">w3schools</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for">Mozilla</a></li>
</ul>
</div>
</div>

<div class="optional break">
<input type="checkbox" id="reset-break"/>
<label for="reset-break">Breaking things on purpose</label>
<div>
<h3>JavaScript errors</h3>
<p>I'm going to get you to do something wrong, on purpose.</p>
<ul>
<li>If the JavaScript debugger is still stopped at the breakpoint, click on the Resume Script Execution button. Your match should disappear again, as the line of code in your <code>nim.js</code> file is executed.</li>
<li>Click on the Console, to make sure that it is listening to the keyboard</li>
<li>Press the Up arrow on your keyboard, to show the last command that you typed again<pre>
event.target.classList.remove("removed")</pre></li>
<li>Press Enter, to execute this line of code.</li>
</ul>
<p>Here's the error message that the Console gives me:</p>
<figure>
<img src="img/event-undefined.png" alt="An error caused by using a variable out of scope" />
<figcaption>Figure 85. An error caused by using a variable out of scope</figcaption>
</figure>
<p>When you click on a match and then pause your code at a breakpoint in the debugger, the <code>event</code> argument has a value. The JavaScript engine generates this value from all the information that is relevant to your click action. </p>
<p>When you execute the same code outside the context of a click action, the JavaScript engine has no reason to create an event object, so the variable <code>event</code> is undefined.</p>
<div class="aside note">When everything works perfectly, you do not need to understand how it works. To understand something, it helps to break it apart and put it back together, seeing how all the pieces fit.
<p>You do not become a good programmer by writing perfect code. You become a good programmer by exploring all the imperfections in your thinking. Each time your code breaks, you can seize a new opportunity to learn.</p></div>
</div>
</div>

<footer>
<ul class="nav">
<li>
<a href="#button">
<img src="../img/arrow.png" alt="next"/>
</a>
</li>
</ul>
</footer>
</section>

<!-- THE RESET BUTTON -->
<section id="button">
<h2>Creating a Reset Button</h2>
<div class="aside preview">In this step, you'll learn:
<ul>
<li>How to create a button using HTML</li>
<li>Execute code when the user clicks on a button</li>
</ul>
<a href="https://github.com/lexogram/openbook/blob/master/nim/Steps/step_23/step_23.zip?raw=true" target="source">Download the source files</a>
</div>
<p>The Console is a good place to test your code, but you want people to be able to play your game without even knowing that the Console (or your code) exists. Fortunately, you can create a button and make it execute the <code>reset()</code> command with a single line of HTML</p>
<p>In your text editor, open your <code>index.html</code> file and edit it as follows:</p>
<pre class="revised">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Nim&lt;/title&gt;
    &lt;link rel="stylesheet" href="css/style.css" /&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;Nim&lt;/h1&gt;
    &lt;h2&gt;The game that will beat you&lt;/h2&gt;
    &lt;div class="matches"&gt;
      &lt;img src="img/match.png" alt="match 1 row 1" /&gt;
      &lt;img src="img/match.png" alt="match 2 row 1" /&gt;
      &lt;img src="img/match.png" alt="match 3 row 1" /&gt;
      &lt;img src="img/match.png" alt="match 4 row 1" /&gt;
      &lt;img src="img/match.png" alt="match 5 row 1" /&gt;
      &lt;img src="img/match.png" alt="match 6 row 1" /&gt;
      &lt;img src="img/match.png" alt="match 7 row 1" /&gt;
    &lt;/div&gt;
    &lt;div class="matches"&gt;
      &lt;img src="img/match.png" alt="match 1 row 2" /&gt;
      &lt;img src="img/match.png" alt="match 2 row 2" /&gt;
      &lt;img src="img/match.png" alt="match 3 row 2" /&gt;
      &lt;img src="img/match.png" alt="match 4 row 2" /&gt;
      &lt;img src="img/match.png" alt="match 5 row 2" /&gt;
    &lt;/div&gt;
    &lt;div class="matches"&gt;
      &lt;img src="img/match.png" alt="match 1 row 3" /&gt;
      &lt;img src="img/match.png" alt="match 2 row 3" /&gt;
      &lt;img src="img/match.png" alt="match 3 row 3" /&gt;
    &lt;/div&gt;
    &lt;div class="matches"&gt;
      &lt;img src="img/match.png" alt="match 1 row 4" /&gt;
    &lt;/div&gt;
    <span class="new">&lt;button type="button" onclick="reset()"&gt;Reset&lt;/button&gt;</span>
    &lt;script src="js/nim.js"&gt;&lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;</pre>
<p>Save your file and refresh your browser. You should see a new button named Reset. Click on one or more of the matches, and then on the Reset button. The matches that you clicked on should now reappear.</p>

<div class="aside info"> You can discover how this new line works by reading the optional sections below. You'll be adding four more buttons like this in the following pages, and using CSS to lay them out neatly.
</div>

<div class="aside git">In the Terminal window, you can push your changes to the GitHub repository. If necessary, first use the <code>cd /path/to/your/local/repository</code> command to point to the right folder.
<pre>git status
git add -A
git commit -m "Add Reset button"
git push origin gh-pages
</pre>

<p>You can now close one of the issues that you have created on GitHub: <em>Make all the matches reappear again, to start a new game</em>. You can visit your <a href="https://github.com/issues">Issues</a> page on the GitHub site, click on this issue, and then click on the Close Issue button. You're doing well.</p>
<p>Another of your open issues is <em>Add buttons to restart the game</em>. The button that you have just created deals with one essential part of this issue: it resets the layout of the matches. In the completed game, you will have three buttons:</p>
<ul>
<li>One to start a two-player game</li>
<li>One to allow you to play first against the computer</li>
<li>One to make the computer play first against you</li>
</ul>
<p>Each of these buttons will call this generic <code>reset()</code> method, and then do something specific. You might like to update this entry to indicate the progress that you have made.</p>
</div>

<p class="aside next">
When you're ready to continue, click on the Next arrow below, or on item <a href="#layout">24: The game elements</a> in the menu on the left.</p>

<div class="optional details">
<input type="checkbox" id="button-details"/>
<label for="button-details">Learn more about buttons</label>
<div>
<p>You can discover more about HTML buttons on the following sites:</p>
<ul>
<li><a href="http://www.w3schools.com/tags/tag_button.asp">w3schools</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button">Mozilla</a></li>
</ul>
</div>
</div>

<div class="optional details">
<input type="checkbox" id="onclick-details"/>
<label for="onclick-details">Learn more about the <code>onclick</code> event attribute</label>
<div>
<p>You can discover more about the <code>onclick</code> event attribute at the following sites:</p>
<ul>
<li><a href="http://www.w3schools.com/jsref/event_onclick.asp">w3schools</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Event_attributes">Mozilla</a></li>
</ul>
<p>You may notice that the Mozilla page gives several reasons why you should avoid using <code>onclick</code>. On page <a href="#turns">26: Whose turn is it?</a> you will see an alternative method.</p>
</div>
</div>

<footer>
<ul class="nav">
<li>
<a href="#elements">
<img src="../img/arrow.png" alt="next"/>
</a>
</li>
</ul>
</footer>
</section>

<!-- THE GAME ELEMENTS -->
<section id="elements">
<h2>The Game Elements</h2>
<div class="aside preview">In this step, you'll practice:
<ul>
<li>Creating <code>&lt;div&gt;</code> elements to separate your page into distinct sections</li>
<li>Creating button elements</li>
<li>Adding descriptive classes to elements, so that they can be identified later in JavaScript</li>
</ul>
<a href="https://github.com/lexogram/openbook/blob/master/nim/Steps/step_24/step_24.zip?raw=true" target="source">Download the source files</a>
</div>
<p>Now that you know how to create a button, you can create all the buttons you will need to control the game:</p>
<ul>
<li>A button for each player, to say "I've finished my turn"</li>
<li>A button to reset the matches in their original positions, so that you can play a game against another human player</li>
<li>A button that will reset the game so that you can start a game against the computer</li>
<li>A button to reset the game and make the computer start to play against you</li>
</ul>
<p>In this step, you can focus on adding the buttons (with HTML). In the next step, you can focus on placing them neatly on the screen (with CSS). Finally, you can add start adding the JavaScript that will give these buttons their purpose.</p>
<p>There are several changes that you need to make to your <code>index.html</code> file. To make it simpler to understand them, I'll explain each change separately, and then provide you with the complete code for the HTML file. I recommend that you make one change at a time, and check the result in your browser. If something goes wrong, you can replace all your HTML with the final version that I give at the end.</p>

<div class="aside git">When you are about to make a series of changes that might go wrong, it's good to create a new branch with Git. In the terminal window, use the <code>cd&nbsp;</code> command to navigate to the folder that holds your local Git repository, then use the following commands to create a new branch. You can call the new branch "gameplay":
<pre class="revised"><span class="new">git checkout -b gameplay</span>
Switched to a new branch 'gameplay'</pre>
<p>When you have a two-player game working correctly, you can merge this branch back into the gh-pages branch, and push the working game to the GitHub server. In the meantime, all your changes will be local.</p>
</div>

<h3>Separating the game from the Start buttons</h3>
<p>To make the structure of the page clear, it's good to create separate sections for the elements that control the game itself and the buttons that restart the game. To do this, you can create one <code>&lt;div&gt;</code> element that surrounds the matches elements, a second <code>&lt;div&gt;</code> element into which you can place all elements to say whose turn it is, and a third <code>&lt;div&gt;</code> element into which you can place all the buttons for restarting the game. You can give each of these new <code>&lt;div&gt;</code> elements a specific class, so that it is easy to distinguish them.</p>
<p class="aside note">In the code listing below, the <code>...</code> ellipsis dots indicate HTML code that you already have, but which has been omitted here for clarity.</p>
<pre class="revised">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Nim&lt;/title&gt;
    &lt;link rel="stylesheet" href="css/style.css" /&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;Nim&lt;/h1&gt;
    &lt;h2&gt;The game that will beat you&lt;/h2&gt;
    <span class="new">&lt;div class="game"&gt;</span>
      &lt;div class="matches"&gt;
        ...
      &lt;/div&gt;
    <span class="new">&lt;/div&gt;

    &lt;div class="turns"&gt;</span>
      &lt;!-- elements to say whose turn it is will go here --&gt;
    <span class="new">&lt;/div&gt;

    &lt;div class="start"&gt;</span>
      &lt;button type="button" onclick="reset()"&gt;Reset&lt;/button&gt;
    <span class="new">&lt;/div&gt;</span>

    &lt;script src="js/nim.js"&gt;&lt;/script&gt;    
  &lt;/body&gt;
&lt;/html&gt;</pre>
<p>These changes will have little or no effect on the appearance of your page. If you see no changes when you save your <code>index.html</code> file and reload it in your browser, that is quite normal.</p>

<h3>The Start buttons</h3>
<p>Inside the new "start" <code>&lt;div&gt;</code> elements, you can replace your existing Reset button with HTML code for the three different buttons that will restart the game in different ways. Once again, you can give a specific class to each button to identify it.</p>
<div class="aside note">Note that none of these new buttons has an <code> onclick="reset()"</code> attribute, so for now these buttons will do nothing when you click on them. You'll still be able to make a match vanish when you click on it, but you will need to reload the whole page to make it reappear again.
<p>At this step, you are just concerned with placing the buttons on your web page. I'll explain how to restore this functionality at step <a href="#two-players">35: Two-player game</a>, but you might like to fix this before then. You'll find a new method for doing this in step <a href="#turns">26: Whose turn is it?</a></p></div>
<pre class="revised">    ...
    &lt;div class="start"&gt;
      <span class="strike">&lt;button type="button" onclick="reset()"&gt;Reset&lt;/button&gt;</span>
      <span class="new">&lt;button type="button" class="playerStarts"&gt;
        Start new game against computer
      &lt;/button&gt;
      &lt;button type="button" class="computerStarts"&gt;
        Computer to start new game
      &lt;/button&gt;
      &lt;button type="button" class="twoPlayers"&gt;
        Start new 2-player game
      &lt;/button&gt;</span>
    &lt;/div&gt;
    
    &lt;script src="js/nim.js"&gt;&lt;/script&gt;  
  &lt;/body&gt;
&lt;/html&gt;</pre>
<p>Save your HTML file and reload it in browser. You should see 3 buttons that appear after the matches.</p>
<figure>
<img src="img/restart-buttons.png" alt="Three buttons for restarting the game" />
<figcaption>Figure 86. The three buttons for restarting the game are currently inactive</figcaption>
</figure>

<h3>Showing whose turn it is</h3>
<p>You also need a way to show the player(s) whose turn it is, and to allow the current player to indicate that s/he has finished removing matches.</p>
<p>You can give the two players the classes "player1" and "player2", and the names "You" and "Computer". If the game is to be between two human players, then you can use JavaScript later to change these names to "Player 1" and "Player 2".</p>
<p>Note that only one player will be active at a time. You can add an "active" class to the first player. In the next step, you can use CSS to give the player's name a distinctive colour, and to hide the "Done" button for the other player.</p>
<pre class="revised">   ...

    &lt;div class="turns"&gt;
      <span class="new">&lt;div class="player1 active"&gt;
        &lt;button type="button">Done&lt;/button&gt;
        &lt;p&gt;You&lt;/p&gt;
      &lt;/div&gt;
      &lt;div class="player2"&gt;
        &lt;button type="button">Done&lt;/button&gt;
        &lt;p&gt;Computer&lt;/p&gt;
      &lt;/div&gt;</span>
    &lt;/div&gt;

    ...
</pre>
<figure>
<img src="img/whose-turn.png" alt="The elements that show whose turn it is" />
<figcaption>Figure 87. The elements that show whose turn it is</figcaption>
</figure>

<h3>The complete HTML</h3>
<p>For reference, here's how your <code>index.html</code> file should look now:</p>
<pre class="revised">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Nim&lt;/title&gt;
    &lt;link rel="stylesheet" href="css/style.css" /&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;Nim&lt;/h1&gt;
    &lt;h2&gt;The game that will beat you&lt;/h2&gt;
    <span class="new">&lt;div class="game"&gt;</span>
      &lt;div class="matches"&gt;
        &lt;img src="img/match.png" alt="match 1 row 1" /&gt;
        &lt;img src="img/match.png" alt="match 2 row 1" /&gt;
        &lt;img src="img/match.png" alt="match 3 row 1" /&gt;
        &lt;img src="img/match.png" alt="match 4 row 1" /&gt;
        &lt;img src="img/match.png" alt="match 5 row 1" /&gt;
        &lt;img src="img/match.png" alt="match 6 row 1" /&gt;
        &lt;img src="img/match.png" alt="match 7 row 1" /&gt;
      &lt;/div&gt;
      &lt;div class="matches"&gt;
        &lt;img src="img/match.png" alt="match 1 row 2" /&gt;
        &lt;img src="img/match.png" alt="match 2 row 2" /&gt;
        &lt;img src="img/match.png" alt="match 3 row 2" /&gt;
        &lt;img src="img/match.png" alt="match 4 row 2" /&gt;
        &lt;img src="img/match.png" alt="match 5 row 2" /&gt;
      &lt;/div&gt;
      &lt;div class="matches"&gt;
        &lt;img src="img/match.png" alt="match 1 row 3" /&gt;
        &lt;img src="img/match.png" alt="match 2 row 3" /&gt;
        &lt;img src="img/match.png" alt="match 3 row 3" /&gt;
      &lt;/div&gt;
      &lt;div class="matches"&gt;
        &lt;img src="img/match.png" alt="match 1 row 4" /&gt;
      &lt;/div&gt;
    <span class="new">&lt;/div&gt;

    &lt;div class="turns"&gt;
      &lt;div class="player1 active"&gt;
        &lt;button type="button" disabled="">Done&lt;/button&gt;
        &lt;p&gt;You&lt;/p&gt;
      &lt;/div&gt;
      &lt;div class="player2"&gt;
        &lt;button type="button" disabled="">Done&lt;/button&gt;
        &lt;p&gt;Computer&lt;/p&gt;
      &lt;/div&gt;
    &lt;/div&gt;

    &lt;div class="start"&gt;
      &lt;button type="button" class="playerStarts"&gt;
        Start new game against computer
      &lt;/button&gt;
      &lt;button type="button" class="computerStarts"&gt;
        Computer to start new game
      &lt;/button&gt;
      &lt;button type="button" class="twoPlayers"&gt;
        Start new 2-player game
      &lt;/button&gt;
    &lt;/div&gt;</span>
    
    &lt;script src="js/nim.js"&gt;&lt;/script&gt;  
  &lt;/body&gt;
&lt;/html&gt;</pre>

<div class="aside next">
The material in this step simply gives you practice with concepts that you have already seen. If anything here seems unfamiliar to you, it may help to look back at the optional sections in the previous steps. If all is clear, then you are ready to click oon the Next arrow below, or on item <a href="#layout">25: The game layout?</a> in the menu on the left.</p>
</div>

<footer>
<ul class="nav">
<li>
<a href="#turns">
<img src="../img/arrow.png" alt="next"/>
</a>
</li>
</ul>
</footer>
</section>

<!-- THE GAME LAYOUT -->
<section id="layout">
<h2>The Game Layout</h2>
<div class="aside preview">In this step, you'll learn how to:
<ul>
<li>Set the width of an element relative to the width of its parent</li>
<li>Limit the width of the body element</li>
<li>Place two elements side by side</li>
<li>Add padding or a margin above and below an element</li>
<li>Hide an element if does not belong to a particular class</li>
</ul>
<a href="https://github.com/lexogram/openbook/blob/master/nim/Steps/step_25/step_25.zip?raw=true" target="source">Download the source files</a>
</div>
<p>By default, each button is just wide enough to show the text it contains. It would look neater if all the buttons were the same width.The easiest way to do this is to set each button to be the same width as its parent element. You can add this rule to your <code>style.css</code> file:</p>
<pre>
button {
  width: 100%;
}</pre>
<p>However, you have not yet set the width of any element in your page, so all elements will <span class="keyword">inherit</span> the width of the browser window. This may mean that the buttons are unnaturally wide. You can change this by setting the width of the <code>&lt;body&gt;</code> element. If you make the following changes to your <code>style.css</code> file, then game will appear tall and thin and centred in the browser window</p>
<pre class="revised">body {
  font-size: 9px;
  background-color: black;
  color: rgb(255,255,255);
  <span class="new">width: 25em;
  margin: 0 auto;</span>
}

.matches {
  text-align: center;
}
.matches img{
  width: 1em;
  height: 10em;
  padding: 1em;
  border-radius: 1.5em;
  cursor: pointer;
}
.matches img:hover{
  background-color: #321;
}

img.removed {
opacity: 0;
}

<span class="new">button {
  width: 100%;
}</span></pre>
<figure>
<img src="img/body-width.png" alt="Setting the width of all the buttons" />
<figcaption>Figure 88. Setting the width of all the buttons</figcaption>
</figure>
<h3>Placing elements side by side</h3>
<p>By default, all <code>&lt;div&gt;</code> elements are stacked vertically. It would look better to place the "player1" and "player2" <code>&lt;div&gt;</code>s, inside the "turns" <code>&lt;div&gt;</code>, side by side. This is because the browser's default stylesheet (<span class="keyword">user agent stylesheet</span>) sets the <code>display</code> style attribute of all <code>&lt;div&gt;</code> elements to <code>block</code>:</p>
<figure>
<img src="img/display-block.png" alt="The default display setting for divs is block" />
<figcaption>Figure 89. The default display setting for <code>&lt;div&gt;</code> elements is <code>block</code></figcaption>
</figure>
<p>To display the "player" <code>div</code> elements side by side, you can set the value of their <code>display</code> attribute to <code>inline-block</code>, and their <code>width</code> attribute to 49% of the parent "turns" <code>div</code>. (Actually, 50% would make more sense but you'll need to make an adjustment to the HTML before this will work.) Add this to your <code>style.css</code> file, save your file then refresh your browser.</p>
<pre>
.turns div {
  width: 49%;
  display: inline-block;
}</pre>
<figure>
<img src="img/display-inline-block.png" alt="Placing two divs side by side" />
<figcaption>Figure 90. Using <code>{&nbsp;display:&nbsp;inline-block&nbsp;}</code> to place two <code>&lt;div&gt;</code> elements side by side</figcaption>
</figure> 
<p class="aside note">In <a href="#box">15: The CSS box model</a>, you've already seen the reason why a width of 50% will not work: it's a question of whitespace in the HTML file. You can find more information about this in the Tips and Tricks section below.</p>
<h3>Applying a rule when a class is missing</h3>
<p>To show whose turn it is you can do two things:</p>
<ul>
<li>Emphasize the text that shows the current player</li>
<li>Show the "Done" button only for the current player and remove it for the other player. </li>
</ul>
<p>Here are a couple of rules that do this:</p>
<pre>
.active {
  color: #fc9;
  font-weight: bold;
}
.turns :not(.active) button {
  display: none;
}</pre>
<p>Note the <code>:not(.<em>classname</em>)</code> selector. The complete selector <code>.turns :not(.active) button</code> means (reading right to left) "All buttons that are children of an element which does not have the class "active", and where this element is itself a child of an element with the class "turns".</p>

<h3>Revised CSS</h3>
<p>Here's a new version of the <code>style.css</code>. It includes some additional changes (in red) that should already be familiar to you.</p>
<pre class="revised">body {
  font-size: 9px;
  background-color: black;
  color: rgb(255,255,255);
<span class="new">  width: 25em;
  margin: 0 auto;</span>
}

.matches {
  text-align: center;
}
.matches img{
  width: 1em;
  height: 10em;
  padding: 1em;
  border-radius: 1.5em;
  cursor: pointer;
}
.matches img:hover{
  background-color: #321;
}

img.removed {
  opacity: 0;
}

<span class="new">button {
  width: 100%;
}

<span class="red">div.turns {
  padding: 2em 0;
}</span>
.turns div {
  width: 50%;
  display: inline-block;
<span class="red">  font-size: 2em;
  text-align: center;</span>
}
<span class="red">.turns p {
  margin: 0.25em 0;
}</span>
.active {
  color: #fc9;
  font-weight: bold;
}
.turns :not(.active) button {
  display: none;
}</span></pre>
<p>Here's how your new buttons and text elements should look after you make these changes, save your file and refresh your browser. </p>
<figure>
<img src="img/turns-start.png" alt="Buttons and text elements laid out using CSS" />
<figcaption>Figure 91. How your buttons and text elements look after you have applied your CSS rules</figcaption>
</figure>

<div class="aside git">You can commit your latest changes to your gameplay branch:
<pre>git status
git add -A
git commit -m "Add Player and Start buttons; Create layout"
</pre>
</div>

<div class="aside next">
You've learned to apply CSS to your new HTML elements, so that they appear neatly on the page. The next step will be to apply JavaScript to these elements, in order to create the game play.
<p>If you want to make your layout even neater, read the Tips and Tricks section. When you're ready, click on the Next arrow below, or on item <a href="#turns">26: Whose turn is it</a> in the menu on the left.</p>
</div>

<div class="optional tips">
<input type="checkbox" id="layout-tips"/>
<label for="layout-tips">Tips and Tricks</label>
<div>
<h4>Whitespace and 50% width</h4>
<p>If you want the "player" <code>&lt;div&gt;</code> elements to appear side by side, both with a width of 50%, then you will need to make sure that there is no whitespace between them in your <code>index.html</code> file. If you followed my earlier instructions, here's what your HTML currently looks like:</p>
<pre>   ...
      &lt;div class="player1 active"&gt;
        &lt;button type="button" disabled="">Done&lt;/button&gt;
        &lt;p&gt;You&lt;/p&gt;
      <span class="red">&lt;/div&gt;
      &lt;div class="player2"&gt;</span>
        &lt;button type="button" disabled="">Done&lt;/button&gt;
        &lt;p&gt;Computer&lt;/p&gt;
      &lt;/div&gt;
      ...</pre>
<p>Between the closing <code>&lt;/div&gt;</code> tag and the following opening <code>&lt;div&gt;</code> tag there is a new line character. This is displayed in your browser as a single space, like this: <code>&lt;/div&gt; &lt;/div&gt;</code></p>
<p>To eliminate this whitespace, you need to run the two lines together, with no space at all between them:</p>
<pre>   ...
      &lt;div class="player1 active"&gt;
        &lt;button type="button" disabled="">Done&lt;/button&gt;
        &lt;p&gt;You&lt;/p&gt;
      <span class="red">&lt;/div&gt;&lt;div class="player2"&gt;</span>
        &lt;button type="button" disabled="">Done&lt;/button&gt;
        &lt;p&gt;Computer&lt;/p&gt;
      &lt;/div&gt;
      ...</pre>
</div>
</div>

<footer>
<ul class="nav">
<li>
<a href="#turns">
<img src="../img/arrow.png" alt="next"/>
</a>
</li>
</ul>
</footer>
</section>

<!-- WHOSE TURN IS IT? -->
<section id="turns">
<h2>Whose Turn Is It?</h2>
<div class="aside preview">In this step, you'll learn how to:
<ul>
<li>Add a <code>nextTurn()</code> method to change which player is active</li>
<li>Add an <code>initializeButtons()</code> method to tell the "Done" buttons to call the <code>nextTurn()</code> method, when they are clicked.</li>
<li>Ensure that the <code>initializeButtons()</code> is executed when your web page first loads</li>
<li>Modify the existing <code>reset()</code> method so that it activates player 1, when the game begins.</li>
</ul>
<a href="https://github.com/lexogram/openbook/blob/master/nim/Steps/step_26/step_26.zip?raw=true" target="source">Download the source files</a>
</div>
<p>As you did earlier, you can first add a new JavaScript function to your <code>nim.js</code> file, then test it using the Console. When it works the way you expect it to, you can add another JavaScript function to make it work from the web page itself, without resorting to the Console.</p>
<h3>Moving the active class from one player to the other</h3>
<p>Add this to your <code>nim.js</code> file, save the changes and refresh your browser:</p>
<pre class="revised">document.body.onclick = function (event) {
  event.target.classList.add("removed")
}

function reset() {
  var matches = document.querySelectorAll(".matches img.removed");

  for (var ii=0; ii&lt;matches.length; ii++) {
    var match = matches[ii];
    match.classList.remove("removed");
  }
}

<span class="new">function nextTurn() {
    var active = document.querySelector(".active");
    var next = document.querySelector(".turns div:not(.active)");

    active.classList.remove("active");
    next.classList.add("active");
}</span></pre>
<p>Now you can open the Console and type <code>nextTurn()</code> after the <code>&gt;</code> prompt, and press return. Press the up arrow to make the command reappear, and press return again. Each time you do this, the highlight should shift to the name of the other player, and the "Done" button above the player that is now active should be the only one visible.</p>
<figure>
<img src="img/nextTurn.png" alt="Executing the nextTurn() function from the Console." />
<figcaption>Figure 92. Executing the nextTurn() function from the Console.</figcaption>
</figure>
<p>Here's what this code does:</p>
<ul>
<li>It creates a variable called <code>active</code> to refer to the first (and only) element that currently has the class "active"</li>
<li>It creates a variable called <code>next</code> to refer to the first (and only) <code>&lt;div&gt;</code> that is a child of an element with the "turns" class, that does not currently hav the class "active". Note that the selector needs to be specific about what type of element this non "active" element is, and where it is to be found, because all the elements except one have no "active" class.</li>
<li>It removes the "active" class from the current active element</li>
<li>It adds the "active" class to the element identified as <code>next</code>.</li>
</ul>
<p>The <code>&lt;div&gt;</code> elements identified as <code>active</code> and <code>next</code> alternate each time the function is called.</p>
<h3>Triggering <code>nextTurn()</code> when you click Done</h3>
<p>In step <a href="#button">23: The Reset button</a>, you used HTML to tell the Reset button to call a particular JavaScript function, like this:</p>
<pre>  &lt;button type="button" onclick="reset()"&gt;Reset&lt;/button&gt;</pre>
<p>It is good to keep HTML and JavaScript separate. Here's how you can use JavaScript to add an <code>onclick</code> attribute to the two Done buttons:</p>
<pre class="revised">document.body.onclick = function (event) {
  event.target.classList.add("removed")
}

function reset() {
  var matches = document.querySelectorAll(".matches img.removed");

  for (var ii=0; ii&lt;matches.length; ii++) {
    var match = matches[ii];
    match.classList.remove("removed");
  }
}

function nextTurn() {
    var active = document.querySelector(".turns div.active");
    var next = document.querySelector(".turns div:not(.active)");

    active.classList.remove("active");
    next.classList.add("active");
}

<span class="new">function initializeButtons() {
  var buttons = document.querySelectorAll(".turns button");
  var button

  for (var ii=0; ii&lt;buttons.length; ii++) {
    button = buttons[ii];
    button.onclick = nextTurn;
  }
}

initializeButtons()</span></pre>
<p>The function <code>initializeButtons()</code> creates an array from the two buttons that are children of the "turns" <code>&lt;div&gt;</code>., and then uses a <code>for (...) {...}</code> repeat loop to set the <code>onclick</code> attribute for each button to <code>nextTurn</code>.</p>
<div class="aside note">Note that <code>nextTurn</code> refers to the function as a whole, while <code>nextTurn()</code> is a command to execute all the code inside the function.
<p>The function <code>initializeButtons</code> does nothing on its own: there has to be a command <code>initializeButtons()</code> that will make it execute.</p></div>
<p>Save the changes to your <code>nim.js</code> file, then refresh your browser. Now, when you click on the visible Done button, it will disappear to be replaced by the other, and the highlight will pass to the other player's name, because the "active" class is moving from one player <code>&lt;div&gt;</code> to the other.</p>
<div class="aside git">Time to commit these changes to the gameplay branch on your local repository:
<pre>git status
git add -A
git commit -m "Add nextTurn() and initializeButtons()"
</pre>
<p>In the last couple of steps, you have:</p>
<ul>
<li>Added HTML for the two Done buttons and the names of the players</li>
<li>Added CSS rules to display them appropriately.</li>
</ul>
<p>In this step, you added JavaScript to make these buttons switch players. You have now completed one of the issues that you opened on your GitHub site: <em>Add a button so that the current player can say "Your turn"</em>.</p>
<p>Now you can visit your <a href="https://github.com/issues">Issues</a> page on GitHub, click on the links to this particular issue, and close it. Another task completed.</p></div>

<div class="aside next">
You can now click on the Done buttons to swap players... at any time. In fact, you want this to be possible only after the current player has removed at least one match. In the next step you will see how to force this to happen.
<p>When you're ready, click on the Next arrow below, or on item <a href="#rules">27: Enforcing the rules</a> in the menu on the left.</p>
<p>If you are looking for a challenge, you can read the Experiment section below.</p>
</div></div>

<div class="optional break">
<input type="checkbox" id="turns-trial"/>
<label for="turns-trial">Experiment: Resetting the game</label>
<div><p>Currently, the three buttons at the bottom of the page don't do anything. The last one should do two things:</p>
<ul>
<li>Call <code>reset()</code></li>
<li>Ensure that only the first player <code>&lt;div&gt;</code> element has the "active" class.</li>
</ul>
<p>If you want to test your understanding of all you have learnt so far, you might like to edit the <code>nim.js</code> file to make this happen.</p>
<p>Before you start making your own experimental changes, I suggest that you:</p>
<ul>
<li>Commit all the changes that you have made so far and push them to the remote server</li>
<li>Create a new branch, as you saw in step <a href="#branch">5: Creating a branch</a></li>
<li>Use the new branch for your experimental work.</li>
</ul>
<p>This way, if you get stuck, it is easy to use <code>git revert</code> as shown in step <a href="#revert">7: Reverting changes</a>, and to carry on with the tutorial from where you left off.</p>
<p>If you are successful in getting it to work, you can feel a glow of pride, and use <code>git merge</code>, as shown in step <a href="#merge">18: Merging 2 Git branches</a> to merge your experimental branch back into the current<code>gameplay</code> branch, and continue from there.</p>
<p>In any case, I will provide you with all the details you need to succeed in this when you get to step <a href="#two-player">30: Two player game</a>, so you have nothing to lose.</p>
</div>
</div>

</div>
<footer>
<ul class="nav">
<li>
<a href="#rules">
<img src="../img/arrow.png" alt="next"/>
</a>
</li>
</ul>
</footer>
</section>

<!-- ENFORCING RULES -->
<section id="rules">
<h2>Enforcing the Rules</h2>
<div class="aside preview">In this step, you'll learn about:
<ul>
<li>Creating variables that are shared between functions</li>
<li>Creating a separate function for each action</li>
</ul>
<a href="https://github.com/lexogram/openbook/blob/master/nim/Steps/step_27/step_27.zip?raw=true" target="source">Download the source files</a>
</div>
<p>Currently, each time you click on one of the Done buttons, your code checks which of the "player" <code>&lt;div&gt;</code>s currently has the "active" class, and which does not. Up until now, this information was just needed for the <code>nextTurn</code> function.</p>
<p>Your goal is this step is to enable the Done button for the active player only after the active player has clicked on a match. This means that you will be creating a new function which also needs to know which player <code>&lt;div&gt;</code> has the "active" class. A good way of treating this is to define the<code>active</code> variable outside the <code>nextTurn</code> function, so that it will be accessible to other functions, too.</p>
<h>Making the <code>active</code> variable global</h>
<p>At the top of your <code>nim.js</code> file, add the following line:</p>
<pre class="revised"><span class="new">var active</span>

document.body.onclick = function (event) {
...</pre>
<p>Now modify your <code>initializeTurns</code> function as shown below:</p>
<pre class="revised">function initializeTurns() {
  var turnButtons = document.querySelectorAll(".turns button")
  var button

  for (var ii=0; ii&lt;turnButtons.length; ii++) {
    button = turnButtons[ii];
    button.onclick = nextTurn;

    <span class="new">if (ii === 0) {
      active = button.parentElement
      active.classList.add("active");
    }</span>
  }
}</pre>
<p>When this function runs, the value of <code>active</code> will be set to the <code>&lt;div&gt;</code> with the class of "player1" (the parent of the first button found inside the "turns" <code>&lt;div&gt;</code>.</p>
<p class="aside info">For details on the <code>parentElement</code> property, you can read the Learn More About HTML Properties section below.</p>
<p class="aside warn">The line <code>var active</code> creates a <span class="keyword">global</span> variable. This means that any function anywhere can get and set its value. This might seem convenient, but it can make your code behave in unexpected ways. You should use global variables as seldom as possible. In the next step, you will see how to <em>limit the scope</em> of the variable <code>active</code>.</p>
<h3>Enabling the active player button when a match is removed</h3>
<p>Here's the function that currently hides a match when you click on it:</p>
<pre>document.body.onclick = function (event) {
  event.targetclassList.add("removed")
}</pre>
<p>You could simply add the following line to this function...</p>
<pre>active.classList.add("enabled")</pre>
<p>... but it's better to do this more neatly, by dividing it into two parts, like this:</p>
<pre class="revised">var active

document.body.onclick = <span class="new">hideMatch

function hideMatch(event) {
  var match = event.target;
  match</span>.classList.add("removed")

  <span class="new">active.classList.add("enabled")
}</span></pre>
<p>You'll soon see the advantage of having two distinct steps. This code, although it works, is flawed in two ways:</p>
<ul>
<li>You can click on any object (not just a match) and the <code>hideMatch</code> function will be called</li>
<li>The player can currently hide matches from more than one row.</li>
</ul>
<p>If you separate the function that decides which elements trigger the "hide match" feature from the function that actually performs the "hide match" code, then you can fix each of these issues separately, in a clean way.</p>
<h3>Simplifying the <code>nextTurn</code> function</h3>
<p>Now that the <code>active</code> variable is declared and set outside the <code>nextTurn</code> function, you can simplify this function. First you set the <code>next</code> variable to be refer to the "player" <code>&lt;div&gt;</code> that is not currently active, then you remove the "active" class from the <code>active</code> <code>&lt;div&gt;</code>, and then you change the value of the <code>active</code> variable so that it now refers to the <code>next</code> <code>&lt;div&gt;</code>. Finally, you add the "active" class to this other <code>&lt;div&gt;</code>.</p>
<pre class="revised">function nextTurn() {
  <span class="strike">var active = document.querySelector(".active");</span>
  var next = document.querySelector(".turns div:not(.active)");
  active.classList.remove("active");
  <span class="new">active.classList.remove("enabled");</span>

  <span class="new">active = next
  active</span>.classList.add("active");
}</pre>
<p>Save your <code>nim.js</code> file, refresh the browser and test what happens if you click on the Done button. Everything is exactly as it was before. You need to make one more change to force the current player to click on a match before the Done button will become active. Add the lines below to your <code>nextTurn</code> function, save and refresh and try again:</p>
<pre>function nextTurn() {
  <span class="new">if (!active.classList.contains("enabled")) {
    return
  }</span>

  var active = document.querySelector(".active");
  var next = document.querySelector(".turns div:not(.active)");
  active.classList.remove("active");
  active.classList.remove("enabled");

  active = next
  active.classList.add("active");
}</pre>
<p class="aside note">The <code>!</code> operator means "not", so the expression <code>!active.classList.contains("enabled")</code> means "the list of classes for the active element does not contain the word 'enabled'". To discover more about the logical operators such as <code>!</code>, you can read the optional Learn More About Logic section below.</p>
<h3>Fixing a bug</h3>
<p>Actually, it doesn't quite work does it? If you click twice on the Done button, the players will swap. In fact, if you click on any element (a match, one of the restart buttons, the word "Computer", the background, ...) and then on the Done button, the players will swap.</p>
<p>So there is a further check that you have to make: you need to check if the user is actually clicking on a match. Since the only <code>&lt;img&gt;</code> elements on your page are matches, you can use a shortcut and simply check if the element the user clicked on is an <code>&lt;img&gt;</code> element. Here's a change for you to make:</p>
<pre>function hideMatch(event) {
  var match = event.target;
  <span class="new">if (match.nodeName !== "IMG") {
    return
  }</span>
  
  match.classList.add("removed");

  <span class="new">active.classList.add("enabled")
}</span></pre>
<p class="aside info">For details on the <code>nodeName</code> property, you can read the Learn More About HTML Properties section below.</p>
<h3>One bug can hide another</h3>
<p>With a little thought, you may be able to find another way to swap players without removing any matches. You've made sure that the player clicks on a match. For the first player, all the matches are visible. But could the <em>second</em> player click on a match <code>&lt;img&gt;</code> element, without hiding a match?</p>
<p>Think about it for a moment. If you're stuck (or if you are sure that you have the right answer and you prefer copy-and-pasting rather than typing), roll the cursor over the space below to see a clue.</p>
<pre class="hover revised">...

function hideMatch(event) {
  var match = event.target
  if (match.nodeName !== "IMG") {
    return
  }<span class="new"> else if (match.className === "removed") {
    return
  }</span>
  
  match.classList.add("removed")

  active.classList.add("enabled")
}

...</pre>
<p>Make the suggested change to your <code>nim.js</code> file, save it, then refresh your browser. Check that the Done button will no longer appear until at least one match has been removed.</p>
<h3>Using CSS to show when the Done button not enabled</h3>
<p>There is a <a href="http://www.w3schools.com/jsref/prop_select_disabled.asp"><code>disabled</code></a> attribute that you could apply to the Done button, but different browsers would change the appearance of the button in different ways. 
As you have seen, you can achieve the same effect using the check...</p>
<pre>  if (!active.classList.contains("enabled")) {
    return
  }</pre>
<p>... to prevent any further code from being executed. This also has the advantage that you can use the absence of the "enabled" class to set the appearance of the disabled button.</p>
<p>Add this rule at the end of your <code>style.css</code> file:</p>
<pre class="revised">...

.turns :not(.active) button {
  display: none;
}
<span class="new">.active:not(.enabled) button {
  opacity: 0.2;
}</span></pre>
<p>Note how the selector will choose any button which is a descendant of an element with an "active" class, so long as that element does not also have a "enabled" class. If you prefer, you can make the opacity 0 to hide the button completely.</p>
<h3>Complete listing of the <code>nim.js</code> file</h3>
<p>Here's what your <code>nim.js</code> file should look like now:</p>
<pre class="revised"><span class="new">var active</span>

document.body.onclick = <span class="new">hideMatch</span>

<span class="new">function hideMatch(event) {
  var match = event.target;
  if (match.nodeName !== "IMG") {
    return
  } else if (match.className === "removed") {
    return
  }</span>
  
  match.classList.add("removed");

  <span class="new">active.classList.add("enabled")
}</span>

function reset() {
  var matches = document.querySelectorAll(".matches img.removed");

  for (var ii=0; ii&lt;matches.length; ii++) {
    var match = matches[ii];
    match.classList.remove("removed");
  }
}

function nextTurn() {
  <span class="new">if (!active.classList.contains("enabled")) {
    return
  }</span>

  var next = document.querySelector(".turns div:not(.active)");
  active.classList.remove("active");
  <span class="new">active.classList.remove("enabled");</span>

  <span class="new">active = next
  active</span>.classList.add("active");
}

function initializeTurns() {
  var turnButtons = document.querySelectorAll(".turns button")
  var button

  for (var ii=0; ii&lt;turnButtons.length; ii++) {
    button = turnButtons[ii];
    button.onclick = nextTurn;

    <span class="new">if (ii === 0) {
      active = button.parentElement
      active.classList.add("active");
    }</span>
  }
}

initializeTurns()</pre>

<div class="aside git">Time to commit these changes to your local repository:
<pre>git status
git add -A
git commit -m "Force player to take a match before clicking Done"
</pre></div>

<div class="aside next">Now you can force the current player to remove a match before passing the turn to the other player. However, players should only take matches from more one row, and that rule still needs to be applied.
<p>Perhaps you have got this feature working in your project, and you are tempted to move on to applying the next rule. However, this code contains a <span class="keyword">global</span> variable, and that can make debugging difficult. To learn how to write code in a more reliable way, click on the Next arrow below, or on item <a href="#scope">28: Variables and scope</a> in the menu on the left.</p>
</div>

<div class="optional details">
<input type="checkbox" id="rules-details"/>
<label for="rules-details">Learn more about HTML properties</label>
<div>
<h4>parentElement</h4>
<p>You can read more about the parentElement property on the following sites:</p>
<ul>
<li><a href="http://www.w3schools.com/jsref/prop_node_parentelement.asp">w3schools</a></li>
<li><a href="https://developer.mozilla.org/en/docs/Web/API/Node/parentElement">Mozilla</a></li>
</ul>
<h4>nodeName</h4>
<p>The <code> <em>element</em>.nodeName</code> property returns the UPPERCASE string that can be used to create an element of this type. So for, you have created the following elements:</p>
<ul>
<li><code>&lt;html&gt;</code> nodeName: HTML</li>
<li><code>&lt;head&gt;</code> nodeName: HEAD</li>
<li><code>&lt;title&gt;</code> nodeName: TITLE</li>
<li><code>&lt;link&gt;</code> nodeName: LINK</li>
<li><code>&lt;body&gt;</code> nodeName: BODY</li>
<li><code>&lt;h1&gt;</code> nodeName: H1</li>
<li><code>&lt;h2&gt;</code> nodeName: H2</li>
<li><code>&lt;div&gt;</code> nodeName: DIV</li>
<li><code>&lt;img&gt;</code> nodeName: IMG</li>
<li><code>&lt;body&gt;</code> nodeName: BODY</li>
<li><code>&lt;button&gt;</code> nodeName: BUTTON</li>
<li><code>&lt;p&gt;</code> nodeName: P</li>
</ul>
<p>You can read more about the nodeName property on the following sites:</p>
<ul>
<li><a href="http://www.w3schools.com/jsref/prop_node_nodeName.asp">w3schools</a></li>
<li><a href="https://developer.mozilla.org/en/docs/Web/API/Node/nodeName">Mozilla</a></li>
</ul>
</div>
</div>

<div class="optional details">
<input type="checkbox" id="if-details"/>
<label for="if-details">Learn more about <code>logic</code></label>
<div>
<p>You can read more about using <code>else</code> with <code>if</code> statements on these sites:</p>
<ul>
<li><a href="http://www.w3schools.com/js/js_if_else.asp">JavaScript If...Else Statements</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/if...else">if...else</a></li>
<li><a href="http://www.tutorialspoint.com/javascript/javascript_ifelse.htm">JavaScript - if...else Statement</a></li>
</ul>
<p>You can learn more about the logical operators (or, and, not, exclusive or) on these sites:</p>
<ul>
<li><a href="http://www.w3schools.com/js/js_comparisons.asp">JavaScript Comparison and Logical Operators</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Logical_Operators">Logical OperatorsJavaScript Comparison and Logical Operators</a></li>
</ul>
</div>
</div>

<div class="optional trouble">
<input type="checkbox" id="rules-trouble"/>
<label for="rules-trouble">Troubleshooting </label>
<div>
<p class="aside mail">If you have any problems with this step, please <a href="https://github.com/lexogram/openbook/issues/new">tell us what happened</a> and we'll do our best to find a solution for you.</p>
</div>
</div>
</div>

<footer>
<ul class="nav">
<li>
<a href="#scope">
<img src="../img/arrow.png" alt="next"/>
</a>
</li>
</ul>
</footer>
</section>

<!-- VARIABLES AND SCOPE -->
<section id="scope">
<h2>Variables, functions, closures and scope</h2>
<div class="aside preview">In this step, you'll learn about:
<ul>
<li>Global functions and variables</li>
<li>Scope</li>
<li>Immediately-invoked function expressions (IIFEs)</li>
</ul>
<a href="https://github.com/lexogram/openbook/blob/master/nim/Steps/step_28/step_28.zip?raw=true" target="source">Download the source files</a>
</div>
<p>Suppose something isn't working in your JavaScript code, and you decide to debug it. Suppose you want to look at the value of the <code>active</code> variable, just after it has been created. You've already <a href="#click">seen how to create a debug breakpoint</a> and to use the Scope inspector to look at the values of your variables. You can do that again now.</p>
<ul>
<li>Open the Developer Tools panel at the Sources Tab</li>
<li>Select the Source pane in the column on the left</li>
<li>Open the js folder and select nim.js</li>
<li>In the code pane on the right, click on the line number opposite the line <code>active.classList.add("active")</code>, to create a breakpoint</li>
<li>Reload the page, so that the debugger stops at your breakpoint</li>
</ul>
<p>Now if you look in the Scope pane, you should see the values of the following <span class="keyword">Local</span> variables:</p>
<ul>
<li>button</li>
<li>ii</li>
<li>this</li>
<li>turnButtons</li>
</ul>
<p>But there is no sign of <code>active</code>. Why not?</p>
<h3><code>window.active</code> </h3>
<p>The variables listed above are all <span class="keyword">local</span>. That means that they were created inside the function that is currently being executed: <code>initializeTurns</code>. When the <code>initializeTurns</code> function completes what it has to do, the JavaScript engine will forget the values of these variables.</p>
<p>You have defined the variable <code>active</code> outside any function. When you do this, the JavaScript engine considers the variable to be a property of the global <code>window</code> object. To test this, type <code>window.active</code> in the Console. You should see the value of the variable displayed.</p>
<figure>
<img src="img/window-active.png" alt="The active variable is a global, stored as a property of the window object" />
<figcaption>Figure 93. The <code>active</code> variable is a global, stored as a property of the window object</figcaption>
</figure>
<h3>So many global variables</h3>
<p>If you click on the disclosure triangle beside the word "Global" in the Scope pane, you will see the complete list of all the globals that the browser uses, in alphabetical order. Global variables whose names start with a capital letter will appear before those that start with a lowercase letter, so you'll need to scroll a long way before you find <code>active</code>.</p>
<figure>
<img src="img/global-active.png" alt="Scrolling through all the globals" />
<figcaption>Figure 94. Scrolling through all the globals</figcaption>
</figure>
<h3>The properties of <code>window</code></h3>
<p>Most globals are created by the browser, for its own housekeeping. Only a few are created as properties of the <code>window</code> object. All the globals that you create are properties of the <code>window</code> object. You can see all these variables by typing...</p>
<pre>keys(window)</pre>
<p>... after the <code>&gt;</code> prompt in the Console:</p>
<figure>
<img src="img/window-properties.png" alt="Window properties" />
<figcaption>Figure 95. <code>window</code> properties</figcaption>
</figure>
<p>You might recognize some of these:</p>
<ul>
<li>active</li>
<li>hideMatch</li>
<li>reset</li>
<li>nextTurn</li>
<li>initializeTurns</li>
</ul>
<p>In addition to the <code>active</code> variable, these are the functions that you have created in your script.</p>
<h3>Functions within functions</h3>
<p>To take all these variables and functions out of the global window space, you can wrap your entire code in a function, like this:</p>
<pre class="revised"><span class="new">;(function() {</span>
  // All your existing code goes here
<span class="new">})()</span></pre>
<p class="aside note">You can see the full listing of your code wrapped in a function like this at the end of this page.</p>
<p>To test the effect of this, add these lines, one at the beginning and the other at the end of your script, save your <code>nim.js</code> file and refresh your browser. The breakpoint will still be on the same line number, but the code itself will have shifted. The easiest solution is to click on the Step Over button to execute the line at the breakpoint, so that <code>active</code> now has a value.</p>
<figure>
<img src="img/closure.png" alt="Using an immediately-invoked function expression to create a closure" />
<figcaption>Figure 96. Using an immediately-invoked function expression to create a closure</figcaption>
</figure>
<p>You should now see a new entry in the Scope pane if the Developer Tools: Closure. If you expand the entry for Closure, you should see the <code>active</code> variable. It is no longer listed with the globals, because it is now defined within the unnamed <code>function</code> that you have just created.</p>
<p>You can think of <span class="keyword">scope</span> as being like the rooms in a house. The things in the room are private to the room: you can only use them when you are in that room. The room also has access to the electrical system and the WiFi that is private to the house. The house has access to public utilities, like the road system, and to global phenomena, like the weather.</p>
<p>Creating a function creates a closed space. You can create a function within a function: the inner functions have access to the information that is available to the outer function. Outer functions cannot see what is going on inside an inner function.</p>
<h3>Closure and namespace</h3>
<p>In the <code>reset</code> function, there is a variable called <code>ii</code> which is used for iterating through match <code>&lt;img&gt;</code> elements. In the <code>initializeTurns</code> function, there is another variable, also called <code>ii</code>, which is used to iterate through the "turn" <code>&lt;button&gt;</code> elements.  Because these two variables are defined inside different functions, they refer to different things, just like the word "table" refers to a different piece of furniture when you are in your kitchen or a dining room or an office.</p>
<h3>Functions and parentheses</h3>
<p>In English, one word can have many different meanings. The distinction is clear from the context. For example can use the word "set" in the context of the sun, a tennis game, a table, concrete, and so on, and in each case, the meaning of the word "set" is quite distinct.</p>
<p>TIn JavaScript, round parentheses <code>( )</code> can have three different meanings, depending on the context.</p>
<h4>1) Function declaration</h4>
<p>You have already seen how to declare a function. In your code, you write:</p>
<pre>function nameOfYourFunction(argumentName) {
  // The commands to execute go here
}</pre>
<p class="aside note">The name of the function is in fact optional. A function that has no name is called an <span class="keyword">anonymous function</span>.</p>
<p>In the context of a function declaration, the parentheses after the name of the function mean "the words inside these parentheses are the names of variables that are given to this function when it is asked to execute its code". These <span class="keyword">argument</span> variables are in the scope of the function.</p>
<p>You can refer to the function by using its name, without any parentheses. To test this:</p>
<ul>
<li>Place a breakpoint on the line <code>initializeTurns()</code></li>
<li>Refresh your page. The debugger will open inside the scope of the outer anonymous function.</li>
<li>After the <code>&gt;</code> prompt in the Console, type <code>initializeTurns</code>. Do not include any parentheses.</li>
<li>The console will show you that the variable name <code>initializeTurns</code> refers to the <code>function initializeTurns()</code></li>
</ul>
<figure>
<img src="img/function-variable.png" alt="The function name, without parentheses, refers to the function itself" />
<figcaption>Figure 97. The function name, without parentheses, refers to the function itself</figcaption>
</figure>
<h4>2) Executing a function</h4>
<p>In the context where you want to execute the code inside a function, you write the function name <em>followed by opening and closing parentheses.</em> In this case, the parentheses have a different meaning. Here they mean "take the function with this name and execute the commands inside it." If you include any variabele names inside the parentheses, the value of these variables will be passed to the function as arguments to the function.</p>
<h4>3) Evaluating items</h4>
<p>A third way that parentheses can be used is to group items together, so that the expression inside the parentheses is evaluated. For example <code>(5 - 4) * 3</code> means <code>1 * 3</code>, while <code>5 - (4 * 3)</code> means <code>5 - 12</code>. The expression inside the parentheses is evaluated before any other operations are applied. </p>
<h3>Immediately-invoked function expressions</h3>
<p>The new function that you have created uses parentheses in all three ways:</p>
<ul>
<li>It contains a pair of parentheses after the word <code>function</code>, as part of the function definition</li>
<li>It is wrapped in a pair of parentheses, to tell the JavaScript engine to evaluate it</li>
<li>It is followed by a pair of parenthesis, to tell the JavaScript engine to execute the evaluated function.</li>
</ul>
<p>In other words, when the JavaScript engine encounters code in the form...</p>
<pre>(function optionalFunctionName() {
  // code to execute
})()</pre>
<p>... it immediately executes the code inside the function. This code structure is called an <span class="keyword">immediately-invoked function expression</span> (IFFE, pronounced "iffy"). This is equivalent to:</p>
<pre>function optionalFunctionName() {
  // code to execute
}

optionalFunctionName()</pre>
<h3>That semi-colon</h3>
<p>You'll have noticed that I use a semi-colon as the very first character. If you read the other articles, you'll see that the writers put a semi-colon at the end... and also at the end of every line.</p>
<p>This is one of the few places where the lack of a semi-colon may cause the JavaScript engine to become confused. Perhaps you already know the joke: Time flies like an arrow, and fruit flies like a banana. But the JavaScript engine has no sense of humour.</p> 
<p>If you put two immediately-invoked function expressions one after the other, without a semi-colon to separate them, the JavaScript engine will choose the wrong meaning for the parentheses around the second function expression. Instead of understanding it as "evaluate the expression inside these parentheses" (meaning 3), it will understand it as "execute the previously evaluated expression" (meaning 2), and will stop working.</p>
<p>You can test this, to see what will happen. Change the current <code>initializeTurns</code> function to an immediately-invoked function expression, and then add another IIFE right after it, with no semi-colon between them:</p>
<pre class="revised">  ...

  <span class="new">;(</span>function initializeTurns() {
    var turnButtons = document.querySelectorAll(".turns button")
    var button

    for (var ii=0; ii&lt;turnButtons.length; ii++) {
      button = turnButtons[ii]
      button.onclick = nextTurn

      if (ii === 0) {
        active = button.parentElement
        active.classList.add("active")
      }
    }
  }<span class="new">)()

  (function () {
    alert ("Semi-colon required")
  })()</span></pre>
<p>Now save your changes and refresh the browser. You should see an error reported in the Console, and no alert will appear.</p>
<figure>
<img src="img/missing-semicolon.png" alt="One case where a missing semicolon will cause an error" />
<figcaption>Figure 98. One case where a missing semicolon will cause an error"</figcaption>
</figure>
<p>If you now add the semi-colon between the two IFFEs, save your changes and refresh your browser, no error will occur and the alert will show.</p>
<p>I put the semi-colon at the beginning of the IFFE, to tell other developers "I only use semi-colons where they are absolutely necessary, and one is necessary here." That's my coding style, and you are free to put semi-colons at the end of every line if you want to.</p>
<h3>The complete code listing</h3>
<p>The alert IFFE that you just added is not necessary. It was just used for demonstration purposes. You can delete it. Your code should now look like this:</p>
new
<pre class="revised"><span class="new">;(function() {</span>
  var active

  document.body.onclick = hideMatch

  function hideMatch(event) {
    var match = event.target
    if (match.nodeName !== "IMG") {
      return
    }
    
    match.classList.add("removed")

    active.classList.add("enabled")
  }

  function reset() {
    var matches = document.querySelectorAll(".matches img.removed")

    for (var ii=0; ii&lt;matches.length; ii++) {
      var match = matches[ii]
      match.classList.remove("removed")
    }
  }

  function nextTurn() {
    if (!active.classList.contains("enabled")) {
      return
    }

    var next = document.querySelector(".turns div:not(.active)")
    active.classList.remove("active")
    active.classList.remove("enabled")

    active = next
    active.classList.add("active")
  }

  <span class="new">;(</span>function initializeTurns() {
    var turnButtons = document.querySelectorAll(".turns button")
    var button

    for (var ii=0; ii&lt;turnButtons.length; ii++) {
      button = turnButtons[ii]
      button.onclick = nextTurn

      if (ii === 0) {
        active = button.parentElement
        active.classList.add("active")
      }
    }
  }<span class="new">)()
})())</span></pre>

<div class="aside git">You can commit these changes to your local repository now:
<pre>
git commit -am "Wrap in immediately-invoked function expression"
</pre></div>

<div class="aside next">The changes that you have made in this step may seem small, but it is important to understand the concepts involved. If anything is still unclear, I recommend that you visit the links in the Learn More About IFFEs section.
<p>
When you're ready to continue, click on the Next arrow below, or on item <a href="#rows">29: One row at a time</a> in the menu on the left.</p>
</div>

<div class="optional details">
<input type="checkbox" id="scope-details"/>
<label for="scope-details">Learn more about IFFEs</label>
<div>
<p>"Immediately-invoked function expressions" and "self-executing anonymous functions" are two ways of saying the same thing. Here are some places where you can find further explanations of this concept:</p>
<ul>
<li><a href="http://markdalgleish.com/2011/03/self-executing-anonymous-functions/">Self-Executing Anonymous Functions, by Mark Dalgleish</a></li>
<li><a href="http://benalman.com/news/2010/11/immediately-invoked-function-expression/">Immediately-Invoked Function Expression (IIFE), by Ben Alman</a></li>
<li><a href="https://en.wikipedia.org/wiki/Immediately-invoked_function_expression">Immediately-invoked function expression on Wikipedia</a></li>
</ul>
</div>
</div>

<div class="optional trouble">
<input type="checkbox" id="scope-trouble"/>
<label for="scope-trouble">Troubleshooting </label>
<div>
<p class="aside mail">If you have any problems with this step, please <a href="https://github.com/lexogram/openbook/issues/new">tell us what happened</a> and we'll do our best to find a solution for you.</p>
</div>
</div>

<footer>
<ul class="nav">
<li>
<a href="#rows">
<img src="../img/arrow.png" alt="next"/>
</a>
</li>
</ul>
</footer>
</section>

<!-- ONE ROW AT A TIME -->
<section id="rows">
<h2>One Row at a Time</h2>
<div class="aside preview">In this step, you'll learn to:
<ul>
<li>Ask the right questions on the Internet to discover what JavaScript keywords to use</li>
<li>Count the number of children of an element</li>
<li>Check which row the current player first clicked on</li>
</ul>
<a href="https://github.com/lexogram/openbook/blob/master/nim/Steps/step_29/step_29.zip?raw=true" target="source">Download the source files</a>
</div>
<p>Right now, there is nothing to prevent a player from removing matches from more than one row. This is against the rules, and must be stopped. This means that you are going to have to find a way to check which row a given match belongs to.</p> 
<p>One easy way to distinguish between the rows is by the number of <code>&lt;img&gt;</code> elements the row contains.</p>
<p>At the moment, you are attaching an <code>onclick</code> handler to the <code>&lt;body&gt;</code> element. This means that every click anywhere on the page will trigger a <code>click</code> mouse event. In the <code>hideMatch</code> function, you are checking for <code>event.target</code>, which should be an <code>&lt;img&gt;</code> element. If it is an <code>&lt;img&gt;</code> element, then its parent element will be one of the <code>&lt;div&gt;</code> elements with the "matches" class. All you need to do is:</p>
<ul>
<li>Find out which element is the parent of the clicked <code>&lt;img&gt;</code> element</li>
<li>Find out how many children that parent has</li>
</ul>
<p>The answer will be 1, 3, 5 or 7, regardless of how many matches have already been hidden.</p>
<p>You have already seen how to find the parent of a given element, because you have used it in the <code>initializeTurns</code> function. But if you have forgotten, it is very easy to find out using your favourite search engine. You just have to ask the right question. Try these search words:</p>
<kbd><a href="https://www.google.com/webhp#q=parent+of+html+element">parent of html element</a></kbd>
<p>What is the first hit that you get? It is probably either a link to <code><a href="http://www.w3schools.com/jsref/prop_node_parentelement.asp">parentElement</a></code> or <code><a href="http://www.w3schools.com/jsref/prop_node_parentnode.asp">parentNode</a></code>. Either property is good.</p>
<p>What about finding how many children a given element has? How about these search terms:</p>
<kbd><a href="https://www.google.ca/webhp#q=number+of+children+of+html+element">number of children of html element</a></kbd>
<p>It might take a little bit more searching, but you should soon find links to <a href="http://www.w3schools.com/jsref/prop_element_childelementcount.asp">HTML DOM childElementCount Property</a> or <a href="https://developer.mozilla.org/en-US/docs/Web/API/ParentNode/childElementCount">ParentNode.childElementCount</a></p>
<p>Here are some changes that you can make to your <code>nim.js</code> file, to prevent matches being removed from more than one row:</p>
<pre class="revised">;(function() {
  var active
  <span class="new">var rowCount</span>
  ...

  function hideMatch(event) {
    var match = event.target
    
    if (match.nodeName !== "IMG") {
      return
    } else if (match.className === "removed") {
      return
    }<span class="new"> else if (rowsDontMatch(match)) {
      return
    }</span>
    
    match.classList.add("removed")

    active.classList.add("enabled")
  }

  <span class="new">function rowsDontMatch(match) {
    var matchCount = match.parentElement.childElementCount
    if (rowCount) {
      if (rowCount !== matchCount) {
        return true
      }
    } else {
      rowCount = matchCount
    }

    return false
  }</span>

  ...

  function nextTurn() {
    if (!active.classList.contains("enabled")) {
      return
    }

    var next = document.querySelector(".turns div:not(.active)")
    active.classList.remove("active")
    active.classList.remove("enabled")

    active = next
    active.classList.add("active")

    <span class="new">rowCount = 0</span>
  }</pre>
<h3>Identifying the row from which the player took the first match</h3>
<p>In the <code>nextTurn</code> function, you set a new variable called <code>rowCount</code> to 0. When the player clicks on a visible match, the new function <code>rowsDontMatch</code> is called, and the <code>&lt;img&gt;</code> element on which the player clicked is passed as an argument. The line...</p>
<pre>var matchCount = match.parentElement.childElementCount</pre>
<p>... calculates the number of matches in the row (the number of children of the <code>&lt;img&gt;</code> element's parent).</p>
<p>If this is the first match that the player has clicked during this turn, then <code>rowCount</code> will be <code>0</code>. Zero behaves like <code>false</code> so the lines... </p>
<pre>    else {
      rowCount = matchCount
    }</pre>
<p>... will be executed, and then the <code>rowsDontMatch</code> function will return the value <code>false.</code></p>
<p>If the player clicks on other matches, <code>rowCount</code> will already have a non-zero value (1, 3, 5 or 7) and this value will behave like <code>true</code>. As a result the lines...</p>
<pre>      if (rowCount !== matchCount) {
        return true
      }</pre>
<p>... will be executed. If the player clicked on a match in a different row, the <code>rowsDontMatch</code> function will return the value <code>true</code>. If the click was on the same row (and therefore the match can legally be removed), none of the code inside the <code>if ( ) {&nbsp;} else {&nbsp;}</code> statement will be executed, and the next line to run will be <code>return false</code>.</p>
<p>If <code>rowsDontMatch</code> returns <code>true</code>, then <code>hideMatch</code> will not execute any more code. No matches will disappear.</p>

<div class="aside git">Time to commit these changes to your local repository:
<pre>git commit -am "Limit player to taking from only one row"
</pre>
<p>Now you can visit your <a href="https://github.com/issues">Issues</a> page on GitHub, and close this issue.</p>
</div>

<div class="aside next">You have seen how to check which row the player first took a match from in the current move, and how to prevent the player from taking any matches from a different row.
<p>You need to do one more thing before you will have finished the basic two-player game: check when the game is finished. When you're ready, click on the Next arrow below, or on item <a href="#winner">30: Who won?</a> in the menu on the left.</p>
</div>

<div class="optional trouble">
<input type="checkbox" id="row-trouble"/>
<label for="row-trouble">Troubleshooting </label>
<div>
<p class="aside mail">If you have any problems with this step, please <a href="https://github.com/lexogram/openbook/issues/new">tell us what happened</a> and we'll do our best to find a solution for you.</p>
</div>
</div>

<footer>
<ul class="nav">
<li>
<a href="#winner">
<img src="../img/arrow.png" alt="next"/>
</a>
</li>
</ul>
</footer>
</section>

<!-- WHO WON? -->
<section id="winner">
<h2>Who Won?</h2>
<div class="aside preview">In this step, you'll learn how to:
<ul>
<li>Read the text of a given HTML element</li>
<li>Count the number of HTML elements with a given class</li>
<li>Indicate that the game is over</li>
</ul>
<a href="https://github.com/lexogram/openbook/blob/master/nim/Steps/step_30/step_30.zip?raw=true" target="source">Download the source files</a>
</div>
<p>You can now play Nim as a two-player game, removing matches until there are no matches left. When a player removes the last match, the game should say something like "You win" or "Player 1 wins". This means that your code must have some way of:</p>
<ul>
<li>Knowing the name of the current player ("You", "Computer", "Player X")</li>
<li>Deciding whether to use "win" or "wins", depending on the name of the winning player.</li>
</ul>
<p>When the last match has been removed, then all the <code>&lt;img&gt;</code> elements will have the class "removed". There are 16 matches in all. If there are 16 images with the class "removed" then the game is over.</p>
<h3>Selecting all the "removed" match images</h3>
<p>In the <code>reset</code> method, you have already used<code>var matches = document.querySelectorAll(".matches img.removed")</code> to create an array of all the elements with the "removed" class. You have also used <code>matches.length</code> to count the number of elements in this array. It should be easy for you to create a <code>checkForGameOver</code> method that uses these two techniques, and checks whether the result is 16, in which case all the matches have been removed, and the game is over.</p>
<p>Perhaps you'd like to try that for yourself.</p>
<h3>Getting the name of the winner</h3>
<p>The loser is the player who plays the last move. To announce who won, you will need to read the name of the current player, just before the current player switches. You'll need to do this in the <code>nextTurn</code> function, but you'll need to check for the losing move in the <code>hideMatch</code> function. This means that the variable that holds the name of the winner needs to be declared outside both these functions, inside the outermost closure:</p>
<pre class="revised">;(function() {
  var active
  var rowCount
  <span class="new">var winner</span>

  ...</pre>
<p>To discover how to get the text itself, you can run an Internet search such as...</p>
<kbd><a href="https://www.google.com/webhp?#q=get+text+of+html+element">get text of html element</a></kbd>
<p>This should lead you to articles such as:</p>
<ul>
<li><a href="http://www.w3schools.com/jsref/prop_node_textcontent.asp">HTML DOM textContent Property</a>, which immediately gives you an example of exactly what you need.</li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Node/textContent">Node.textContent</a></li>
</ul>
<p>Here's how you can set the value of <code>winner</code> each time a player finishes a turn:</p>
<pre> ...

  function nextTurn() {
    if (!active.classList.contains("enabled")) {
      return
    }

    <span class="new">winner = active.querySelector("p").textContent</span>

    var next = document.querySelector(".turns div:not(.active)")
    active.classList.remove("active")
    active.classList.remove("enabled")

    active = next
    active.classList.add("active")

    rowCount = 0 
  }

  ...
</pre>
<p>In other words: look inside the <code>active</code> player div for an element with a <code>&lt;p&gt;</code> tag, and set <code>winner</code> to the text of the this element. Then swap players, so that the other player becomes "active".</p>
<h3>Detecting that the game is over</h3>
<p>Here's how you can add a call to a <code>checkForGameOver</code> function to the <code>hideMatch</code> function.</p>
<pre class="revised">  ...

  function hideMatch(event) {
    var match = event.target
    
    if (match.nodeName !== "IMG") {
      return
    } else if (match.className === "removed") {
      return
    } else if (rowsDontMatch(match)) {
      return
    }
    
    match.classList.add("removed")
    active.classList.add("enabled")

    <span class="new">checkForGameOver()
  }

  function checkForGameOver() {
    var selector = ".matches img.removed"
    var removed = document.querySelectorAll(selector).length

    if (removed === 16) { // HARD-CODED NUMBER OF MATCHES
      showWinner()
    }
  }

  function showWinner() {
    var message

    if (winner === "You") {
      message  = winner+" win!"
    } else {
      message = winner+" wins!"
    }

    alert (message)
  }</span>

  function rowsDontMatch(match) {
  ...</pre>
<p>Note that checking that the game is over and announcing the winner are done in two separate functions, to make it easy to change each feature separately.</p>
<figure>
<img src="img/you-win.png" alt="Displaying an alert when the game is over" />
<figcaption>Figure 99. Displaying an alert when the game is over</figcaption>
</figure>

<div class="aside git">Well done! That's another issue resolved: <em>Check that the current player has taken the last match</em>. You can visit your <a href="https://github.com/issues">Issues</a> page on GitHub, and close this issue.
<p>Do you need a reminder about how to commit your changes locally?
</p>
<pre class="hover">git commit -am "Check when player takes the last match"
</pre></div>

<p class="aside next">In the next step you will see how to display the winner in the page itself, instead of using an alert. When you're ready, click on the Next arrow below, or on item <a href="#position">31: Using an overlay</a> in the menu on the left.</p>

<footer>
<ul class="nav">
<li>
<a href="#position">
<img src="../img/arrow.png" alt="next"/>
</a>
</li>
</ul>
</footer>
</section>

<!-- POSITIONING AN OVERLAY -->
<section id="position">
<h2>Positioning an Overlay</h2>
<div class="aside preview">In this step, you'll learn:
<ul>
<li>How to create a semi-transparent overlay</li>
<li>How to change the text of an HTML element</li>
<li>How to use the <code>id</code> attribute</li>
</ul>
<a href="https://github.com/lexogram/openbook/blob/master/nim/Steps/step_31/step_31.zip?raw=true" target="source">Download the source files</a>
</div>
<p>It's easy to create an alert to show who has won, but it does not look very professional. It would be better to make the winning announcement in the same style as the page itself. To do this, you'// need to make changes to all three documents in your game: <code>index.html</code>, <code>style.css</code> and <code>nim.js</code>.</p>
<h3>Creating an overlay in HTML</h3>
<p>When the game is over, all the matches will be gone, and the "player" names and Done buttons will no longer be needed. However, you will want to be able to click on any of the three start buttons. It would make sense to place the winner announcement in the centre of the area currently defined by <code>&lt;div class="game"&gt;</code> and <code>&lt;div class="turns"&gt;</code>.</p>
<p>One way to do this is to place both these <code>&lt;div&gt;</code>elements inside a wrapper <code>&lt;div&gt;</code>, and then create a third child of the wrapper <code>&lt;div&gt;</code> which will take up 100% of the width and 100% of the height of its parent.</p>
<p>In your <code>index.html</code> file, add a new <code>&lt;div&gt;</code> with a class of "playzone", as shown below:</p>
<pre class="revised">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Nim&lt;/title&gt;
    &lt;link rel="stylesheet" href="css/style.css" /&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;Nim&lt;/h1&gt;
    &lt;h2&gt;The game that will beat you&lt;/h2&gt;
    <span class="new">&lt;div class="playzone"&gt;</span>
      &lt;div class="game"&gt;
        &lt;div class="matches"&gt;
          &lt;img src="img/match.png" alt="match 1 row 1" /&gt;
          ...
        &lt;/div&gt;
      &lt;/div&gt;

      &lt;div class="turns"&gt;
        &lt;div class="player1"&gt;
          &lt;button type="button"&gt;Done&lt;/button&gt;
          &lt;p&gt;You&lt;/p&gt;
        &lt;/div&gt;
        &lt;div class="player2"&gt;
          &lt;button type="button"&gt;Done&lt;/button&gt;
          &lt;p&gt;Computer&lt;/p&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    <span class="new">&lt;/div&gt;</span>

    ...</pre>
<p>Now, inside the new <code>&lt;div&gt;</code>, you can create a nest of two new elements: a <code>&lt;div&gt;</code> that will serve to cover the whole area with a semi-opaque mask, and a <code>&lt;p&gt;</code> element to show the identity of the winner:</p>
<pre><span class="revised">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Nim&lt;/title&gt;
    &lt;link rel="stylesheet" href="css/style.css" /&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;Nim&lt;/h1&gt;
    &lt;h2&gt;The game that will beat you&lt;/h2&gt;</span>
    &lt;div class="playzone"&gt;<span class="revised">
      &lt;div class="game"&gt;
        ..
      &lt;/div&gt;

      &lt;div class="turns"&gt;
        ...
      &lt;/div&gt;</span>

      <span class="new">&lt;div id="winner" class="mask"&gt;
        &lt;p class="dialog active"&gt;The Computer wins!&lt;/p&gt;
      &lt;/div&gt;&lt;/div&gt;</span>
    &lt;/div&gt;

    ...</pre>
<p class="aside note">The "mask" div has an <code>id</code> attribute.For more information on the <code>id</code> attribute, see the Learn More About <code>id</code>s section below.</p>
<h3>Using CSS to position the winner announcement</h3>
<p>If you save your changes and refresh your browser, you will see that the text "The Computer wins!" in small characters beneath the names of the players. To make it appear over the top of other elements, you need to use the <code>position</code> CSS attribute.</p>
<p>In your <code>style.css</code> file, add the following two rules, then save your files and refresh your browser.</p>
<pre>
.playzone {
  <span class="new">position: relative;</span>
}
.mask {
  <span class="new">position: absolute;</span>
  height: 100%;
  width: 100%;
  top: 0;
  background:rgba(100,0,0,0.8);
}</pre>
<p>You should now see a dark red overlay with an opacity of 80% above the matches and the players' names. (I've used red so that it is easy to see. By the end of the next step, it will be changed to black, to blend in with the background). The text "The Computer wins!" should appear at the top left of this area.</p>
<figure>
<img src="img/overlay-absolute.png" alt="Using position: absolute; to place elements outside the normal flow" />
<figcaption>Figure 100. Using <code>{&nbsp;position:&nbsp;absolute;&nbsp;}</code> to place elements outside the normal flow</figcaption>
</figure>
<p>The default value for the <code>position</code> property is <code>static</code>. Elements with a <code>static</code> position flow after each other down the page. If you change the value of an element's <code>position</code> to <code>absolute</code>, you tell the browser to remove the element from the normal flow. It will now appear on top of other elements, and with its top left at the absolute position that you give <em>relative to the closest parent that does not have a <code>static</code> position</em>.</p>
<p>By setting the <code>position</code> of the "playzone" parent to "relative", you tell the browser that the "mask" overlay needs to be positioned absolutely with respect to the "playzone" element. If you delete or comment out the CSS rule for <code>.playzone</code>, then the "mask" element will be positioned relative to the <code>&lt;body&gt;</code>, and will thus cover the three start buttons as well, making it impossible to click them. (Try it and see.)</p>
<p>Setting the <code>height</code> and the <code>width</code> of the "mask" <code>&lt;div&gt;</code> makes it exactly the same dimensions as its parent "playzone" <code>&lt;div&gt;</code>. Setting the <code>top</code> attribute to <code>0</code> places the "mask" <code>&lt;div&gt;</code> at exactly the same vertical position as its parent.</p>
<p class="aside note">The Learn More About Position section below will give you insight into how the <code>position</code> property works.</p>
<h3>CSS to centre the winner text</h3>
<p>The easiest way to position the winner text in a good vertical position is to use absolute positioning and <code>em</code> units for the <code>top</code> attribute. Te centre it horizontally, you can set the <code>width</code>  of the element to <code>100%</code> of the width of its parent, and use <code>center</code> for the <code>text-align</code> attribute.</p>
<p>Add these two rules to your <code>style.css</code> file, save it and refresh your browser.</p>
<pre>.dialog{
  position: absolute;
  top: 8.2em; /* Hand-picked hard-coded value */
  width: 100%;
  text-align: center;
}
#winner p{
  font-size: 2.5em;
}</pre>
<p>On my system, the value of <code>8.2em</code> places the text nicely between the middle two rows of matches.</p>
<figure>
<img src="img/hardcoded-top.png" alt="Using em units to fix the vertical position" />
<figcaption>Figure 101. Using <code>em</code> units to fix the vertical position</figcaption>
</figure>

<div class="aside next">
When you're ready, click on the Next arrow below, or on item <a href="#"></a> in the menu on the left.
<p>If you want to know more about  below.</p>
</div>

<div class="optional details">
<input type="checkbox" id="position-details"/>
<label for="position-details">Learn more about <code>position</code></label>
<div>
<p>Here are some links with more details about how the <code>position</code> property works:</p>
<ul>
<li><a href="http://www.w3schools.com/css/css_positioning.asp">CSS Layout - The position Property</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/position">position</a></li>
</ul>
</div>
</div>

<div class="optional details">
<input type="checkbox" id="id-details"/>
<label for="id-details">Learn more about <code>id</code>s</label>
<div>
<p>In CSS, you can apply a <code>class</code> to many different elements, and you can apply many classes to one element. Sometimes you need to identify a unique element. It can be complicated to create a selector that will do this if you only use classes.</p>
<p>The solution is to set an <code>id</code> attribute for your unique element. If you give the same <code>id</code> to several elements, the browser will only recognize the first element with that <code>id</code>. In JavaScript, you can use <code>document.getElementById("<em>idString</em>")</code> to refer to the first element in the page that has the given id.</p>
<p>In your CSS document, a class is identified by a preceding dot. An id is identified by a preceding hash symbol:</p>
<pre><span class="red">.</span><em>class</em> {
  /* CSS rules */
}

<span class="red">#</span><em>id</em> {
  /* CSS rules */
}</pre>
<p>You can read more about the <code>id</code> selector on other sites:</p>
<ul>
<li><a href="http://www.w3schools.com/cssref/sel_id.asp">CSS #id Selector</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/ID_selectors">ID selectors</a></li>
</ul>
</div>
</div>
<footer>
<ul class="nav">
<li>
<a href="#transforms">
<img src="../img/arrow.png" alt="next"/>
</a>
</li>
</ul>
</footer>
</section>

<!-- USING CSS TRANSFORMS -->
<section id="transforms">
<h2>Using CSS Transforms</h2>
<div class="aside preview">In this step, you'll learn:
<ul>
<li>How to use the transform property to change an element's layout with respect to itself</li>
</ul>
<a href="https://github.com/lexogram/openbook/blob/master/nim/Steps/step_32/step_32.zip?raw=true" target="source">Download the source files</a>
</div>
<p>The technique that you used in <a href="#position">the last step</a> for placing an element vertically assumes that you know the height of parent element. Here's a technique that you can use when you don't know the height:</p>
<ul>
<li>Move the top of the text element half-way down the parent element</li>
<li>Shift the text element upwards half its own height</li>
</ul>
<p>The first of these is easy: you can set the value of <code>top</code> to <code>50%</code>: 50% of the height of the parent element.</p>
<p>To shift the element by a percentage of its <em>own</em> height, you need to use an attribute that has been added more recently to CSS. The vendor of different browser have not yet agreed on how it should work exactly. As a result, you need to use not one CSS property but several, one for each vendor. Your browser will ignore the properties that it does not understand.</p>
<h3>Unit-free CSS for centring an element vertically.</h3>
<p>Make the following change to your CSS rule for the "dialog" class:</p>
<pre class="revised">
.dialog{
position: absolute;
width: 100%;
<span class="strike">top: 8.2em;</span>
<span class="new">top: 50%;
-webkit-transform: translate(0, -50%);
-moz-transform: translate(0, -50%);
-ms-transform: translate(0, -50%);
-o-transform: translate(0, -50%);
transform: translate(0, -50%);</span>
text-align: center;
}</pre>
<div class="aside note">The <code>transform</code> property will eventually become standard. It should be placed last. The other properties all have a <span class="keyword">vendor prefix</span>. If a given browser supports both its own vendor-prefixed version of the property and the standard property itself, then the value given later will be applied.
<p>In Google Chrome, for example, if you disable the <code>transform</code> setting in the "dialog" rule, by unchecking its checkbox in the Styles pane (as shown in figure 102 below), the <code>webkit-transform</code> property will be activated instead. The effect should be the same.</p></div>
<figure>
<img src="img/vendor-transform.png" alt="Using the transform property to move an element relative to itself" />
<figcaption>Figure 102. Using the transform property to move an element relative to itself</figcaption>
</figure>
<p>Here, the <code>transform</code> property is used to <span class="keyword">translate</span> the winner text element upwards by 50% of its own height. The <code>transform</code> property can be used for many other manipulations, such as rotation, scale, skew, 3D perspective. For more information, see the Learn More About Transform section below.</p>
<p class="aside note">Note that the position of the "winner" text is different now. In the previous step, you used a hard-coded custom value; with this technique, you are simply placing the text exactly in the vertical centre. Now that you know this new technique, you can choose which you like better.</p>

<h3>Matching the mask colour to the background</h3>
<p>I used red as the background colour for the "#winner" element, so that you could easily see its extent. To blend the overlay into the page as a whole, it's better to use the same background colour as for the <code>&lt;body&gt;</code>:</p>
<pre class="revised">
.mask {
  position:absolute;
  height: 100%;
  width: 100%;
  top: 0;
  background:rgba(<span class="new">0</span>,0,0,0.8);
}</pre>
<p class="aside next">
You might want to read the Learn More About Transforms section below, to understand how this CSS feature works. When you're ready, click on the Next arrow below, or on item <a href="#cheats">33: Developer cheats</a> in the menu on the left.</p>
</div>
<div class="optional details">
<input type="checkbox" id="transform-details"/>
<label for="transform-details">Learn more about <code>transforms</code></label>
<div>
<p>You can discover more about the <code>transform</code> property on other sites:</p>
<ul>
<li><a href="http://www.w3schools.com/cssref/css3_pr_transform.asp">CSS transform Property</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/transform">transform</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Using_CSS_transforms">Using CSS transforms</a></li>
</ul>
</div>
</div>
<footer>
<ul class="nav">
<li>
<a href="#cheats">
<img src="../img/arrow.png" alt="next"/>
</a>
</li>
</ul>
</footer>
</section>

<!-- DEVELOPER CHEATS -->
<section id="cheats">
<h2>Creating Developer Cheats</h2>
<div class="aside preview">In this step, you'll learn:
<ul>
<li>How to call a function inside a closure from outside</li>
</ul>
<a href="https://github.com/lexogram/openbook/blob/master/nim/Steps/step_33/step_33.zip?raw=true" target="source">Download the source files</a>
</div>
<p></p>
<h3>Cheating for reasons of efficiency</h3>
<p>In the next step, you will be seeing how to show your new winner announcement when the game is over. You will probably want to test that the announcement appears the way you expect it to, several times.</p>
<p>In step <a href="winner">30: Who won?</a>, you needed to remove all the matches one by one, and swap players from time to time before the winner alert would appear. This is time-consuming. It would be good to be able to invoke the winner alert at any time. </p>
<p>At step <a href="reset">22: Resetting the Game</a>, you typed the command <code>reset()</code> in the Console to reset the game. What do you think will happen if you type <code>showWinner("Winner!")</code> after the <code>&gt;</code> prompt in the Console?</p>
<figure>
<img src="img/showWinner-error.png" alt="Calling a function from outside its scope causes an error" />
<figcaption>Figure 103. Calling a function from outside its scope causes an error</figcaption>
</figure>
<p>The answer is: lots of angry red text. Why?</p>
<p>In step <a href="scope">28: Variables and scope</a>, you created an immediately-invoked function expression to wrap all your code, so that it would keep all your variables neatly in their own closures. The downside of this is that you can't now call any of the functions inside this closure. Fortunately there is a simple slution, that you already know: declare a variable outside the closure, and set the value of this variable inside the closure. Like this:</p>
<pre class="revised"><span class="new">var functionVariable</span>

;(function() {
  var active

  ...

  <span class="new">functionVariable =</span> function showWinner(winner) {
    alert (winner)
  }

  ...
  </pre>
<p>The value of a variable can be a function. You can execute your function-variable, by placing opening and closing parentheses after it (enclosing some optional arguments), like this:</p>
<pre>functionVariable("Winner")</pre>
<p>When you do this, you execute the <code>showWinner</code> function that is stored inside your IIFE closure. </p>
<p>I've used <code>functionVariable</code> here, to show that the variable name and the function have their own separate existences. For simplicity and consistency, I suggest that you use the same name for both.</p>
<pre class="revised"><span class="new">var showWinner</span>

;(function() {
  var active

  ...

  <span class="new">showWinner =</span> function showWinner(winner) {
    alert (winner)
  }

  ...</pre>
<figure>
<img src="img/showWinner-alert.png" alt="Using a top-level variable to call a function inside a closure" />
<figcaption>Figure 104. Using a top-level variable to call a function inside a closure</figcaption>
</figure>
<p class="aside note">The variable <code>showWinner</code> that you have just created is a <span class="keyword">global</span>, and its good to avoid using globals. This particular global is only used to save you time during development. As soon as the game is working the way you want it to, you can delete your global declarations, and it will continue to work inside the safety of the closure.</p>
<h3>A <code>reset</code> cheat</h3>
<p>Here's another developer cheat that will prove useful to you:</p>
<pre class="revised">var showWinner
<span class="new">var reset</span>

;(function() {
  var active
  var rowCount
  var winner
 
  ...

  <span class="new">reset =</span> function reset() {
    var matches = document.querySelectorAll(".matches img.removed")

    for (var ii=0; ii&lt;matches.length; ii++) {
      var match = matches[ii]
      match.classList.remove("removed")
    }
  }

  ...</pre>
<p>This will let you execute the <code>reset()</code> command in the Console after the <code>&gt;</code> prompt, at any time.</p>
<p class="aside next">
Now that you can summon up the winner announcement whenever you want to see it, you are ready to integrate and test your new system. Click on the Next arrow below, or on item <a href="#win">34: Showing the winner</a> in the menu on the left.</p>
</div>
<footer>
<ul class="nav">
<li>
<a href="#win">
<img src="../img/arrow.png" alt="next"/>
</a>
</li>
</ul>
</footer>
</section>


<!-- SHOWING THE WINNER -->
<section id="win">
<h2>Showing the winner</h2>
<div class="aside preview">In this step, you'll learn how to:
<ul>
<li>Hide and show an element and its children</li>
<li>Set the text of an HTML element</li>
</ul>
<a href="https://github.com/lexogram/openbook/blob/master/nim/Steps/step_34/step_34.zip?raw=true" target="source">Download the source files</a>
</div>
<p>The winner announcement currently shows all the time. You already know how to make it invisible by setting the <code>opacity</code> of its elements to <code>0</code>, but a totally transparent element will still catch mouse events, so you won't be able to click on the matches or the buttons. You need to hide the #winner element completely. How can you do that? Here's are some search terms you could use to find the answer:</p>
<kbd><a href="https://www.google.ca/webhp?#q=hide%20html%20element">hide html element</a></kbd>
<h3><code>display: none;</code> </h3>
<p>You have already seen the <code>display</code> property. In step <a href="#layout">25: The game layout</a>, you used <code>{&nbsp;display:&nbsp;inline-block;&nbsp;}</code> to place the two "player" <code>&lt;div&gt;</code>s side by side. You can use it with the value <code>none</code> to remove an element from the page. Here are a couple of changes that you could make to your <code>index.html</code> and <code>style.css</code> files:</p>
<h4>HTML</h4>
<pre class="revised">    ...
      &lt;/div&gt;

      &lt;div id="winner" class="mask <span class="new">hidden"</span>&gt;
        &lt;p class="dialog active"&gt;The computer wins!&lt;/p&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    ...</pre>
<h4>CSS</h4>
<pre class="revised"><span class="new">.hidden{
  display: none;
}</span></pre>
<p>Make these changes, save your files and refresh your browser. The game should appear with all the matches fully visible. Clicking on a match should make it disappear, just as before.</p>
<h3>Showing the winner element when the game is over</h3>
<p>Now you can replace the <code>alert (winner)</code> command in the <code>showWinner</code> function with a command that makes the #winner element reappear. In your <code>nim.js</code> file, make the following changes:</p>
<pre class="revised">var showWinner
var reset

;(function() {
  var active
  var rowCount
  var winner
  <span class="new">var winnerDiv = document.querySelector("#winner")</span>

  ...

  showWinner = function showWinner(winner) {
    <span class="new">winnerDiv.classList.remove("hidden")</span>
  }

  ...</pre>
<p>Save your changes, refresh your browser, and type the command <code>showWinner()</code> into the console. The #winner anouncement should appear.</p>
<h3>Hiding the winner when the game is reset</h3>
<p>Hiding the #winner anouncement is just as easy. You can add a single line to the <code>reset</code> function:</p>
<pre class="revised">  ...

  reset = function reset() {
    var matches = document.querySelectorAll(".matches img.removed")

    for (var ii=0; ii&lt;matches.length; ii++) {
      var match = matches[ii]
      match.classList.remove("removed")
    }

    <span class="new">winnerDiv.classList.add("hidden")</span>
  }
  
  ...</pre>
<p>If you type <code>reset()</code> in the Console, you should see the winner overlay disappear.</p>
<h3>Setting the text of an HTML element</h3>
<p>The <code>showWinner</code> function receives the name of the winner as an argument. In step <a href="#winner">30: Who won?</a>, you saw how to <em>get</em> the text of an HTML element using <code>textContent. New you can use the same property to set the text in the #winner anouncement. Make the following change, save your changes, and refresh your browser.</code> </p>
<pre class="revised">  ...

  showWinner = function showWinner(winner) {
    <span class="new">var p = winnerDiv.querySelector("p")
    p.textContent = winner</span>
    winnerDiv.classList.remove("hidden")
  }

  ...</pre>
<p>If you type <code>showWinner("Player 1 wins!)</code> in after the <code>&gt;</code> prompt in the Console, you should see the customized winner announcement appear as an overlay over your game.</p>
<figure>
<img src="img/custom-winner.png" alt="Showing an overlay with a custom text" />
<figcaption>Figure 105. Showing an overlay with a custom text</figcaption>
</figure>

<pre class="revised">var showWinner
<span class="new">var reset</span>

;(function() {
  var active
  var rowCount
  var winner
  <span class="new">var winnerDiv = document.querySelector("#winner")</span>

  ...

  <span class="new">showWinner =</span> function showWinner(winner) {
    <span class="new">var p = winnerDiv.querySelector("p")
    p.textContent = winner
    winnerDiv.classList.remove("hidden")</span>
  }

  ...

  <span class="new">reset =</span> function reset() {
    var matches = document.querySelectorAll(".matches img.removed")

    for (var ii=0; ii&lt;matches.length; ii++) {
      var match = matches[ii]
      match.classList.remove("removed")
    }

    <span class="new">winnerDiv.classList.add("hidden")</span>
  }

  ...</pre>

<div class="aside git">Remember to commit these changes to your local repository.
<pre class="hover">git commit -am "Use overlay to show winner"
</pre></div>

<div class="aside next">
Just one more step and you will have completed the two-player version of the game. Then you'll be ready to add create a computer player with artificial intelligence, that will beat you every time... if you don't know how to win.
<p>When you're ready, click on the Next arrow below, or on item <a href="#two-players">35: Two-player game</a> in the menu on the left.</p>
</div>

<div class="optional trouble">
<input type="checkbox" id="row-trouble"/>
<label for="row-trouble">Troubleshooting </label>
<div>
<p class="aside mail">If you have any problems with this step, please <a href="https://github.com/lexogram/openbook/issues/new">tell us what happened</a> and we'll do our best to find a solution for you.</p>
</div>
</div>

<footer>
<ul class="nav">
<li>
<a href="#two-players">
<img src="../img/arrow.png" alt="next"/>
</a>
</li>
</ul>
</footer>
</section>

<!-- TWO PLAYER GAME -->
<section id="two-players">
<h2>Completing the two-player game</h2>
<div class="aside preview">In this step, you'll learn how to:
<ul>
<li>Get the Start buttons to start a new game</li>
<li>Set the names of the players</li>
<li>Tidy up your JavaScript code</li>
</ul>
<a href="https://github.com/lexogram/openbook/blob/master/nim/Steps/step_35/step_35.zip?raw=true" target="source">Download the source files</a>
</div>
<p>When you complete this step, you will have a fully-working two-player game. It will be good to clean up the code, so that all is ready for you to add a computer player and its artificial intelligence. I'll show you the changes one at a time, and at the end I'll give you the complete code listing, with the functions rearranged in a logical order.</p>
<h3>Initialization</h3>
<p>When the web page first loads, the game should tell all the interactive elements (matches and buttons) what they should do when you click on them. At the moment, the <code>initializeTurns</code> function invokes itself. In the finished game, there will be more than turns to initialize. To make this clear, you can create an <code>initialize</code> function, and get it to call other functions that deal with each situation.</p>
<p>In your <code>nim.js</code> file, make the following changes:</p>
<pre class="revised">var showWinner
var reset

;(function() {
  var active
  var rowCount
  var winner
  var winnerDiv = document.querySelector("#winner")

  <span class="new">// Code that runs when the page is first loaded
  ;(function initialize () {</span>
    document.body.onclick = hideMatch
    <span class="new">document.querySelector(".start").onclick = startNewGame
    initializeTurns()

    startNewGame()
  })()</span>

  <span class="new">// Code to start a new game
  function startNewGame() {
    reset()
  }</span></pre>
<p>The new <code>initialize</code> function is self-invoking, so the existing <code>initializeTurns</code> function can become an ordinary function again. It no longer needs to be an IFFE. You can remove the parentheses that made it auto-evaluate and auto-execute:</p>
<pre>  <span class="strike">;(</span> function initializeTurns() {
    var turnButtons = document.querySelectorAll(".turns button")
    var button

    for (var ii=0; ii&lt;turnButtons.length; ii++) {
      button = turnButtons[ii]
      button.onclick = nextTurn

      if (ii === 0) {
        active = button.parentElement
        active.classList.add("active")
      }
    }
  }<span class="strike">)()</span></pre>
<p>Save your changes and refresh your browser.</p>
<div class="aside warn">In the Console, you will probably see an error.
<figure>
<img src="img/reset-not-function.png" alt="Error: reset is not a function" />
<figcaption>Figure XX. Error: reset is not a function</figcaption>
</figure>
<p>Why does this happen?</p>
<p>The short answer is: The JavScript engine has not yet read to the line that says <code>reset = function reset() { ... }</code>, so the variable <code>reset</code> does not yet have a value. The simplest solution is to remove <code>reset = </code>, to create a simple function definition again:</p>
<pre><span class="strike">reset =</span> function reset() {
  var matches = document.querySelectorAll(".matches img.removed")

  for (var ii=0; ii&lt;matches.length; ii++) {
    var match = matches[ii]
    match.classList.remove("removed")
  }

  winnerDiv.classList.add("hidden")
}</pre>
<p>You're not losing any functionality: clicking one of the Start buttons will now do the same as manually typing <code>reset()</code> into the Console.</p>
<p>Now that you are no longer giving a value to the <code>reset</code> variable, you can remove the declaration at the top of your script:</p>
<pre>var showWinner
<span class="strike">var reset</span>

;(function() {
...</pre>
<p>The long answer is important. Understanding why this error occurred will help you to avoid writing buggy code in the future. I recommend that you read Learn More About Hoisting below.</p>
</div>
<p>After you have dealt with the <code>reset</code> issue, save your changes and refresh your browser again, to check that the error has gone.</p>
<h3>Starting a new game</h3>
<p>I've got you to create a new <code>startNewGame</code> function which does nothing but call another function. What's the point of that? Choose a row of matches and click on some of them to remove them, and then click on any of the Start buttons: the matches should reappear.</p>
<p>This is because a click anywhere in the "start" class <code>&lt;div&gt;</code> will call the <code>startGame</code> function, which will in turn call <code>reset</code>, which removes the "removed" class from all the hidden matches. This should happen regardless of which of the Start buttons is clicked.</p>
<p>In step <a href="#XXXX">UNKNOWN</a>, you will be setting the game up differently depending on which Start button is clicked. For now, you can get all Start buttons to start a two-player game, with players called "Player 1" and "Player 2".</p>
<pre class="revised">...

  // Code to start a new game
  function startNewGame(event) {
    <span class="new">player1 = "Player 1"
    player2 = "Player 2"
    setPlayers(player1, player2)</span>

    reset()
  }

  <span class="new">function setPlayers(player1, player2) {
    var players = document.querySelectorAll(".turns div")
    var player, nameField

    for (var ii=0; ii&lt;players.length; ii++) {
      player = players[ii]
      nameField = player.querySelector("p")

      if (ii === 0) {       
        nameField.textContent = player1

      } else {
        nameField.textContent = player2
      }
    }
  }</span>

...</pre>
<p>The <code>startNewGame</code> function now decides what each player is going to be called, and the new <code>setPlayers</code> function displays these names in the HTML page.</p>
<p>It would make sense to move the initialization of the <code>active</code> variable, and the classes attached to it, from the <code>initializeTurns</code> function to the <code>setPlayers</code> function:</p>
<pre class="revised">...
  function setPlayers(player1, player2) {
    var players = document.querySelectorAll(".turns div")
    var player, nameField

    for (var ii=0; ii&lt;players.length; ii++) {
      player = players[ii]
      nameField = player.querySelector("p")

      if (ii === 0) {       
        <span class="new">active = player
        active.classList.add("active")
        active.classList.remove("enabled")</span>
        nameField.textContent = player1

      } else {
        <span class="new">player.classList.remove("active")</span>
        nameField.textContent = player2
      }
    }
  }

  ...

  function initializeTurns() {
    var turnButtons = document.querySelectorAll(".turns button")
    var button

    for (var ii=0; ii&lt;turnButtons.length; ii++) {
      button = turnButtons[ii]
      button.onclick = nextTurn
<span class="strike">       
      if (ii === 0) {
        active = button.parentElement
        active.classList.add("active")
      }</span>
    }
  }

  ...</pre>
<p>Now, the first three lines of the <code>initialize</code> function just set up the various <code>onclick</code> event listeners, once and for all, and the <code>setPlayers</code> function deals with the players names and which player will play first.</p>
<h3>Resetting <code>rowCount</code></h3>
<p>The two-player game is now complete... or is it? You can save your changes, refresh the browser, play all the way through to the end and see who the winner is, and you can click on any of the Start buttons to restart the two-player game... And that's when the bug bites.</p>
<p>If Player 1 in the second game does not click on a match in last row that was clicked in the last game, nothing happens. Why? The answer is hidden below.</p>
<p class="hover">Answer: the variable <code>rowCount</code> is still set to the number of matches in the last row that was clicked.</p>
<p>You need to add one line of code to the <code>reset</code> function. See if you can find the answer for yourself before checking what's missing below:</p>
<pre class="revised">  ...

  function reset() {
    var matches = document.querySelectorAll(".matches img.removed")

    for (var ii=0; ii&lt;matches.length; ii++) {
      var match = matches[ii]
      match.classList.remove("removed")
    }

    winnerDiv.classList.add("hidden")
    
    <span class="new hover">rowCount = 0</span>
  }

  ...</pre>
<div class="aside next">
Congratulations! You have reached a significant milestone in the creation of your game. All the functionality for a two-player game is now in place.
<p>You will find below the complete code for the <code>nim.js</code> file, with the most recent changes in bold. I've re-ordered the functions so that they appear in the order in which they are executed. If you have any difficulty understanding how any part of it works, use the Troubleshooting section at the end to explain what is not clear to you.</p>
<p>When you're ready, click on the Next arrow below, or on item <a href="#housekeeping">36: Housekeeping</a> in the menu on the left.</p>
</div>
<h3>The complete code for a two-player game</h3>
<pre class="revised">var showWinner

;(function() {
  var active
  var rowCount
  var winner
  var winnerDiv = document.querySelector("#winner")

  <span class="new">// Code that runs when the page is first loaded
  ;(function initialize () {
    document.body.onclick = hideMatch
    document.querySelector(".start").onclick = startNewGame
    initializeTurns()

    startNewGame({target: {className: "twoPlayers"}})
  })()</span>

  function initializeTurns() {
    var turnButtons = document.querySelectorAll(".turns button")
    var button

    for (var ii=0; ii&lt;turnButtons.length; ii++) {
      button = turnButtons[ii]
      button.onclick = nextTurn
    }
  }

  <span class="new">// Code to start a new game
  function startNewGame(event) { 
    player1 = "Player 1"
    player2 = "Player 2"
    setPlayerNames()
  
    reset()
  }

  function setPlayerNames() {
    var players = document.querySelectorAll(".turns div")
    var match, player, nameField

    for (var ii=0; ii&lt;players.length; ii++) {
      player = players[ii]
      nameField = player.querySelector("p")

      if (ii === 0) {       
        active = player
        active.classList.add("active")
        active.classList.remove("enabled")
        nameField.textContent = player1

      } else {
        player.classList.remove("active")
        nameField.textContent = player2
      }
    }
  }</span>

  function reset() {
    var matches = document.querySelectorAll(".matches img.removed")

    for (var ii=0; ii&lt;matches.length; ii++) {
      var match = matches[ii]
      match.classList.remove("removed")
    }

    winnerDiv.classList.add("hidden")

    <span class="new">rowCount = 0</span>
  }

  <span class="new">// Code that runs each time a match is removed</span>
  function hideMatch(event) {
    var match = event.target
    
    if (match.nodeName !== "IMG") {
      return
    } else if (match.className === "removed") {
      return
    } else if (rowsDontMatch(match)) {
      return
    }
    
    match.classList.add("removed")
    active.classList.add("enabled")

    checkForWinner()
  }

  function rowsDontMatch(match) {
    var matchCount = match.parentElement.childElementCount
    if (rowCount) {
      if (rowCount !== matchCount) {
        return true
      }
    } else {
      rowCount = matchCount
    }

    return false
  }

  function checkForWinner() {
    var selector = ".matches img.removed"
    var removed = document.querySelectorAll(selector).length

    if (removed === 16) {
      if (winner === "You") {
        showWinner(winner+" win!")
      } else {
        showWinner(winner+" wins!")
      }
    }
  }

  showWinner = function showWinner(winner) {
    var p = winnerDiv.querySelector("p")
    p.textContent = winner
    winnerDiv.classList.remove("hidden")
  }

  <span class="new">// Code that runs when the Done button is clicked</span>
  function nextTurn() {
    if (!active.classList.contains("enabled")) {
      return
    }

    winner = active.querySelector("p").textContent

    var next = document.querySelector(".turns div:not(.active)")
    active.classList.remove("active")
    active.classList.remove("enabled")

    active = next
    active.classList.add("active")

    rowCount = 0 
  }
})()</pre>
<footer>
<ul class="nav">
<li>
<a href="#housekeeping">
<img src="../img/arrow.png" alt="next"/>
</a>
</li>
</ul>
</footer>
</section>

<!-- HOUSEKEEPING -->
<section id="housekeeping">
<h2>Housekeeping</h2>
<div class="aside preview">In this step, you'll:
<ul>
<li>Merge your gameplay branch back into the main gh-pages branch</li>
<li>Push your working game to the public GitHub.io web site</li>
</ul>
</div>
<p>It's a real achievement to have reached this point. You started with perhaps little to no knowledge of HTML, CSS, JavaScript and Git version control, and now you have a game that you can play with another human. (True, you could play the game with real matches, but you wouldn't have learned so much.</p>
<p>Now, you'll be eager to put your game online, where others can see it. To do that, you first need to merge the local gameplay branch with the main gh-pages branch. Then you need to push the merged version to the GitHub server.</p>
<h3>Working in the Terminal</h3>
<p>Here are the commands that you will need to use in the Terminal window. They should all be familiar to you.</p>
<p class="aside note">Remember that you may need to use the <code>cd&nbsp;</code> command to <em>change directory</em> to the folder where your game files are stored.</p>
<p>1. Commit your changes to the gameplay branch. This will make sure that Git knows exactly how much you have done, and stores it in the hidden <code>git</code> folder.</p>
<pre>git commit -am "Phase complete: all features for two-player game"</pre>
<p>2. Checkout the gh-pages branch. This action will replace the working two-player game with the version you had at step <a href="#button">23: The Reset button.</a>. You might like to refresh your browser to see how different your game was back then.</p>
<pre>git checkout gh-pages</pre>
<p>3. Merge in all your changes since then.</p>
<pre>git merge gameplay</pre>
<p>4. Commit the merge operation.</p>
<pre>git commit -am "Merged with gameplay"</pre>
<p>5. Push the merged version to your remote repository on GitHub:</p>
<pre>git push origin gh-pages</pre>
<p>Now you can visit your site on GitHub.io, and check that everything is working there, too.</p>
</div>
<div class="aside next">
When you're ready to start working on giving the game its artificial intelligence, click on the Next arrow below, or on item <a href="#player">37: Computer player</a> in the menu on the left.
</div>
<div class="optional trouble">
<input type="checkbox" id="merge-trouble"/>
<label for="merge-trouble">Troubleshooting </label>
<div>
<p class="aside mail">If you have any problems with this step, please <a href="https://github.com/lexogram/openbook/issues/new">tell us what happened</a> and we'll do our best to find a solution for you.</p>
</div>
</div>

<footer>
<ul class="nav">
<li>
<a href="#player">
<img src="../img/arrow.png" alt="next"/>
</a>
</li>
</ul>
</footer>
</section>

<!-- COMPUTER PLAYER -->
<section id="player">
<h2>Creating a Computer Player</h2>
<div class="aside preview">In this step, you'll learn:
<ul>
<li>How to </li>
<li></li>
</ul>
<a href="https://github.com/lexogram/openbook/blob/master/nim/Steps/step_36/step_36.zip?raw=true" target="source">Download the source files</a>
</div>
<p></p>
<footer>
<ul class="nav">
<li>
<a href="#random">
<img src="../img/arrow.png" alt="next"/>
</a>
</li>
</ul>
</footer>
</section>

<!-- RANDOM MOVES -->
<section id="random">
<h2>Making Random Moves</h2>
<div class="aside preview">In this step, you'll learn:
<ul>
<li>How to </li>
<li></li>
</ul>
<a href="https://github.com/lexogram/openbook/blob/master/nim/Steps/step_24/step_24.zip?raw=true" target="source">Download the source files</a>
</div>
<p></p>
<footer>
<ul class="nav">
<li>
<a href="#ai">
<img src="../img/arrow.png" alt="next"/>
</a>
</li>
</ul>
</footer>
</section>

<!-- INTELLIGENT MOVES -->
<section id="ai">
<h2>Making Intelligent Moves</h2>
<div class="aside preview">In this step, you'll learn:
<ul>
<li>How to </li>
<li></li>
</ul>
<a href="https://github.com/lexogram/openbook/blob/master/nim/Steps/step_24/step_24.zip?raw=true" target="source">Download the source files</a>
</div>
<p></p>
<footer>
<ul class="nav">
<li>
<a href="#final">
<img src="../img/arrow.png" alt="next"/>
</a>
</li>
</ul>
</footer>
</section>

<!-- FINAL DETAILS -->
<section id="final">
<h2>Taking Care of the Final Details</h2>
<div class="aside preview">In this step, you'll learn:
<ul>
<li>How to </li>
<li></li>
</ul>
<a href="https://github.com/lexogram/openbook/blob/master/nim/Steps/step_24/step_24.zip?raw=true" target="source">Download the source files</a>
</div>
<p></p>
<footer>
<ul class="nav">
<li>
<a href="#toggle">
<img src="../img/arrow.png" alt="next"/>
</a>
</li>
</ul>
</footer>
</section>

<!-- SHOWING THE RULES -->
<section id="toggle">
<h2>Showing the Rules</h2>
<div class="aside preview">In this step, you'll learn:
<ul>
<li>How to </li>
<li></li>
</ul>
<a href="https://github.com/lexogram/openbook/blob/master/nim/Steps/step_24/step_24.zip?raw=true" target="source">Download the source files</a>
</div>
<p></p>
<footer>
<ul class="nav">
<li>
<a href="#meta">
<img src="../img/arrow.png" alt="next"/>
</a>
</li>
</ul>
</footer>
</section>

<!-- INVISIBLE DATA -->
<section id="meta">
<h2>Invisible data</h2>
<div class="aside preview">In this step, you'll learn:
<ul>
<li>How to </li>
<li></li>
</ul>
<a href="">Download the source files</a>
</div>
<p></p>
<footer>
<ul class="nav">
<li>
<a href="#BROKEN-ON-PURPOSE">
<img src="../img/arrow.png" alt="next"/>
</a>
</li>
</ul>
</footer>
</section>


<!-- FURTHER IMPROVEMENTS -->


<!-- LAYOUT FOR DEVICES - ->
<section id="mobile">
<h2>Layout for devices</h2>
<p></p>
<footer>
<ul class="nav">
<li>
<a href="#confirm">
<img src="../img/arrow.png" alt="next"/>
</a>
</li>
</ul>
</footer>
</section>

<!-- CONFIRMATION DIALOG - ->
<section id="confirm">
<h2>Confirmation dialog</h2>
<p></p>
<footer>
<ul class="nav">
<li>
<a href="#L10N">
<img src="../img/arrow.png" alt="next"/>
</a>
</li>
</ul>
</footer>
</section>

<!-- OTHER LANGUAGES - ->
<section id="L10N">
<h2>Other languages</h2>
<p></p>
<footer>
<ul class="nav">
<li>
<a href="#undo">
<img src="../img/arrow.png" alt="next"/>
</a>
</li>
</ul>
</footer>
</section>

<!-- UNDO ACTIONS - ->
<section id="undo">
<h2>Undo actions</h2>
<p></p>
<footer>
<ul class="nav">
<li>
<a href="#drag">
<img src="../img/arrow.png" alt="next"/>
</a>
</li>
</ul>
</footer>
</section>

<!-- DRAG TO SELECT - ->
<section id="drag">
<h2>Drag to select</h2>
<p></p>
<footer>
<ul class="nav">
<li>
<a href="#auto">
<img src="../img/arrow.png" alt="next"/>
</a>
</li>
</ul>
</footer>
</section>

<!-- AUTOMATING ACTIONS - ->
<section id="auto">
<h2>Automating actions</h2>
<p></p>
<footer>
<ul class="nav">
<li>
<a href="#enter">
<img src="../img/arrow.png" alt="next"/>
</a>
</li>
</ul>
</footer>
</section>

<!-- ENTER = [ DONE ] - ->
<section id="enter">
<h2>ENTER = [ Done ]</h2>
<p></p>
<footer>
<ul class="nav">
<li>
<a href="#a11y">
<img src="../img/arrow.png" alt="next"/>
</a>
</li>
</ul>
</footer>
</section>

<!-- ACCESSIBILITY - ->
<section id="a11y">
<h2>Accessibility</h2>
<p></p>
<!--footer>
<ul class="nav">
<li>
<a href="">
<img src="../img/arrow.png" alt="next"/>
</a>
</li>
</ul>
</footer- ->
</section>

<!-- TOPIC - ->
<section id="hash">
<h2></h2>
<p></p>
<footer>
<ul class="nav">
<li>
<a href="">
<img src="../img/arrow.png" alt="next"/>
</a>
</li>
</ul>
</footer>
</section-->

<!-- OVERVIEW : SECTION 0 -->
<section id="top">
<p class="aside support top">If you have any difficulty anywhere in this tutorial, please <a href="https://github.com/lexogram/openbook/issues/new">tell us about it</a>, and we'll do our best to deal with it for you. Your questions and suggestions can help us make this tutorial better.
<h2>Overview</h2>
<p class="top">This tutorial shows you how to create a simple strategy game, where the computer will beat you every time, unless you know how to avoid the trap.</p>
<p class="top">You will be learning to write HTML, CSS and JavaScript. You will also learn how to use GitHub to save and display your work, and how to write code that tests your code. You don't need any previous knowledge of programming, but an inquisitive mind is a bonus.</p>
<p class="top aside info">You can see the completed game <a href="complete/">here</a>. You might like to try to beat the computer before you learn to write the code that will beat all other players.</p>
<div class="top aside next">
When you're ready to begin, click on the Next arrow below, or on item <a href="#html">2: Your HTML Page</a> in the menu on the left.
<p>If you want to know more about HTML, CSS, JavaScript, Git and GitHub, you can read the optional If A Web Page Were A Meal section below.</p>
</div>

<div class="optional details">
<input type="checkbox" id="top-details"/>
<label for="top-details">If a web page were a meal then...</label>
<div>
<p>
<h4>HTML</h4>
<p>HTML would be the food on your plate. HTML provides the content and the structure of the information in your web page.</p>
<p>A web page that just contains HTML can be informative, and can contain links to other pages.</p>
<h4>CSS</h4>
<p>CSS would be the way the table is laid and the way the food is presented on your plate. CSS takes care of the colour, shape and position of the HTML elements. It's what gives the page its <span class="keyword">style</span>.</p>
<p>A web page that just contains CSS is like a deserted restaurant: neat and decorative surroundings, all prepared for something to happen.</p>
<h4>JavaScript</h4>
<p>JavaScript would be the animation and conversation. JavaScript is what makes the web page come to life, with interactions, animations, cause and effect. JavaScript can connect you to other internauts in other places, making the web a social place to be.</p>
<p>A web page that just contains JavaScript can create all the HTML and CSS that it needs.</p>
<h4>Git</h4>
<p>Git would be the event organizer, discreetly ensuring that everything is going to plan.</p>
<p>A web page does not need Git to manage it. When you first start creating web pages they will be simple enough for you to keep all your ideas tidy in your head as you are working. But as your experience and your initiatives grow, you will be happy to have Git to keep track of everything for you. Working with Git right from the beginning, on your first small projects, will give you confidence that you are ready to tackle larger projects.</p>
</div>
</div>

<div class="optional tips">
<input type="checkbox" id="top-tips"/>
<label for="top-tips">Tips and Tricks</label>
<div>
<p>Everyone is a beginner at something, and has expertise in other areas. This tutorial was written with the understanding that some pages might teach you nothing new, and others might present you with a challenge.</p>
<p>In this tutorial, each page starts with the simplest instructions that you need to get to the next page. If these instructions work for you and you understand why they work, then there is no more to be said.</p>
<p>At the end of this starter section, you'll see a green box something like this:</p>
<p class="aside next">If you're ready to go on, click <span style="text-decoration: underline;">here</span> or on the Next arrow below, to go to the next page. If you want to know more, you can read the optional sections below.</p>
<p>If you can complete the entire tutorial without reading any of the optional sections below the green box, congratulations! We'd like to hear from you, so that we can feel good, too.</p>
<p>On the other hand, if you read all the optional material carefully, and you are still unable to get the instructions to work for you, then please let us know. We'll do all we can to make the instructions and explanations better.</p>
<p>It would be helpful if you can tell us:</p>
<ul>
<li>What operating system you are using (eg. Windows 8.1, Mac 10.8.5 Mountain Lion, Ubuntu Utopic Unicorn...)</li>
<li>What browser you are testing your site with (Google Chrome, Mozilla Firefox, Internet Explorer 9...)</li>
<li>What text editor you are using to write your code. (If you are using <a href="http://www.sublimetext.com/2">Sublime Text</a>, we may be able to be more helpful)</li>
<li>What version of Git you have running.</li>
<li>Where we can find your GitHub repository, so that we can see what you've done so far.</li>
<li>What's not working out for you...</li>
</ul>
<p class="aside support">If you have any difficulty anywhere in this tutorial, please do <a href="https://github.com/lexogram/openbook/issues/new">create a new issue</a> for us, and we'll do our best to deal with it for you. Keep in touch. Your questions and suggestions can help us make this tutorial better.</p>
</div>
</div>
<footer>
<ul class="nav">
<li>
<a href="#html">
<img src="../img/arrow.png" alt="next"/>
</a>
</li>
</ul>
</footer>
</section>
</article>
</main>
<script src="../js/core.js"></script>
</body>
</html>
